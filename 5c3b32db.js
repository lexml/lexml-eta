const e="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,t=(e,t,o=null)=>{for(;t!==o;){const o=t.nextSibling;e.removeChild(t),t=o}},o=`{{lit-${String(Math.random()).slice(2)}}}`,i=`\x3c!--${o}--\x3e`,r=new RegExp(`${o}|${i}`);class n{constructor(e,t){this.parts=[],this.element=t;const i=[],n=[],s=document.createTreeWalker(t.content,133,null,!1);let c=0,d=-1,p=0;const{strings:h,values:{length:f}}=e;for(;p<f;){const e=s.nextNode();if(null!==e){if(d++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:o}=t;let i=0;for(let e=0;e<o;e++)a(t[e].name,"$lit$")&&i++;for(;i-- >0;){const t=h[p],o=u.exec(t)[2],i=o.toLowerCase()+"$lit$",n=e.getAttribute(i);e.removeAttribute(i);const a=n.split(r);this.parts.push({type:"attribute",index:d,name:o,strings:a}),p+=a.length-1}}"TEMPLATE"===e.tagName&&(n.push(e),s.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(o)>=0){const o=e.parentNode,n=t.split(r),s=n.length-1;for(let t=0;t<s;t++){let i,r=n[t];if(""===r)i=l();else{const e=u.exec(r);null!==e&&a(e[2],"$lit$")&&(r=r.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),i=document.createTextNode(r)}o.insertBefore(i,e),this.parts.push({type:"node",index:++d})}""===n[s]?(o.insertBefore(l(),e),i.push(e)):e.data=n[s],p+=s}}else if(8===e.nodeType)if(e.data===o){const t=e.parentNode;null!==e.previousSibling&&d!==c||(d++,t.insertBefore(l(),e)),c=d,this.parts.push({type:"node",index:d}),null===e.nextSibling?e.data="":(i.push(e),d--),p++}else{let t=-1;for(;-1!==(t=e.data.indexOf(o,t+1));)this.parts.push({type:"node",index:-1}),p++}}else s.currentNode=n.pop()}for(const e of i)e.parentNode.removeChild(e)}}const a=(e,t)=>{const o=e.length-t.length;return o>=0&&e.slice(o)===t},s=e=>-1!==e.index,l=()=>document.createComment(""),u=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function c(e,t){const{element:{content:o},parts:i}=e,r=document.createTreeWalker(o,133,null,!1);let n=p(i),a=i[n],s=-1,l=0;const u=[];let c=null;for(;r.nextNode();){s++;const e=r.currentNode;for(e.previousSibling===c&&(c=null),t.has(e)&&(u.push(e),null===c&&(c=e)),null!==c&&l++;void 0!==a&&a.index===s;)a.index=null!==c?-1:a.index-l,n=p(i,n),a=i[n]}u.forEach((e=>e.parentNode.removeChild(e)))}const d=e=>{let t=11===e.nodeType?0:1;const o=document.createTreeWalker(e,133,null,!1);for(;o.nextNode();)t++;return t},p=(e,t=-1)=>{for(let o=t+1;o<e.length;o++){const t=e[o];if(s(t))return o}return-1};const h=new WeakMap,f=e=>"function"==typeof e&&h.has(e),m={},v={};class g{constructor(e,t,o){this.__parts=[],this.template=e,this.processor=t,this.options=o}update(e){let t=0;for(const o of this.__parts)void 0!==o&&o.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const t=e?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),o=[],i=this.template.parts,r=document.createTreeWalker(t,133,null,!1);let n,a=0,l=0,u=r.nextNode();for(;a<i.length;)if(n=i[a],s(n)){for(;l<n.index;)l++,"TEMPLATE"===u.nodeName&&(o.push(u),r.currentNode=u.content),null===(u=r.nextNode())&&(r.currentNode=o.pop(),u=r.nextNode());if("node"===n.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(u.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,n.name,n.strings,this.options));a++}else this.__parts.push(void 0),a++;return e&&(document.adoptNode(t),customElements.upgrade(t)),t}}const b=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),y=` ${o} `;class _{constructor(e,t,o,i){this.strings=e,this.values=t,this.type=o,this.processor=i}getHTML(){const e=this.strings.length-1;let t="",r=!1;for(let n=0;n<e;n++){const e=this.strings[n],a=e.lastIndexOf("\x3c!--");r=(a>-1||r)&&-1===e.indexOf("--\x3e",a+1);const s=u.exec(e);t+=null===s?e+(r?y:i):e.substr(0,s.index)+s[1]+s[2]+"$lit$"+s[3]+o}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==b&&(t=b.createHTML(t)),e.innerHTML=t,e}}const w=e=>null===e||!("object"==typeof e||"function"==typeof e),x=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class E{constructor(e,t,o){this.dirty=!0,this.element=e,this.name=t,this.strings=o,this.parts=[];for(let e=0;e<o.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new O(this)}_getValue(){const e=this.strings,t=e.length-1,o=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=o[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!x(e))return e}let i="";for(let r=0;r<t;r++){i+=e[r];const t=o[r];if(void 0!==t){const e=t.value;if(w(e)||!x(e))i+="string"==typeof e?e:String(e);else for(const t of e)i+="string"==typeof t?t:String(t)}}return i+=e[t],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class O{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===m||w(e)&&e===this.value||(this.value=e,f(e)||(this.committer.dirty=!0))}commit(){for(;f(this.value);){const e=this.value;this.value=m,e(this)}this.value!==m&&this.committer.commit()}}class A{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(l()),this.endNode=e.appendChild(l())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=l()),e.__insert(this.endNode=l())}insertAfterPart(e){e.__insert(this.startNode=l()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;f(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=m,e(this)}const e=this.__pendingValue;e!==m&&(w(e)?e!==this.value&&this.__commitText(e):e instanceof _?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):x(e)?this.__commitIterable(e):e===v?(this.value=v,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,o="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=o:this.__commitNode(document.createTextNode(o)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof g&&this.value.template===t)this.value.update(e.values);else{const o=new g(t,e.processor,this.options),i=o._clone();o.update(e.values),this.__commitNode(i),this.value=o}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let o,i=0;for(const r of e)o=t[i],void 0===o&&(o=new A(this.options),t.push(o),0===i?o.appendIntoPart(this):o.insertAfterPart(t[i-1])),o.setValue(r),o.commit(),i++;i<t.length&&(t.length=i,this.clear(o&&o.endNode))}clear(e=this.startNode){t(this.startNode.parentNode,e.nextSibling,this.endNode)}}class N{constructor(e,t,o){if(this.value=void 0,this.__pendingValue=void 0,2!==o.length||""!==o[0]||""!==o[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=o}setValue(e){this.__pendingValue=e}commit(){for(;f(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=m,e(this)}if(this.__pendingValue===m)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=m}}class P extends E{constructor(e,t,o){super(e,t,o),this.single=2===o.length&&""===o[0]&&""===o[1]}_createPart(){return new I(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class I extends O{}let T=!1;(()=>{try{const e={get capture(){return T=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class S{constructor(e,t,o){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=o,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;f(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=m,e(this)}if(this.__pendingValue===m)return;const e=this.__pendingValue,t=this.value,o=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),i=null!=e&&(null==t||o);o&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=k(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=m}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const k=e=>e&&(T?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);function C(e){let t=R.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},R.set(e.type,t));let i=t.stringsArray.get(e.strings);if(void 0!==i)return i;const r=e.strings.join(o);return i=t.keyString.get(r),void 0===i&&(i=new n(e,e.getTemplateElement()),t.keyString.set(r,i)),t.stringsArray.set(e.strings,i),i}const R=new Map,L=new WeakMap,D=(e,o,i)=>{let r=L.get(o);void 0===r&&(t(o,o.firstChild),L.set(o,r=new A(Object.assign({templateFactory:C},i))),r.appendInto(o)),r.setValue(e),r.commit()};const q=new class{handleAttributeExpressions(e,t,o,i){const r=t[0];if("."===r){return new P(e,t.slice(1),o).parts}if("@"===r)return[new S(e,t.slice(1),i.eventContext)];if("?"===r)return[new N(e,t.slice(1),o)];return new E(e,t,o).parts}handleTextExpression(e){return new A(e)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const j=(e,...t)=>new _(e,t,"html",q),M=(e,t)=>`${e}--${t}`;let U=!0;void 0===window.ShadyCSS?U=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),U=!1);const F=e=>t=>{const i=M(t.type,e);let r=R.get(i);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},R.set(i,r));let a=r.stringsArray.get(t.strings);if(void 0!==a)return a;const s=t.strings.join(o);if(a=r.keyString.get(s),void 0===a){const o=t.getTemplateElement();U&&window.ShadyCSS.prepareTemplateDom(o,e),a=new n(t,o),r.keyString.set(s,a)}return r.stringsArray.set(t.strings,a),a},B=["html","svg"],z=new Set,V=(e,t,o)=>{z.add(e);const i=o?o.element:document.createElement("template"),r=t.querySelectorAll("style"),{length:n}=r;if(0===n)return void window.ShadyCSS.prepareTemplateStyles(i,e);const a=document.createElement("style");for(let e=0;e<n;e++){const t=r[e];t.parentNode.removeChild(t),a.textContent+=t.textContent}(e=>{B.forEach((t=>{const o=R.get(M(t,e));void 0!==o&&o.keyString.forEach((e=>{const{element:{content:t}}=e,o=new Set;Array.from(t.querySelectorAll("style")).forEach((e=>{o.add(e)})),c(e,o)}))}))})(e);const s=i.content;o?function(e,t,o=null){const{element:{content:i},parts:r}=e;if(null==o)return void i.appendChild(t);const n=document.createTreeWalker(i,133,null,!1);let a=p(r),s=0,l=-1;for(;n.nextNode();)for(l++,n.currentNode===o&&(s=d(t),o.parentNode.insertBefore(t,o));-1!==a&&r[a].index===l;){if(s>0){for(;-1!==a;)r[a].index+=s,a=p(r,a);return}a=p(r,a)}}(o,a,s.firstChild):s.insertBefore(a,s.firstChild),window.ShadyCSS.prepareTemplateStyles(i,e);const l=s.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(o){s.insertBefore(a,s.firstChild);const e=new Set;e.add(a),c(o,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const H={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},Y=(e,t)=>t!==e&&(t==t||e==e),G={attribute:!0,type:String,converter:H,reflect:!1,hasChanged:Y};class $ extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach(((t,o)=>{const i=this._attributeNameForProperty(o,t);void 0!==i&&(this._attributeToPropertyMap.set(i,o),e.push(i))})),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach(((e,t)=>this._classProperties.set(t,e)))}}static createProperty(e,t=G){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const o="symbol"==typeof e?Symbol():`__${e}`,i=this.getPropertyDescriptor(e,o,t);void 0!==i&&Object.defineProperty(this.prototype,e,i)}static getPropertyDescriptor(e,t,o){return{get(){return this[t]},set(i){const r=this[e];this[t]=i,this.requestUpdateInternal(e,r,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||G}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const o of t)this.createProperty(o,e[o])}}static _attributeNameForProperty(e,t){const o=t.attribute;return!1===o?void 0:"string"==typeof o?o:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,o=Y){return o(e,t)}static _propertyValueFromAttribute(e,t){const o=t.type,i=t.converter||H,r="function"==typeof i?i:i.fromAttribute;return r?r(e,o):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const o=t.type,i=t.converter;return(i&&i.toAttribute||H.toAttribute)(e,o)}initialize(){this._updateState=0,this._updatePromise=new Promise((e=>this._enableUpdatingResolver=e)),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach(((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}}))}_applyInstanceProperties(){this._instanceProperties.forEach(((e,t)=>this[t]=e)),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,o){t!==o&&this._attributeToProperty(e,o)}_propertyToAttribute(e,t,o=G){const i=this.constructor,r=i._attributeNameForProperty(e,o);if(void 0!==r){const e=i._propertyValueToAttribute(t,o);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(r):this.setAttribute(r,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const o=this.constructor,i=o._attributeToPropertyMap.get(e);if(void 0!==i){const e=o.getPropertyOptions(i);this._updateState=16|this._updateState,this[i]=o._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}requestUpdateInternal(e,t,o){let i=!0;if(void 0!==e){const r=this.constructor;o=o||r.getPropertyOptions(e),r._valueHasChanged(this[e],t,o.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==o.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,o))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(((e,t)=>this._propertyToAttribute(t,this[t],e))),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}$.finalized=!0;const K=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:o,elements:i}=t;return{kind:o,elements:i,finisher(t){window.customElements.define(e,t)}}})(e,t),Q=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Object.assign(Object.assign({},t),{finisher(o){o.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(o){o.createProperty(t.key,e)}};function X(e){return(t,o)=>void 0!==o?((e,t,o)=>{t.constructor.createProperty(o,e)})(e,t,o):Q(e,t)}const W=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Z=Symbol();class J{constructor(e,t){if(t!==Z)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(W?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const ee=(e,...t)=>{const o=t.reduce(((t,o,i)=>t+(e=>{if(e instanceof J)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(o)+e[i+1]),e[0]);return new J(o,Z)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const te={};class oe extends ${static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const t=(e,o)=>e.reduceRight(((e,o)=>Array.isArray(o)?t(o,e):(e.add(o),e)),o),o=t(e,new Set),i=[];o.forEach((e=>i.unshift(e))),this._styles=i}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map((e=>{if(e instanceof CSSStyleSheet&&!W){const t=Array.prototype.slice.call(e.cssRules).reduce(((e,t)=>e+t.cssText),"");return new J(String(t),Z)}return e}))}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?W?this.renderRoot.adoptedStyleSheets=e.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map((e=>e.cssText)),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==te&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)})))}render(){return te}}oe.finalized=!0,oe.render=(e,o,i)=>{if(!i||"object"!=typeof i||!i.scopeName)throw new Error("The `scopeName` option is required.");const r=i.scopeName,n=L.has(o),a=U&&11===o.nodeType&&!!o.host,s=a&&!z.has(r),l=s?document.createDocumentFragment():o;if(D(e,l,Object.assign({templateFactory:F(r)},i)),s){const e=L.get(l);L.delete(l);const i=e.value instanceof g?e.value.template:void 0;V(r,l,i),t(o,o.firstChild),o.appendChild(l),L.set(o,e)}!n&&a&&window.ShadyCSS.styleElement(o.host)},function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Quill=t():e.Quill=t()}("undefined"!=typeof self?self:void 0,(function(){return function(e){var t={};function o(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=109)}([function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=o(17),r=o(18),n=o(19),a=o(45),s=o(46),l=o(47),u=o(48),c=o(49),d=o(12),p=o(32),h=o(33),f=o(31),m=o(1),v={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:r.default,Leaf:n.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:d.default,Class:p.default,Style:h.default,Store:f.default}};t.default=v},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var o=this;return t="[Parchment] "+t,(o=e.call(this,t)||this).message=t,o.name=o.constructor.name,o}return r(t,e),t}(Error);t.ParchmentError=n;var a,s={},l={},u={},c={};function d(e,t){var o;if(void 0===t&&(t=a.ANY),"string"==typeof e)o=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)o=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?o=c.block:e&a.LEVEL&a.INLINE&&(o=c.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var r in i)if(o=l[i[r]])break;o=o||u[e.tagName]}return null==o?null:t&a.LEVEL&o.scope&&t&a.TYPE&o.scope?o:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var o=d(e);if(null==o)throw new n("Unable to create "+e+" blot");var i=o,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(t);return new i(r,t)},t.find=function e(o,i){return void 0===i&&(i=!1),null==o?null:null!=o[t.DATA_KEY]?o[t.DATA_KEY].blot:i?e(o.parentNode,i):null},t.query=d,t.register=function e(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];if(t.length>1)return t.map((function(t){return e(t)}));var i=t[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new n("Invalid definition");if("abstract"===i.blotName)throw new n("Cannot register abstract class");if(c[i.blotName||i.attrName]=i,"string"==typeof i.keyName)s[i.keyName]=i;else if(null!=i.className&&(l[i.className]=i),null!=i.tagName){Array.isArray(i.tagName)?i.tagName=i.tagName.map((function(e){return e.toUpperCase()})):i.tagName=i.tagName.toUpperCase();var r=Array.isArray(i.tagName)?i.tagName:[i.tagName];r.forEach((function(e){null!=u[e]&&null!=i.className||(u[e]=i)}))}return i}},function(e,t,o){var i=o(51),r=o(11),n=o(3),a=o(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var o={};return 0===e.length?this:(o.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(o.attributes=t),this.push(o))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var o={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(o.attributes=t),this.push(o)},l.prototype.push=function(e){var t=this.ops.length,o=this.ops[t-1];if(e=n(!0,{},e),"object"==typeof o){if("number"==typeof e.delete&&"number"==typeof o.delete)return this.ops[t-1]={delete:o.delete+e.delete},this;if("number"==typeof o.delete&&null!=e.insert&&(t-=1,"object"!=typeof(o=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,o.attributes)){if("string"==typeof e.insert&&"string"==typeof o.insert)return this.ops[t-1]={insert:o.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof o.retain)return this.ops[t-1]={retain:o.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],o=[];return this.forEach((function(i){(e(i)?t:o).push(i)})),[t,o]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var o=[],i=a.iterator(this.ops),r=0;r<t&&i.hasNext();){var n;r<e?n=i.next(e-r):(n=i.next(t-r),o.push(n)),r+=a.length(n)}return new l(o)},l.prototype.compose=function(e){var t=a.iterator(this.ops),o=a.iterator(e.ops),i=[],n=o.peek();if(null!=n&&"number"==typeof n.retain&&null==n.attributes){for(var s=n.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),i.push(t.next());n.retain-s>0&&o.next(n.retain-s)}for(var u=new l(i);t.hasNext()||o.hasNext();)if("insert"===o.peekType())u.push(o.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),o.peekLength()),d=t.next(c),p=o.next(c);if("number"==typeof p.retain){var h={};"number"==typeof d.retain?h.retain=c:h.insert=d.insert;var f=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(h.attributes=f),u.push(h),!o.hasNext()&&r(u.ops[u.ops.length-1],h)){var m=new l(t.rest());return u.concat(m).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&u.push(p)}return u.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var o=[this,e].map((function(t){return t.map((function(o){if(null!=o.insert)return"string"==typeof o.insert?o.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),n=new l,u=i(o[0],o[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var o=0;switch(e[0]){case i.INSERT:o=Math.min(d.peekLength(),t),n.push(d.next(o));break;case i.DELETE:o=Math.min(t,c.peekLength()),c.next(o),n.delete(o);break;case i.EQUAL:o=Math.min(c.peekLength(),d.peekLength(),t);var s=c.next(o),l=d.next(o);r(s.insert,l.insert)?n.retain(o,a.attributes.diff(s.attributes,l.attributes)):n.push(l).delete(o)}t-=o}})),n.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var o=a.iterator(this.ops),i=new l,r=0;o.hasNext();){if("insert"!==o.peekType())return;var n=o.peek(),s=a.length(n)-o.peekLength(),u="string"==typeof n.insert?n.insert.indexOf(t,s)-s:-1;if(u<0)i.push(o.next());else if(u>0)i.push(o.next(u));else{if(!1===e(i,o.next(1).attributes||{},r))return;r+=1,i=new l}}i.length()>0&&e(i,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var o=a.iterator(this.ops),i=a.iterator(e.ops),r=new l;o.hasNext()||i.hasNext();)if("insert"!==o.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var n=Math.min(o.peekLength(),i.peekLength()),s=o.next(n),u=i.next(n);if(s.delete)continue;u.delete?r.push(u):r.retain(n,a.attributes.transform(s.attributes,u.attributes,t))}else r.retain(a.length(o.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var o=a.iterator(this.ops),i=0;o.hasNext()&&i<=e;){var r=o.peekLength(),n=o.peekType();o.next(),"delete"!==n?("insert"===n&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e},e.exports=l},function(e,t){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=o.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;for(t in e);return void 0===t||o.call(e,t)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!o.call(e,t))return;if(n)return n(e,t).value}return e[t]};e.exports=function e(){var t,o,i,r,n,c,d=arguments[0],p=1,h=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<h;++p)if(null!=(t=arguments[p]))for(o in t)i=u(d,o),d!==(r=u(t,o))&&(f&&r&&(s(r)||(n=a(r)))?(n?(n=!1,c=i&&a(i)?i:[]):c=i&&s(i)?i:{},l(d,{name:o,newValue:e(f,c,r)})):void 0!==r&&l(d,{name:o,newValue:r}));return d}},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=d(o(3)),a=d(o(2)),s=d(o(0)),l=d(o(16)),u=d(o(6)),c=d(o(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),i(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,n.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var o=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=o&&this.attributes.attribute(o,t)}},{key:"formatAt",value:function(e,t,o,i){this.format(o,i)}},{key:"insertAt",value:function(e,o,i){if("string"==typeof o&&o.endsWith("\n")){var n=s.default.create(v.blotName);this.parent.insertBefore(n,0===e?this:this.next),n.insertAt(0,o.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,o,i)}}]),t}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var v=function(e){function t(e){p(this,t);var o=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.cache={},o}return f(t,e),i(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),g(t))}),new a.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(e,o){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,o),this.cache={}}},{key:"formatAt",value:function(e,o,i,n){o<=0||(s.default.query(i,s.default.Scope.BLOCK)?e+o===this.length()&&this.format(i,n):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(o,this.length()-e-1),i,n),this.cache={})}},{key:"insertAt",value:function(e,o,i){if(null!=i)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,o,i);if(0!==o.length){var n=o.split("\n"),a=n.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;n.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,o){var i=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,o),i instanceof l.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,o){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,o),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,o);return this.cache={},n}}]),t}(s.default.Block);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,n.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:g(e.parent,t))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[u.default,s.default.Embed,c.default],t.bubbleFormats=g,t.BlockEmbed=m,t.default=v},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();o(50);var a=v(o(2)),s=v(o(14)),l=v(o(8)),u=v(o(9)),c=v(o(0)),d=o(15),p=v(d),h=v(o(3)),f=v(o(10)),m=v(o(34));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=(0,f.default)("quill"),_=function(){function e(t){var o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(this,e),this.options=w(t,i),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&o.root.classList.toggle("ql-blank",o.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var i=o.selection.lastRange,r=i&&0===i.length?i.index:void 0;x.call(o,(function(){return o.editor.update(null,t,r)}),e)}));var n=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(n),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return n(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var o=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(i){o.register(i,e[i],t)}))}else null==this.imports[e]||i||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),n(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var o=e;(e=document.createElement("div")).classList.add(o)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,o){var i=this,n=E(e,t,o),a=r(n,4);return e=a[0],t=a[1],o=a[3],x.call(this,(function(){return i.editor.deleteText(e,t)}),o,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return x.call(this,(function(){var i=o.getSelection(!0),r=new a.default;if(null==i)return r;if(c.default.query(e,c.default.Scope.BLOCK))r=o.editor.formatLine(i.index,i.length,g({},e,t));else{if(0===i.length)return o.selection.format(e,t),r;r=o.editor.formatText(i.index,i.length,g({},e,t))}return o.setSelection(i,l.default.sources.SILENT),r}),i)}},{key:"formatLine",value:function(e,t,o,i,n){var a,s=this,l=E(e,t,o,i,n),u=r(l,4);return e=u[0],t=u[1],a=u[2],n=u[3],x.call(this,(function(){return s.editor.formatLine(e,t,a)}),n,e,0)}},{key:"formatText",value:function(e,t,o,i,n){var a,s=this,l=E(e,t,o,i,n),u=r(l,4);return e=u[0],t=u[1],a=u[2],n=u[3],x.call(this,(function(){return s.editor.formatText(e,t,a)}),n,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=void 0;o="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:o.bottom-i.top,height:o.height,left:o.left-i.left,right:o.right-i.left,top:o.top-i.top,width:o.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,o=E(e,t),i=r(o,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,o=E(e,t),i=r(o,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,o,i){var r=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return x.call(this,(function(){return r.editor.insertEmbed(t,o,i)}),n,t)}},{key:"insertText",value:function(e,t,o,i,n){var a,s=this,l=E(e,0,o,i,n),u=r(l,4);return e=u[0],a=u[2],n=u[3],x.call(this,(function(){return s.editor.insertText(e,t,a)}),n,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,o){this.clipboard.dangerouslyPasteHTML(e,t,o)}},{key:"removeFormat",value:function(e,t,o){var i=this,n=E(e,t,o),a=r(n,4);return e=a[0],t=a[1],o=a[3],x.call(this,(function(){return i.editor.removeFormat(e,t)}),o,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return x.call(this,(function(){e=new a.default(e);var o=t.getLength(),i=t.editor.deleteText(0,o),r=t.editor.applyDelta(e),n=r.ops[r.ops.length-1];return null!=n&&"string"==typeof n.insert&&"\n"===n.insert[n.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),i.compose(r)}),o)}},{key:"setSelection",value:function(t,o,i){if(null==t)this.selection.setRange(null,o||e.sources.API);else{var n=E(t,o,i),a=r(n,4);t=a[0],o=a[1],i=a[3],this.selection.setRange(new d.Range(t,o),i),i!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,o=(new a.default).insert(e);return this.setContents(o,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return x.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,o)}),o,!0)}}]),e}();function w(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==_.DEFAULTS.theme){if(t.theme=_.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var o=(0,h.default)(!0,{},t.theme.DEFAULTS);[o,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var i=Object.keys(o.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var o=_.import("modules/"+t);return null==o?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=o.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},_.DEFAULTS,{modules:i},o,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,o){return t.modules[o]&&(e[o]=t.modules[o]),e}),{}),t}function x(e,t,o,i){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new a.default;var r=null==o?null:this.getSelection(),n=this.editor.delta,s=e();if(null!=r&&(!0===o&&(o=r.index),null==i?r=O(r,s,t):0!==i&&(r=O(r,o,i,t)),this.setSelection(r,l.default.sources.SILENT)),s.length()>0){var u,c,d=[l.default.events.TEXT_CHANGE,s,n,t];if((u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT)(c=this.emitter).emit.apply(c,d)}return s}function E(e,t,o,r,n){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(n=r,r=o,o=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(n=r,r=o,o=t,t=0),"object"===(void 0===o?"undefined":i(o))?(a=o,n=r):"string"==typeof o&&(null!=r?a[o]=r:n=o),[e,t,a,n=n||l.default.sources.API]}function O(e,t,o,i){if(null==e)return null;var n=void 0,s=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,i!==l.default.sources.USER)})),c=r(u,2);n=c[0],s=c[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&i===l.default.sources.USER?e:o>=0?e+o:Math.max(t,e+o)})),h=r(p,2);n=h[0],s=h[1]}return new d.Range(n,s-n)}_.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},_.events=l.default.events,_.sources=l.default.sources,_.version="1.3.7",_.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":m.default},t.expandConfig=w,t.overload=E,t.default=_},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=s(o(7)),a=s(o(0));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"formatAt",value:function(e,o,i,n){if(t.compare(this.statics.blotName,i)<0&&a.default.query(i,a.default.Scope.BLOT)){var s=this.isolate(e,o);n&&s.wrap(i,n)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,o,i,n)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var o=this.parent.isolate(this.offset(),this.length());this.moveChildren(o),o.wrap(this)}}}],[{key:"compare",value:function(e,o){var i=t.order.indexOf(e),r=t.order.indexOf(o);return i>=0||r>=0?i-r:e===o?0:e<o?-1:1}}]),t}(a.default.Inline);c.allowedChildren=[c,a.default.Embed,n.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=c},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(0);function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default.Text);t.default=s},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=a(o(54));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,a(o(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var o;e.__quill&&e.__quill.emitter&&(o=e.__quill.emitter).handleDOM.apply(o,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"emit",value:function(){s.log.apply(s,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach((function(t){var i=t.node,r=t.handler;(e.target===i||i.contains(e.target))&&r.apply(void 0,[e].concat(o))}))}},{key:"listenDOM",value:function(e,t,o){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:o})}}]),t}(n.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,o){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.quill=t,this.options=o};r.DEFAULTS={},t.default=r},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function n(e){if(i.indexOf(e)<=i.indexOf(r)){for(var t,o=arguments.length,n=Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];(t=console)[e].apply(t,n)}}function a(e){return i.reduce((function(t,o){return t[o]=n.bind(console,o,e),t}),{})}n.level=a.level=function(e){r=e},t.default=a},function(e,t,o){var i=Array.prototype.slice,r=o(52),n=o(53),a=e.exports=function(e,t,o){return o||(o={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?o.strict?e===t:e==t:function(e,t,o){var u,c;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(n(e))return!!n(t)&&(e=i.call(e),t=i.call(t),a(e,t,o));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=r(e),p=r(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),u=d.length-1;u>=0;u--)if(d[u]!=p[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],o))return!1;return typeof e==typeof t}(e,t,o))};function s(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),r=function(){function e(e,t,o){void 0===o&&(o={}),this.attrName=e,this.keyName=t;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=o.scope?this.scope=o.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=o.whitelist&&(this.whitelist=o.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=d(o(2)),s=d(o(0)),l=d(o(4)),u=d(o(6)),c=d(o(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(u.default);m.blotName="code",m.tagName="CODE";var v=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,o){return t.insert(o).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,o){if(e!==this.statics.blotName||!o){var r=this.descendant(c.default,this.length()-1),a=i(r,1)[0];null!=a&&a.deleteAt(a.length()-1,1),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o)}}},{key:"formatAt",value:function(e,o,i,r){if(0!==o&&null!=s.default.query(i,s.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var n=this.newlineIndex(e);if(!(n<0||n>=e+o)){var a=this.newlineIndex(e,!0)+1,l=n-a+1,u=this.isolate(a,l),c=u.next;u.format(i,r),c instanceof t&&c.formatAt(0,e-a+o-l,i,r)}}}},{key:"insertAt",value:function(e,t,o){if(null==o){var r=this.descendant(c.default,e),n=i(r,2),a=n[0],s=n[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var o=this.domNode.textContent.slice(e).indexOf("\n");return o>-1?e+o:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var o=this.next;null!=o&&o.prev===this&&o.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===o.statics.formats(o.domNode)&&(o.optimize(e),o.moveChildren(this),o.remove())}},{key:"replace",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var o=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return o.setAttribute("spellcheck",!1),o}},{key:"formats",value:function(){return!0}}]),t}(l.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",t.Code=m,t.default=v},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=g(o(2)),s=g(o(20)),l=g(o(0)),u=g(o(13)),c=g(o(24)),d=o(4),p=g(d),h=g(o(16)),f=g(o(21)),m=g(o(11)),v=g(o(3));function g(e){return e&&e.__esModule?e:{default:e}}var b=/^[ -~]*$/,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return n(e,[{key:"applyDelta",value:function(e){var t=this,o=!1;this.scroll.update();var n=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var o=(0,f.default)(t.attributes);return delete o.image,e.insert({image:t.attributes.image},o)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)}),new a.default)}(e)).reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var h=a.insert;h.endsWith("\n")&&o&&(o=!1,h=h.slice(0,-1)),e>=n&&!h.endsWith("\n")&&(o=!0),t.scroll.insertAt(e,h);var f=t.scroll.line(e),m=r(f,2),g=m[0],b=m[1],y=(0,v.default)({},(0,d.bubbleFormats)(g));if(g instanceof p.default){var _=g.descendant(l.default.Leaf,b),w=r(_,1)[0];y=(0,v.default)(y,(0,d.bubbleFormats)(w))}c=s.default.attributes.diff(y,c)||{}}else if("object"===i(a.insert)){var x=Object.keys(a.insert)[0];if(null==x)return e;t.scroll.insertAt(e,x,a.insert[x])}n+=u}return Object.keys(c).forEach((function(o){t.scroll.formatAt(e,u,o,c[o])})),e+u}),0),e.reduce((function(e,o){return"number"==typeof o.delete?(t.scroll.deleteAt(e,o.delete),e):e+(o.retain||o.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(r){if(null==o.scroll.whitelist||o.scroll.whitelist[r]){var n=o.scroll.lines(e,Math.max(t,1)),a=t;n.forEach((function(t){var n=t.length();if(t instanceof u.default){var s=e-t.offset(o.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,r,i[r])}else t.format(r,i[r]);a-=n}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"formatText",value:function(e,t){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(r){o.scroll.formatAt(e,t,r,i[r])})),this.update((new a.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=[],i=[];0===t?this.scroll.path(e).forEach((function(e){var t=r(e,1)[0];t instanceof p.default?o.push(t):t instanceof l.default.Leaf&&i.push(t)})):(o=this.scroll.lines(e,t),i=this.scroll.descendants(l.default.Leaf,e,t));var n=[o,i].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var o=e.shift();if(null==o)return t;t=_((0,d.bubbleFormats)(o),t)}return t}));return v.default.apply(v.default,n)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,o){return this.scroll.insertAt(e,t,o),this.update((new a.default).retain(e).insert(function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},t,o)))}},{key:"insertText",value:function(e,t){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach((function(r){o.scroll.formatAt(e,t.length,r,i[r])})),this.update((new a.default).retain(e).insert(t,(0,f.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&(!(e.children.length>1)&&e.children.head instanceof h.default)}},{key:"removeFormat",value:function(e,t){var o=this.getText(e,t),i=this.scroll.line(e+t),n=r(i,2),s=n[0],l=n[1],c=0,d=new a.default;null!=s&&(c=s instanceof u.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+c-1).insert("\n"));var p=this.getContents(e,t+c).diff((new a.default).insert(o).concat(d)),h=(new a.default).retain(e).concat(p);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(b)&&l.default.find(t[0].target)){var r=l.default.find(t[0].target),n=(0,d.bubbleFormats)(r),s=r.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),p=(new a.default).insert(u),h=(new a.default).insert(r.value()),f=(new a.default).retain(s).concat(p.diff(h,o));e=f.reduce((function(e,t){return t.insert?e.insert(t.insert,n):e.push(t)}),new a.default),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(i.compose(e),this.delta)||(e=i.diff(this.delta,o));return e}}]),e}();function _(e,t){return Object.keys(t).reduce((function(o,i){return null==e[i]||(t[i]===e[i]?o[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(o[i]=t[i].concat([e[i]])):o[i]=[t[i],e[i]]),o}),{})}t.default=y},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=u(o(0)),a=u(o(21)),s=u(o(11)),l=u(o(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,u(o(10)).default)("quill:selection"),h=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=o},f=function(){function e(t,o){var i=this;d(this,e),this.emitter=o,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=n.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&i.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var o=t.range,r=o.startNode,n=o.startOffset,a=o.endNode,s=o.endOffset;i.setNativeRange(r,n,a,s)}})),this.update(l.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var o=this.getNativeRange();if(null!=o&&o.native.collapsed&&!n.default.query(e,n.default.Scope.BLOCK)){if(o.start.node!==this.cursor.textNode){var i=n.default.find(o.start.node,!1);if(null==i)return;if(i instanceof n.default.Leaf){var r=i.split(o.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,o.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.scroll.length();e=Math.min(e,o-1),t=Math.min(e+t,o-1)-e;var r=void 0,n=this.scroll.leaf(e),a=i(n,2),s=a[0],l=a[1];if(null==s)return null;var u=s.position(l,!0),c=i(u,2);r=c[0],l=c[1];var d=document.createRange();if(t>0){d.setStart(r,l);var p=this.scroll.leaf(e+t),h=i(p,2);if(s=h[0],l=h[1],null==s)return null;var f=s.position(l,!0),m=i(f,2);return r=m[0],l=m[1],d.setEnd(r,l),d.getBoundingClientRect()}var v="left",g=void 0;return r instanceof Text?(l<r.data.length?(d.setStart(r,l),d.setEnd(r,l+1)):(d.setStart(r,l-1),d.setEnd(r,l),v="right"),g=d.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),l>0&&(v="right")),{bottom:g.top+g.height,height:g.height,left:g[v],right:g[v],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var o=this.normalizeNative(t);return p.info("getNativeRange",o),o}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,o=[[e.start.node,e.start.offset]];e.native.collapsed||o.push([e.end.node,e.end.offset]);var r=o.map((function(e){var o=i(e,2),r=o[0],a=o[1],s=n.default.find(r,!0),l=s.offset(t.scroll);return 0===a?l:s instanceof n.default.Container?l+s.length():l+s.index(r,a)})),a=Math.min(Math.max.apply(Math,c(r)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(c(r)));return new h(s,a-s)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,o=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>o)t=t.childNodes[o],o=0;else{if(t.childNodes.length!==o)break;o=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=o})),t}},{key:"rangeToNative",value:function(e){var t=this,o=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],n=this.scroll.length();return o.forEach((function(e,o){e=Math.min(n-1,e);var a,s=t.scroll.leaf(e),l=i(s,2),u=l[0],c=l[1],d=u.position(c,0!==o),p=i(d,2);a=p[0],c=p[1],r.push(a,c)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var o=this.getBounds(t.index,t.length);if(null!=o){var r=this.scroll.length()-1,n=this.scroll.line(Math.min(t.index,r)),a=i(n,1)[0],s=a;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,r));s=i(l,1)[0]}if(null!=a&&null!=s){var u=e.getBoundingClientRect();o.top<u.top?e.scrollTop-=u.top-o.top:o.bottom>u.bottom&&(e.scrollTop+=o.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,o,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=o.parentNode){var n=document.getSelection();if(null!=n)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||r||e!==a.startContainer||t!==a.startOffset||o!==a.endContainer||i!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==o.tagName&&(i=[].indexOf.call(o.parentNode.childNodes,o),o=o.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(o,i),n.removeAllRanges(),n.addRange(s)}}else n.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(o=t,t=!1),p.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,c(i).concat([t]))}else this.setNativeRange(null);this.update(o)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,o=this.getRange(),r=i(o,2),n=r[0],u=r[1];if(this.lastRange=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];if((c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(p)),e!==l.default.sources.SILENT)(d=this.emitter).emit.apply(d,p)}}}]),e}();function m(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=f},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,o){0===e.children.length?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default.Embed);u.blotName="break",u.tagName="BR",t.default=u},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=o(44),a=o(30),s=o(1),l=function(e){function t(t){var o=e.call(this,t)||this;return o.build(),o}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new n.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var o=u(t);e.insertBefore(o,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,o){e.deleteAt(t,o)}))},t.prototype.descendant=function(e,o){var i=this.children.find(o),r=i[0],n=i[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,n]:r instanceof t?r.descendant(e,n):[null,-1]},t.prototype.descendants=function(e,o,i){void 0===o&&(o=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],n=i;return this.children.forEachAt(o,i,(function(o,i,a){(null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e)&&r.push(o),o instanceof t&&(r=r.concat(o.descendants(e,i,n))),n-=a})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,o,i){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,o,i)}))},t.prototype.insertAt=function(e,t,o){var i=this.children.find(e),r=i[0],n=i[1];if(r)r.insertAt(n,t,o);else{var a=null==o?s.create("text",t):s.create(t,o);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(o){e.insertBefore(o,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var o=s.create(this.statics.defaultChild);this.appendChild(o),o.optimize(t)}else this.remove()},t.prototype.path=function(e,o){void 0===o&&(o=!1);var i=this.children.find(e,o),r=i[0],n=i[1],a=[[this,e]];return r instanceof t?a.concat(r.path(n,o)):(null!=r&&a.push([r,n]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(o){o instanceof t&&o.moveChildren(this),e.prototype.replace.call(this,o)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var o=this.clone();return this.parent.insertBefore(o,this.next),this.children.forEachAt(e,this.length(),(function(e,i,r){e=e.split(i,t),o.appendChild(e)})),o},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var o=this,i=[],r=[];e.forEach((function(e){e.target===o.domNode&&"childList"===e.type&&(i.push.apply(i,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==o.domNode||t.detach())}})),i.filter((function(e){return e.parentNode==o.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var i=u(e);i.next==t&&null!=i.next||(null!=i.parent&&i.parent.removeChild(o),o.insertBefore(i,t||void 0))}))},t}(a.default);function u(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(o){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=o(12),a=o(31),s=o(17),l=o(1),u=function(e){function t(t){var o=e.call(this,t)||this;return o.attributes=new a.default(o.domNode),o}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var o=l.query(e);o instanceof n.default?this.attributes.attribute(o,t):t&&(null==o||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,o){var i=e.prototype.replaceWith.call(this,t,o);return this.attributes.copy(i),i},t.prototype.update=function(t,o){var i=this;e.prototype.update.call(this,t,o),t.some((function(e){return e.target===i.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(o,i){var r=e.prototype.wrap.call(this,o,i);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(s.default);t.default=u},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=o(30),a=o(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var o=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(o+=1),[this.parent.domNode,o]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(n.default);t.default=s},function(e,t,o){var i=o(11),r=o(3),n={attributes:{compose:function(e,t,o){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=r(!0,{},t);for(var n in o||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[n]&&void 0===t[n]&&(i[n]=e[n]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var o=Object.keys(e).concat(Object.keys(t)).reduce((function(o,r){return i(e[r],t[r])||(o[r]=void 0===t[r]?null:t[r]),o}),{});return Object.keys(o).length>0?o:void 0},transform:function(e,t,o){if("object"!=typeof e)return t;if("object"==typeof t){if(!o)return t;var i=Object.keys(t).reduce((function(o,i){return void 0===e[i]&&(o[i]=t[i]),o}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var o=this.offset,i=n.length(t);if(e>=i-o?(e=i-o,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(o,e):r.insert=t.insert,r}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?n.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,o=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[o].concat(i)}return[]},e.exports=n},function(e,t){var o=function(){function e(e,t){return null!=t&&e instanceof t}var t,o,i;try{t=Map}catch(e){t=function(){}}try{o=Set}catch(e){o=function(){}}try{i=Promise}catch(e){i=function(){}}function r(n,s,l,u,c){"object"==typeof s&&(l=s.depth,u=s.prototype,c=s.includeNonEnumerable,s=s.circular);var d=[],p=[],h="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function n(l,f){if(null===l)return null;if(0===f)return l;var m,v;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,o))m=new o;else if(e(l,i))m=new i((function(e,t){l.then((function(t){e(n(t,f-1))}),(function(e){t(n(e,f-1))}))}));else if(r.__isArray(l))m=[];else if(r.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(r.__isDate(l))m=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===u?(v=Object.getPrototypeOf(l),m=Object.create(v)):(m=Object.create(u),v=u)}if(s){var g=d.indexOf(l);if(-1!=g)return p[g];d.push(l),p.push(m)}for(var b in e(l,t)&&l.forEach((function(e,t){var o=n(t,f-1),i=n(e,f-1);m.set(o,i)})),e(l,o)&&l.forEach((function(e){var t=n(e,f-1);m.add(t)})),l){var y;v&&(y=Object.getOwnPropertyDescriptor(v,b)),y&&null==y.set||(m[b]=n(l[b],f-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(l);for(b=0;b<_.length;b++){var w=_[b];(!(E=Object.getOwnPropertyDescriptor(l,w))||E.enumerable||c)&&(m[w]=n(l[w],f-1),E.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(c){var x=Object.getOwnPropertyNames(l);for(b=0;b<x.length;b++){var E,O=x[b];(E=Object.getOwnPropertyDescriptor(l,O))&&E.enumerable||(m[O]=n(l[O],f-1),Object.defineProperty(m,O,{enumerable:!1}))}}return m}(n,l)}function n(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=n,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===n(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===n(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===n(e)},r.__getRegExpFlags=a,r}();"object"==typeof e&&e.exports&&(e.exports=o)},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=h(o(0)),s=h(o(8)),l=o(4),u=h(l),c=h(o(16)),d=h(o(13)),p=h(o(25));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof u.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.emitter=o.emitter,Array.isArray(o.whitelist)&&(i.whitelist=o.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,o){var r=this.line(e),a=i(r,2),s=a[0],u=a[1],p=this.line(e+o),h=i(p,1)[0];if(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,o),null!=h&&s!==h&&u>0){if(s instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===h)return void this.optimize()}else if(h instanceof d.default){var m=h.newlineIndex(0);m>-1&&h.split(m+1)}var v=h.children.head instanceof c.default?null:h.children.head;s.moveChildren(h,v),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,o,i,r){(null==this.whitelist||this.whitelist[i])&&(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,o,i,r),this.optimize())}},{key:"insertAt",value:function(e,o,i){if(null==i||null==this.whitelist||this.whitelist[o]){if(e>=this.length())if(null==i||null==a.default.query(o,a.default.Scope.BLOCK)){var r=a.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&o.endsWith("\n")&&(o=o.slice(0,-1)),r.insertAt(0,o,i)}else{var s=a.default.create(o,i);this.appendChild(s)}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,o,i);this.optimize()}}},{key:"insertBefore",value:function(e,o){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var i=a.default.create(this.statics.defaultChild);i.appendChild(e),e=i}n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,o)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,o=function e(t,o,i){var r=[],n=i;return t.children.forEachAt(o,i,(function(t,o,i){f(t)?r.push(t):t instanceof a.default.Container&&(r=r.concat(e(t,o,n))),n-=i})),r};return o(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,o),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,o))}},{key:"path",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var o=s.default.sources.USER;"string"==typeof e&&(o=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,o,e),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,o,e)}}}]),t}(a.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[u.default,l.BlockEmbed,p.default],t.default=m},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=m(o(21)),s=m(o(11)),l=m(o(3)),u=m(o(2)),c=m(o(20)),d=m(o(0)),p=m(o(5)),h=m(o(10)),f=m(o(9));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var g=(0,h.default)("quill:keyboard"),b=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.bindings={},Object.keys(i.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&i.options.bindings[t]&&i.addBinding(i.options.bindings[t])})),i.addBinding({key:t.keys.ENTER,shiftKey:null},O),i.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),i.addBinding({key:t.keys.DELETE},{collapsed:!0},x)):(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),i.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},x)),i.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},E),i.addBinding({key:t.keys.DELETE},{collapsed:!1},E),i.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),i.listen(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"match",value:function(e,t){return t=P(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(o){return!!t[o]!==e[o]&&null!==t[o]}))&&t.key===(e.which||e.keyCode)}}]),n(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=P(e);if(null==i||null==i.key)return g.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof o&&(o={handler:o}),i=(0,l.default)(i,t,o),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(o){if(!o.defaultPrevented){var n=o.which||o.keyCode,a=(e.bindings[n]||[]).filter((function(e){return t.match(o,e)}));if(0!==a.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var u=e.quill.getLine(l.index),c=r(u,2),p=c[0],h=c[1],f=e.quill.getLeaf(l.index),m=r(f,2),v=m[0],g=m[1],b=0===l.length?[v,g]:e.quill.getLeaf(l.index+l.length),y=r(b,2),_=y[0],w=y[1],x=v instanceof d.default.Text?v.value().slice(0,g):"",E=_ instanceof d.default.Text?_.value().slice(w):"",O={collapsed:0===l.length,empty:0===l.length&&p.length()<=1,format:e.quill.getFormat(l),offset:h,prefix:x,suffix:E};a.some((function(t){if(null!=t.collapsed&&t.collapsed!==O.collapsed)return!1;if(null!=t.empty&&t.empty!==O.empty)return!1;if(null!=t.offset&&t.offset!==O.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==O.format[e]})))return!1}else if("object"===i(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=O.format[e]:!1===t.format[e]?null==O.format[e]:(0,s.default)(t.format[e],O.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(O.prefix))&&(!(null!=t.suffix&&!t.suffix.test(O.suffix))&&!0!==t.handler.call(e,l,O))}))&&o.preventDefault()}}}}))}}]),t}(f.default);function _(e,t){var o,i=e===y.keys.LEFT?"prefix":"suffix";return v(o={key:e,shiftKey:t,altKey:null},i,/^$/),v(o,"handler",(function(o){var i=o.index;e===y.keys.RIGHT&&(i+=o.length+1);var n=this.quill.getLeaf(i);return!(r(n,1)[0]instanceof d.default.Embed)||(e===y.keys.LEFT?t?this.quill.setSelection(o.index-1,o.length+1,p.default.sources.USER):this.quill.setSelection(o.index-1,p.default.sources.USER):t?this.quill.setSelection(o.index,o.length+1,p.default.sources.USER):this.quill.setSelection(o.index+o.length+1,p.default.sources.USER),!1)})),o}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var o=this.quill.getLine(e.index),i=r(o,1)[0],n={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=r(a,1)[0];if(null!=s&&s.length()>1){var l=i.formats(),u=this.quill.getFormat(e.index-1,1);n=c.default.attributes.diff(l,u)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index-d,d,n,p.default.sources.USER),this.quill.focus()}}function x(e,t){var o=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-o)){var i={},n=0,a=this.quill.getLine(e.index),s=r(a,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),u=r(l,1)[0];if(u){var d=s.formats(),h=this.quill.getFormat(e.index,1);i=c.default.attributes.diff(d,h)||{},n=u.length()}}this.quill.deleteText(e.index,o,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+n-1,o,i,p.default.sources.USER)}}function E(e){var t=this.quill.getLines(e),o={};if(t.length>1){var i=t[0].formats(),r=t[t.length-1].formats();o=c.default.attributes.diff(r,i)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index,1,o,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function O(e,t){var o=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce((function(e,o){return d.default.query(o,d.default.Scope.BLOCK)&&!Array.isArray(t.format[o])&&(e[o]=t.format[o]),e}),{});this.quill.insertText(e.index,"\n",i,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&o.quill.format(e,t.format[e],p.default.sources.USER))}))}function A(e){return{key:y.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var o=d.default.query("code-block"),i=t.index,n=t.length,a=this.quill.scroll.descendant(o,i),s=r(a,2),l=s[0],u=s[1];if(null!=l){var c=this.quill.getIndex(l),h=l.newlineIndex(u,!0)+1,f=l.newlineIndex(c+u+n),m=l.domNode.textContent.slice(h,f).split("\n");u=0,m.forEach((function(t,r){e?(l.insertAt(h+u,o.TAB),u+=o.TAB.length,0===r?i+=o.TAB.length:n+=o.TAB.length):t.startsWith(o.TAB)&&(l.deleteAt(h+u,o.TAB.length),u-=o.TAB.length,0===r?i-=o.TAB.length:n-=o.TAB.length),u+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(i,n,p.default.sources.SILENT)}}}}function N(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,o){this.quill.format(e,!o.format[e],p.default.sources.USER)}}}function P(e){if("string"==typeof e||"number"==typeof e)return P({key:e});if("object"===(void 0===e?"undefined":i(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=y.keys[e.key.toUpperCase()])e.key=y.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[b]=e.shortKey,delete e.shortKey),e}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:N("bold"),italic:N("italic"),underline:N("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":A(!0),"outdent code-block":A(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),o=r(t,2),i=o[0],n=o[1],a=(0,l.default)({},i.formats(),{list:"checked"}),s=(new u.default).retain(e.index).insert("\n",a).retain(i.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var o=this.quill.getLine(e.index),i=r(o,2),n=i[0],a=i[1],s=(new u.default).retain(e.index).insert("\n",t.format).retain(n.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var o=t.prefix.length,i=this.quill.getLine(e.index),n=r(i,2),a=n[0],s=n[1];if(s>o)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-s).delete(o+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(c,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-o,p.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),o=r(t,2),i=o[0],n=o[1],a=(new u.default).retain(e.index+i.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":_(y.keys.LEFT,!1),"embed left shift":_(y.keys.LEFT,!0),"embed right":_(y.keys.RIGHT,!1),"embed right shift":_(y.keys.RIGHT,!0)}},t.default=y,t.SHORTKEY=b},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=l(o(0)),s=l(o(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.selection=o,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"value",value:function(){}}]),n(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,o){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o);for(var i=this,n=0;null!=i&&i.statics.scope!==a.default.Scope.BLOCK_BLOT;)n+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=t.CONTENTS.length,i.optimize(),i.formatAt(n,t.CONTENTS.length,e,o),this._length=0)}},{key:"index",value:function(e,o){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,o)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,o=this.selection.getNativeRange(),r=void 0,n=void 0,l=void 0;if(null!=o&&o.start.node===e&&o.end.node===e){var u=[e,o.start.offset,o.end.offset];r=u[0],n=u[1],l=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(r=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=n){var d=[n,l].map((function(e){return Math.max(0,Math.min(r.data.length,e-1))})),p=i(d,2);return n=p[0],l=p[1],{startNode:r,startOffset:n,endNode:r,endOffset:l}}}}},{key:"update",value:function(e,t){var o=this;if(e.some((function(e){return"characterData"===e.type&&e.target===o.textNode}))){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}]),t}(a.default.Embed);u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",t.default=u},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=a(o(0)),r=o(4),n=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default.Container);u.allowedChildren=[n.default,r.BlockEmbed,u],t.default=u},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0),s=(i=a)&&i.__esModule?i:{default:i};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var o=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return o.startsWith("rgb(")?(o=o.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+o.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):o}}]),t}(s.default.Attributor.Style),d=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),p=new c("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=c,t.ColorClass=d,t.ColorStyle=p},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,o){if(e!==this.statics.blotName||!o)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o);o=this.constructor.sanitize(o),this.domNode.setAttribute("href",o)}}],[{key:"create",value:function(e){var o=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),o.setAttribute("href",e),o.setAttribute("rel","noopener noreferrer"),o.setAttribute("target","_blank"),o}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return c(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);function c(e,t){var o=document.createElement("a");o.href=e;var i=o.href.slice(0,o.href.indexOf(":"));return t.indexOf(i)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=u,t.sanitize=c},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=s(o(23)),a=s(o(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){o.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case n.default.keys.ENTER:o.togglePicker();break;case n.default.keys.ESCAPE:o.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,o=document.createElement("span");return o.tabIndex="0",o.setAttribute("role","button"),o.classList.add("ql-picker-item"),e.hasAttribute("value")&&o.setAttribute("data-value",e.getAttribute("value")),e.textContent&&o.setAttribute("data-label",e.textContent),o.addEventListener("click",(function(){t.selectItem(o,!0)})),o.addEventListener("keydown",(function(e){switch(e.keyCode){case n.default.keys.ENTER:t.selectItem(o,!0),e.preventDefault();break;case n.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),o}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(o){var i=e.buildItem(o);t.appendChild(i),!0===o.selected&&e.selectItem(i)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.container.querySelector(".ql-selected");if(e!==o&&(null!=o&&o.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var o=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",o)}}]),e}();t.default=c},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=g(o(0)),r=g(o(5)),n=o(4),a=g(n),s=g(o(16)),l=g(o(25)),u=g(o(24)),c=g(o(35)),d=g(o(6)),p=g(o(22)),h=g(o(7)),f=g(o(55)),m=g(o(42)),v=g(o(23));function g(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":a.default,"blots/block/embed":n.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":h.default,"modules/clipboard":f.default,"modules/history":m.default,"modules/keyboard":v.default}),i.default.register(a.default,s.default,u.default,d.default,p.default,h.default),t.default=r.default},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),r=function(){function e(e){this.domNode=e,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,o,r){var n=this.isolate(e,t);if(null!=i.query(o,i.Scope.BLOT)&&r)n.wrap(o,r);else if(null!=i.query(o,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);n.wrap(a),a.format(o,r)}},e.prototype.insertAt=function(e,t,o){var r=null==o?i.create("text",t):i.create(t,o),n=this.split(e);this.parent.insertBefore(r,n)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var o=null;e.children.insertBefore(this,t),null!=t&&(o=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==o||e.domNode.insertBefore(this.domNode,o),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var o=this.split(e);return o.split(t),o},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var o="string"==typeof e?i.create(e,t):e;return o.replace(this),o},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var o="string"==typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(o,this.next),o.appendChild(this),o},e.blotName="abstract",e}();t.default=r},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=o(12),r=o(32),n=o(33),a=o(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),o=r.default.keys(this.domNode),s=n.default.keys(this.domNode);t.concat(o).concat(s).forEach((function(t){var o=a.query(t,a.Scope.ATTRIBUTE);o instanceof i.default&&(e.attributes[o.attrName]=o)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(o){var i=t.attributes[o].value(t.domNode);e.format(o,i)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,o){return t[o]=e.attributes[o].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function n(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){n(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(n(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(o(12).default);t.default=a},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function n(e){var t=e.split("-"),o=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+o}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[n(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[n(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[n(this.keyName)];return this.canAdd(e,t)?t:""},t}(o(12).default);t.default=a},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();var r=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=o,this.modules={}}return i(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=s(o(0)),a=s(o(7));function s(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.contentNode=document.createElement("span"),o.contentNode.setAttribute("contenteditable",!1),[].slice.call(o.domNode.childNodes).forEach((function(e){o.contentNode.appendChild(e)})),o.leftGuard=document.createTextNode(l),o.rightGuard=document.createTextNode(l),o.domNode.appendChild(o.leftGuard),o.domNode.appendChild(o.contentNode),o.domNode.appendChild(o.rightGuard),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"index",value:function(e,o){return e===this.leftGuard?0:e===this.rightGuard?1:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,o)}},{key:"restore",value:function(e){var t=void 0,o=void 0,i=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var r=this.prev.length();this.prev.insertAt(r,i),t={startNode:this.prev.domNode,startOffset:r+i.length}}else o=document.createTextNode(i),this.parent.insertBefore(n.default.create(o),this),t={startNode:o,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(o=document.createTextNode(i),this.parent.insertBefore(n.default.create(o),this.next),t={startNode:o,startOffset:i.length}));return e.data=l,t}},{key:"update",value:function(e,t){var o=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===o.leftGuard||e.target===o.rightGuard)){var i=o.restore(e.target);i&&(t.range=i)}}))}}]),t}(n.default.Embed);t.default=u},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var i,r=o(0),n=(i=r)&&i.__esModule?i:{default:i};var a={scope:n.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new n.default.Attributor.Attribute("align","align",a),l=new n.default.Attributor.Class("align","ql-align",a),u=new n.default.Attributor.Style("align","text-align",a);t.AlignAttribute=s,t.AlignClass=l,t.AlignStyle=u},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var i,r=o(0),n=(i=r)&&i.__esModule?i:{default:i},a=o(26);var s=new n.default.Attributor.Class("background","ql-bg",{scope:n.default.Scope.INLINE}),l=new a.ColorAttributor("background","background-color",{scope:n.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=l},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var i,r=o(0),n=(i=r)&&i.__esModule?i:{default:i};var a={scope:n.default.Scope.BLOCK,whitelist:["rtl"]},s=new n.default.Attributor.Attribute("direction","dir",a),l=new n.default.Attributor.Class("direction","ql-direction",a),u=new n.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=s,t.DirectionClass=l,t.DirectionStyle=u},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0),s=(i=a)&&i.__esModule?i:{default:i};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new s.default.Attributor.Class("font","ql-font",c),p=new(function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(s.default.Attributor.Style))("font","font-family",c);t.FontStyle=p,t.FontClass=d},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var i,r=o(0),n=(i=r)&&i.__esModule?i:{default:i};var a=new n.default.Attributor.Class("size","ql-size",{scope:n.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new n.default.Attributor.Style("size","font-size",{scope:n.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=s},function(e,t,o){e.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=a(o(0)),n=a(o(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(n.default.events.EDITOR_CHANGE,(function(e,t,o,r){e!==n.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==n.default.sources.USER?i.transform(t):i.record(t,o))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var o=this.stack[e].pop();this.stack[t].push(o),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(o[e],n.default.sources.USER),this.ignoreChange=!1;var i=l(o[e]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var o=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();o=o.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(o(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),o=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)})))}(e)&&(o-=1),o}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=f(o(3)),a=f(o(2)),s=f(o(8)),l=f(o(23)),u=f(o(34)),c=f(o(59)),d=f(o(60)),p=f(o(28)),h=f(o(61));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],w=["1","2","3",!1],x=["small",!1,"large","huge"],E=function(e){function t(e,o){m(this,t);var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return e.emitter.listenDOM("click",document.body,(function t(o){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==i.tooltip||i.tooltip.root.contains(o.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(e){e.container.contains(o.target)||e.close()}))})),i}return g(t,e),i(t,[{key:"addModule",value:function(e){var o=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(o),o}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(o){if(o.startsWith("ql-")&&(o=o.slice("ql-".length),null!=t[o]))if("direction"===o)e.innerHTML=t[o][""]+t[o].rtl;else if("string"==typeof t[o])e.innerHTML=t[o];else{var i=e.value||"";null!=i&&t[o][i]&&(e.innerHTML=t[o][i])}}))}))}},{key:"buildPickers",value:function(e,t){var o=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&A(e,b),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var o=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&A(e,y,"background"===o?"#ffffff":"#000000"),new c.default(e,t[o])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?A(e,_):e.classList.contains("ql-header")?A(e,w):e.classList.contains("ql-size")&&A(e,x)),new p.default(e)}));this.quill.on(s.default.events.EDITOR_CHANGE,(function(){o.pickers.forEach((function(e){e.update()}))}))}}]),t}(u.default);E.DEFAULTS=(0,n.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var o=new FileReader;o.onload=function(o){var i=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(i.index).delete(i.length).insert({image:o.target.result}),s.default.sources.USER),e.quill.setSelection(i.index+1,s.default.sources.SILENT),t.value=""},o.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var O=function(e){function t(e,o){m(this,t);var i=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return g(t,e),i(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,s.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(t)return(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0";if(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/";return e}(e);case"formula":if(!e)break;var o=this.quill.getSelection(!0);if(null!=o){var i=o.index+o.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),e,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",s.default.sources.USER),this.quill.setSelection(i+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function A(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var i=document.createElement("option");t===o?i.setAttribute("selected","selected"):i.setAttribute("value",t),e.appendChild(i)}))}t.BaseTooltip=O,t.default=E},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,o=this.iterator();t=o();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,o=this.head;null!=o;){if(o===e)return t;t+=o.length(),o=o.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var o,i=this.iterator();o=i();){var r=o.length();if(e<r||t&&e===r&&(null==o.next||0!==o.next.length()))return[o,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,o=this.iterator();t=o();)e(t)},e.prototype.forEachAt=function(e,t,o){if(!(t<=0))for(var i,r=this.find(e),n=r[0],a=e-r[1],s=this.iterator(n);(i=s())&&a<e+t;){var l=i.length();e>a?o(i,e-a,Math.min(t,a+l-e)):o(i,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce((function(t,o){return t.push(e(o)),t}),[])},e.prototype.reduce=function(e,t){for(var o,i=this.iterator();o=i();)t=e(t,o);return t},e}();t.default=i},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=o(17),a=o(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var o=e.call(this,t)||this;return o.scroll=o,o.observer=new MutationObserver((function(e){o.update(e)})),o.observer.observe(o.domNode,s),o.attach(),o}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,o){this.update(),0===t&&o===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,o)},t.prototype.formatAt=function(t,o,i,r){this.update(),e.prototype.formatAt.call(this,t,o,i,r)},t.prototype.insertAt=function(t,o,i){this.update(),e.prototype.insertAt.call(this,t,o,i)},t.prototype.optimize=function(t,o){var i=this;void 0===t&&(t=[]),void 0===o&&(o={}),e.prototype.optimize.call(this,o);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof n.default&&e.children.forEach(l),e.optimize(o))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof n.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),r=(u=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,o){var i=this;void 0===o&&(o={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==i&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],o)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,o),this.optimize(t,o)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(n.default);t.default=l},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=o(18),a=o(1);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(o){if(o.tagName!==t.tagName)return e.formats.call(this,o)},t.prototype.format=function(o,i){var r=this;o!==this.statics.blotName||i?e.prototype.format.call(this,o,i):(this.children.forEach((function(e){e instanceof n.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,o,i,r){null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)?this.isolate(t,o).format(i,r):e.prototype.formatAt.call(this,t,o,i,r)},t.prototype.optimize=function(o){e.prototype.optimize.call(this,o);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e)if(e[o]!==t[o])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(n.default);t.default=s},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=o(18),a=o(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(o){var i=a.query(t.blotName).tagName;if(o.tagName!==i)return e.formats.call(this,o)},t.prototype.format=function(o,i){null!=a.query(o,a.Scope.BLOCK)&&(o!==this.statics.blotName||i?e.prototype.format.call(this,o,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,o,i,r){null!=a.query(i,a.Scope.BLOCK)?this.format(i,r):e.prototype.formatAt.call(this,t,o,i,r)},t.prototype.insertAt=function(t,o,i){if(null==i||null!=a.query(o,a.Scope.INLINE))e.prototype.insertAt.call(this,t,o,i);else{var r=this.split(t),n=a.create(o,i);r.parent.insertBefore(n,r)}},t.prototype.update=function(t,o){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,o)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(n.default);t.default=s},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,o){e.prototype.formatAt.call(this,0,this.length(),t,o)},t.prototype.formatAt=function(t,o,i,r){0===t&&o===this.length()?this.format(i,r):e.prototype.formatAt.call(this,t,o,i,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(o(19).default);t.default=n},function(e,t,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var n=o(19),a=o(1),s=function(e){function t(t){var o=e.call(this,t)||this;return o.text=o.statics.value(o.domNode),o}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,o,i){null==i?(this.text=this.text.slice(0,t)+o+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,o,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(o){e.prototype.optimize.call(this,o),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var o=a.create(this.domNode.splitText(e));return this.parent.insertBefore(o,this.next),this.text=this.statics.value(this.domNode),o},t.prototype.update=function(e,t){var o=this;e.some((function(e){return"characterData"===e.type&&e.target===o.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(n.default);t.default=s},function(e,t,o){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var o=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>o.length)&&(t=o.length),t-=e.length;var i=o.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,o=Object(this),i=o.length>>>0,r=arguments[1],n=0;n<i;n++)if(t=o[n],e.call(r,t,n,o))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var o=-1;function i(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var c=n(e,t),d=e.substring(0,c);c=a(e=e.substring(c),t=t.substring(c));var p=e.substring(e.length-c),h=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[o,e]];var l=e.length>t.length?e:t,u=e.length>t.length?t:e,c=l.indexOf(u);if(-1!=c)return s=[[1,l.substring(0,c)],[0,u],[1,l.substring(c+u.length)]],e.length>t.length&&(s[0][0]=s[2][0]=o),s;if(1==u.length)return[[o,e],[1,t]];var d=function(e,t){var o=e.length>t.length?e:t,i=e.length>t.length?t:e;if(o.length<4||2*i.length<o.length)return null;function r(e,t,o){for(var i,r,s,l,u=e.substring(o,o+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var p=n(e.substring(o),t.substring(c)),h=a(e.substring(0,o),t.substring(0,c));d.length<h+p&&(d=t.substring(c-h,c)+t.substring(c,c+p),i=e.substring(0,o-h),r=e.substring(o+p),s=t.substring(0,c-h),l=t.substring(c+p))}return 2*d.length>=e.length?[i,r,s,l,d]:null}var s,l,u,c,d,p=r(o,i,Math.ceil(o.length/4)),h=r(o,i,Math.ceil(o.length/2));if(!p&&!h)return null;s=h?p&&p[4].length>h[4].length?p:h:p;e.length>t.length?(l=s[0],u=s[1],c=s[2],d=s[3]):(c=s[0],d=s[1],l=s[2],u=s[3]);var f=s[4];return[l,u,c,d,f]}(e,t);if(d){var p=d[0],h=d[1],f=d[2],m=d[3],v=d[4],g=i(p,f),b=i(h,m);return g.concat([[0,v]],b)}return function(e,t){for(var i=e.length,n=t.length,a=Math.ceil((i+n)/2),s=a,l=2*a,u=new Array(l),c=new Array(l),d=0;d<l;d++)u[d]=-1,c[d]=-1;u[s+1]=0,c[s+1]=0;for(var p=i-n,h=p%2!=0,f=0,m=0,v=0,g=0,b=0;b<a;b++){for(var y=-b+f;y<=b-m;y+=2){for(var _=s+y,w=(N=y==-b||y!=b&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1)-y;N<i&&w<n&&e.charAt(N)==t.charAt(w);)N++,w++;if(u[_]=N,N>i)m+=2;else if(w>n)f+=2;else if(h){if((O=s+p-y)>=0&&O<l&&-1!=c[O])if(N>=(E=i-c[O]))return r(e,t,N,w)}}for(var x=-b+v;x<=b-g;x+=2){for(var E,O=s+x,A=(E=x==-b||x!=b&&c[O-1]<c[O+1]?c[O+1]:c[O-1]+1)-x;E<i&&A<n&&e.charAt(i-E-1)==t.charAt(n-A-1);)E++,A++;if(c[O]=E,E>i)g+=2;else if(A>n)v+=2;else if(!h){if((_=s+p-x)>=0&&_<l&&-1!=u[_]){var N;w=s+(N=u[_])-_;if(N>=(E=i-E))return r(e,t,N,w)}}}}return[[o,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-c),t=t.substring(0,t.length-c));return d&&h.unshift([0,d]),p&&h.push([0,p]),s(h),null!=l&&(h=function(e,t){var i=function(e,t){if(0===t)return[0,e];for(var i=0,r=0;r<e.length;r++){var n=e[r];if(n[0]===o||0===n[0]){var a=i+n[1].length;if(t===a)return[r+1,e];if(t<a){e=e.slice();var s=t-i,l=[n[0],n[1].slice(0,s)],u=[n[0],n[1].slice(s)];return e.splice(r,1,l,u),[r+1,e]}i=a}}throw new Error("cursor_pos is out of bounds!")}(e,t),r=i[1],n=i[0],a=r[n],s=r[n+1];if(null==a)return e;if(0!==a[0])return e;if(null!=s&&a[1]+s[1]===s[1]+a[1])return r.splice(n,2,s,a),u(r,n,2);if(null!=s&&0===s[1].indexOf(a[1])){r.splice(n,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);return l.length>0&&r.splice(n+2,0,[s[0],l]),u(r,n,3)}return e}(h,l)),h=function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},r=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},n=2;n<e.length;n+=1)0===e[n-2][0]&&r(e[n-2][1])&&e[n-1][0]===o&&i(e[n-1][1])&&1===e[n][0]&&i(e[n][1])&&(t=!0,e[n-1][1]=e[n-2][1].slice(-1)+e[n-1][1],e[n][1]=e[n-2][1].slice(-1)+e[n][1],e[n-2][1]=e[n-2][1].slice(0,-1));if(!t)return e;var a=[];for(n=0;n<e.length;n+=1)e[n][1].length>0&&a.push(e[n]);return a}(h)}function r(e,t,o,r){var n=e.substring(0,o),a=t.substring(0,r),s=e.substring(o),l=t.substring(r),u=i(n,a),c=i(s,l);return u.concat(c)}function n(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var o=0,i=Math.min(e.length,t.length),r=i,n=0;o<r;)e.substring(n,r)==t.substring(n,r)?n=o=r:i=r,r=Math.floor((i-o)/2+o);return r}function a(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var o=0,i=Math.min(e.length,t.length),r=i,n=0;o<r;)e.substring(e.length-r,e.length-n)==t.substring(t.length-r,t.length-n)?n=o=r:i=r,r=Math.floor((i-o)/2+o);return r}function s(e){e.push([0,""]);for(var t,i=0,r=0,l=0,u="",c="";i<e.length;)switch(e[i][0]){case 1:l++,c+=e[i][1],i++;break;case o:r++,u+=e[i][1],i++;break;case 0:r+l>1?(0!==r&&0!==l&&(0!==(t=n(c,u))&&(i-r-l>0&&0==e[i-r-l-1][0]?e[i-r-l-1][1]+=c.substring(0,t):(e.splice(0,0,[0,c.substring(0,t)]),i++),c=c.substring(t),u=u.substring(t)),0!==(t=a(c,u))&&(e[i][1]=c.substring(c.length-t)+e[i][1],c=c.substring(0,c.length-t),u=u.substring(0,u.length-t))),0===r?e.splice(i-l,r+l,[1,c]):0===l?e.splice(i-r,r+l,[o,u]):e.splice(i-r-l,r+l,[o,u],[1,c]),i=i-r-l+(r?1:0)+(l?1:0)+1):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,l=0,r=0,u="",c=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),d=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),d=!0)),i++;d&&s(e)}var l=i;function u(e,t,o){for(var i=t+o-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var r=e[i],n=e[i+1];r[0]===n[1]&&e.splice(i,2,[r[0],r[1]+n[1]])}return e}l.INSERT=1,l.DELETE=o,l.EQUAL=0,e.exports=l},function(e,t){function o(e){var t=[];for(var o in e)t.push(o);return t}(e.exports="function"==typeof Object.keys?Object.keys:o).shim=o},function(e,t){var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=o?i:r).supported=i,t.unsupported=r},function(e,t){var o=Object.prototype.hasOwnProperty,i="~";function r(){}function n(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)o.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e,t){var o=i?i+e:e,r=this._events[o];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,s=new Array(a);n<a;n++)s[n]=r[n].fn;return s},a.prototype.emit=function(e,t,o,r,n,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,o),!0;case 4:return c.fn.call(c.context,t,o,r),!0;case 5:return c.fn.call(c.context,t,o,r,n),!0;case 6:return c.fn.call(c.context,t,o,r,n,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,o);break;case 4:c[u].fn.call(c[u].context,t,o,r);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,o){var r=new n(t,o||this),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.once=function(e,t,o){var r=new n(t,o||this,!0),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.removeListener=function(e,t,o,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||n&&!s.once||o&&s.context!==o||(0==--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||n&&!s[l].once||o&&s[l].context!==o)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=y(o(3)),s=y(o(2)),l=y(o(0)),u=y(o(5)),c=y(o(10)),d=y(o(9)),p=o(36),h=o(37),f=y(o(13)),m=o(26),v=o(38),g=o(39),b=o(40);function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var w=(0,c.default)("quill:clipboard"),x="__ql-matcher",E=[[Node.TEXT_NODE,j],[Node.TEXT_NODE,D],["br",function(e,t){T(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,q],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,function(e,t){var o={},i=e.style||{};i.fontStyle&&"italic"===I(e).fontStyle&&(o.italic=!0);i.fontWeight&&(I(e).fontWeight.startsWith("bold")||parseInt(I(e).fontWeight)>=700)&&(o.bold=!0);Object.keys(o).length>0&&(t=P(t,o));parseFloat(i.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t));return t}],["li",function(e,t){var o=l.default.query(e);if(null==o||"list-item"!==o.blotName||!T(t,"\n"))return t;var i=-1,r=e.parentNode;for(;!r.classList.contains("ql-clipboard");)"list"===(l.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:i}))}],["b",C.bind(C,"bold")],["i",C.bind(C,"italic")],["style",function(){return new s.default}]],O=[p.AlignAttribute,v.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),A=[p.AlignStyle,h.BackgroundStyle,m.ColorStyle,v.DirectionStyle,g.FontStyle,b.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),N=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],E.concat(i.options.matchers).forEach((function(e){var t=r(e,2),n=t[0],a=t[1];(o.matchVisual||a!==q)&&i.addMatcher(n,a)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var o=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(o,_({},f.default.blotName,t[f.default.blotName]))}var i=this.prepareMatching(),n=r(i,2),a=n[0],l=n[1],u=k(this.container,a,l);return T(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new s.default).retain(u.length()-1).delete(1))),w.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var i=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(i),o),this.quill.setSelection(e+i.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var o=this.quill.getSelection(),i=(new s.default).retain(o.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){i=i.concat(t.convert()).delete(o.length),t.quill.updateContents(i,u.default.sources.USER),t.quill.setSelection(i.length()-o.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],o=[];return this.matchers.forEach((function(i){var n=r(i,2),a=n[0],s=n[1];switch(a){case Node.TEXT_NODE:o.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[x]=e[x]||[],e[x].push(s)}))}})),[t,o]}}]),t}(d.default);function P(e,t,o){return"object"===(void 0===t?"undefined":i(t))?Object.keys(t).reduce((function(e,o){return P(e,o,t[o])}),e):e.reduce((function(e,i){return i.attributes&&i.attributes[t]?e.push(i):e.insert(i.insert,(0,a.default)({},_({},t,o),i.attributes))}),new s.default)}function I(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function T(e,t){for(var o="",i=e.ops.length-1;i>=0&&o.length<t.length;--i){var r=e.ops[i];if("string"!=typeof r.insert)break;o=r.insert+o}return o.slice(-1*t.length)===t}function S(e){if(0===e.childNodes.length)return!1;var t=I(e);return["block","list-item"].indexOf(t.display)>-1}function k(e,t,o){return e.nodeType===e.TEXT_NODE?o.reduce((function(t,o){return o(e,t)}),new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(i,r){var n=k(r,t,o);return r.nodeType===e.ELEMENT_NODE&&(n=t.reduce((function(e,t){return t(r,e)}),n),n=(r[x]||[]).reduce((function(e,t){return t(r,e)}),n)),i.concat(n)}),new s.default):new s.default}function C(e,t,o){return P(o,e,!0)}function R(e,t){var o=l.default.Attributor.Attribute.keys(e),i=l.default.Attributor.Class.keys(e),r=l.default.Attributor.Style.keys(e),n={};return o.concat(i).concat(r).forEach((function(t){var o=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=o&&(n[o.attrName]=o.value(e),n[o.attrName])||(null==(o=O[t])||o.attrName!==t&&o.keyName!==t||(n[o.attrName]=o.value(e)||void 0),null==(o=A[t])||o.attrName!==t&&o.keyName!==t||(o=A[t],n[o.attrName]=o.value(e)||void 0))})),Object.keys(n).length>0&&(t=P(t,n)),t}function L(e,t){var o=l.default.query(e);if(null==o)return t;if(o.prototype instanceof l.default.Embed){var i={},r=o.value(e);null!=r&&(i[o.blotName]=r,t=(new s.default).insert(i,o.formats(e)))}else"function"==typeof o.formats&&(t=P(t,o.blotName,o.formats(e)));return t}function D(e,t){return T(t,"\n")||(S(e)||t.length()>0&&e.nextSibling&&S(e.nextSibling))&&t.insert("\n"),t}function q(e,t){if(S(e)&&null!=e.nextElementSibling&&!T(t,"\n\n")){var o=e.offsetHeight+parseFloat(I(e).marginTop)+parseFloat(I(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*o&&t.insert("\n")}return t}function j(e,t){var o=e.data;if("O:P"===e.parentNode.tagName)return t.insert(o.trim());if(0===o.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!I(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};o=(o=o.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&S(e.parentNode)||null!=e.previousSibling&&S(e.previousSibling))&&(o=o.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&S(e.parentNode)||null!=e.nextSibling&&S(e.nextSibling))&&(o=o.replace(/\s+$/,i.bind(i,!1)))}return t.insert(o)}N.DEFAULTS={matchers:[],matchVisual:!0},t.default=N,t.matchAttributor=R,t.matchBlot=L,t.matchNewline=D,t.matchSpacing=q,t.matchText=j},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);u.blotName="bold",u.tagName=["STRONG","B"],t.default=u},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=c(o(2)),a=c(o(0)),s=c(o(5)),l=c(o(10)),u=c(o(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,l.default)("quill:toolbar"),h=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));if(Array.isArray(n.options.container)){var a=document.createElement("div");m(a,n.options.container),e.container.parentNode.insertBefore(a,e.container),n.container=a}else"string"==typeof n.options.container?n.container=document.querySelector(n.options.container):n.container=n.options.container;return n.container instanceof HTMLElement?(n.container.classList.add("ql-toolbar"),n.controls=[],n.handlers={},Object.keys(n.options.handlers).forEach((function(e){n.addHandler(e,n.options.handlers[e])})),[].forEach.call(n.container.querySelectorAll("button, select"),(function(e){n.attach(e)})),n.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&n.update(t)})),n.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=n.quill.selection.getRange(),t=i(e,1)[0];n.update(t)})),n):(r=p.error("Container required for toolbar",n.options),d(n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,o=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(o){if(o=o.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[o]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[o])return void p.warn("ignoring attaching to disabled format",o,e);if(null==a.default.query(o))return void p.warn("ignoring attaching to nonexistent format",o,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];l=!u.hasAttribute("selected")&&(u.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=i(c,1)[0];if(null!=t.handlers[o])t.handlers[o].call(t,l);else if(a.default.query(o).prototype instanceof a.default.Embed){if(!(l=prompt("Enter "+o)))return;t.quill.updateContents((new n.default).retain(d.index).delete(d.length).insert(function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},o,l)),s.default.sources.USER)}else t.quill.format(o,l,s.default.sources.USER);t.update(d)})),this.controls.push([o,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(o){var r=i(o,2),n=r[0],a=r[1];if("SELECT"===a.tagName){var s=void 0;if(null==e)s=null;else if(null==t[n])s=a.querySelector("option[selected]");else if(!Array.isArray(t[n])){var l=t[n];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[n]===a.getAttribute("value")||null!=t[n]&&t[n].toString()===a.getAttribute("value")||null==t[n]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[n])}))}}]),t}(u.default);function f(e,t,o){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),null!=o&&(i.value=o),e.appendChild(i)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var o=document.createElement("span");o.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)f(o,e);else{var t=Object.keys(e)[0],i=e[t];Array.isArray(i)?function(e,t,o){var i=document.createElement("select");i.classList.add("ql-"+t),o.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),i.appendChild(t)})),e.appendChild(i)}(o,t,i):f(o,t,i)}})),e.appendChild(o)}))}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var o=this.quill.getFormat();Object.keys(o).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),o=this.quill.getFormat(t),i=parseInt(o.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===o.direction&&(r*=-1),this.quill.format("indent",i+r,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),o=this.quill.getFormat(t);"check"===e?"checked"===o.list||"unchecked"===o.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=h,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(28);var s=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=o,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var o=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return o.style.backgroundColor=e.getAttribute("value")||"",o}},{key:"selectItem",value:function(e,o){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,o);var i=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(28);var s=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=o[e.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,o){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,o),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();var r=function(){function e(t,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=o||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,o=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=o+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),n=0;if(r.right>i.right&&(n=i.right-r.right,this.root.style.left=t+n+"px"),r.left<i.left&&(n=i.left-r.left,this.root.style.left=t+n+"px"),r.bottom>i.bottom){var a=r.bottom-r.top,s=e.bottom-e.top+a;this.root.style.top=o-s+"px",this.root.classList.add("ql-flip")}return n}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=h(o(3)),s=h(o(8)),l=o(43),u=h(l),c=h(o(27)),d=o(15),p=h(o(41));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(e){function t(e,o){f(this,t),null!=o.modules.toolbar&&null==o.modules.toolbar.container&&(o.modules.toolbar.container=g);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.quill.container.classList.add("ql-snow"),i}return v(t,e),n(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new y(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,o){e.handlers.link.call(e,!o.format.link)}))}}]),t}(u.default);b.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var o=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(o)&&0!==o.indexOf("mailto:")&&(o="mailto:"+o),this.quill.theme.tooltip.edit("link",o)}else this.quill.format("link",!1)}}}}});var y=function(e){function t(e,o){f(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.preview=i.root.querySelector("a.ql-preview"),i}return v(t,e),n(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var o=e.linkRange;e.restoreFocus(),e.quill.formatText(o,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,o,r){if(null!=t){if(0===t.length&&r===s.default.sources.USER){var n=e.quill.scroll.descendant(c.default,t.index),a=i(n,2),l=a[0],u=a[1];if(null!=l){e.linkRange=new d.Range(t.index-u,l.length());var p=c.default.formats(l.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=b},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i=D(o(29)),r=o(36),n=o(38),a=o(64),s=D(o(65)),l=D(o(66)),u=o(67),c=D(u),d=o(37),p=o(26),h=o(39),f=o(40),m=D(o(56)),v=D(o(68)),g=D(o(27)),b=D(o(69)),y=D(o(70)),_=D(o(71)),w=D(o(72)),x=D(o(73)),E=o(13),O=D(E),A=D(o(74)),N=D(o(75)),P=D(o(57)),I=D(o(41)),T=D(o(28)),S=D(o(59)),k=D(o(60)),C=D(o(61)),R=D(o(108)),L=D(o(62));function D(e){return e&&e.__esModule?e:{default:e}}i.default.register({"attributors/attribute/direction":n.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":n.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":n.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":f.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":n.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":h.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":O.default,"formats/header":l.default,"formats/list":c.default,"formats/bold":m.default,"formats/code":E.Code,"formats/italic":v.default,"formats/link":g.default,"formats/script":b.default,"formats/strike":y.default,"formats/underline":_.default,"formats/image":w.default,"formats/video":x.default,"formats/list/item":u.ListItem,"modules/formula":A.default,"modules/syntax":N.default,"modules/toolbar":P.default,"themes/bubble":R.default,"themes/snow":L.default,"ui/icons":I.default,"ui/picker":T.default,"ui/icon-picker":k.default,"ui/color-picker":S.default,"ui/tooltip":C.default},!0),t.default=i.default},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0),s=(i=a)&&i.__esModule?i:{default:i};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=new(function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,o){if("+1"===o||"-1"===o){var i=this.value(e)||0;o="+1"===o?i+1:i-1}return 0===o?(this.remove(e),!0):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,o)}},{key:"canAdd",value:function(e,o){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,o)||n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(o))}},{key:"value",value:function(e){return parseInt(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class))("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(4);function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=o(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((i=n)&&i.__esModule?i:{default:i}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],t.default=l},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=l(o(0)),a=l(o(4)),s=l(o(25));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"format",value:function(e,o){e!==h.blotName||o?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o):this.replaceWith(n.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,o){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,o),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,o))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);p.blotName="list-item",p.tagName="LI";var h=function(e){function t(e){u(this,t);var o=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=function(t){if(t.target.parentNode===e){var i=o.statics.formats(e),r=n.default.find(t.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),o}return d(t,e),i(t,null,[{key:"create",value:function(e){var o="ordered"===e?"OL":"UL",i=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,o);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,o=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e;var e,t,o}},{key:"insertBefore",value:function(e,o){if(e instanceof p)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,o);else{var i=null==o?this.length():o.offset(this),n=this.split(i);n.parent.insertBefore(e,n)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var o=this.next;null!=o&&o.prev===this&&o.statics.blotName===this.statics.blotName&&o.domNode.tagName===this.domNode.tagName&&o.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(o.moveChildren(this),o.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var o=n.default.create(this.statics.defaultChild);e.moveChildren(o),this.appendChild(o)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);h.blotName="list",h.scope=n.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[p],t.ListItem=p,t.default=h},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(56);function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);u.blotName="script",u.tagName=["SUB","SUP"],t.default=u},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(6);function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(6);function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0),s=(i=a)&&i.__esModule?i:{default:i},l=o(27);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["alt","height","width"],p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,o){d.indexOf(e)>-1?o?this.domNode.setAttribute(e,o):this.domNode.removeAttribute(e):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o)}}],[{key:"create",value:function(e){var o=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&o.setAttribute("src",this.sanitize(e)),o}},{key:"formats",value:function(e){return d.reduce((function(t,o){return e.hasAttribute(o)&&(t[o]=e.getAttribute(o)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);p.blotName="image",p.tagName="IMG",t.default=p},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(4),s=o(27),l=(i=s)&&i.__esModule?i:{default:i};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["height","width"],p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,o){d.indexOf(e)>-1?o?this.domNode.setAttribute(e,o):this.domNode.removeAttribute(e):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,o)}}],[{key:"create",value:function(e){var o=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return o.setAttribute("frameborder","0"),o.setAttribute("allowfullscreen",!0),o.setAttribute("src",this.sanitize(e)),o}},{key:"formats",value:function(e){return d.reduce((function(t,o){return e.hasAttribute(o)&&(t[o]=e.getAttribute(o)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",t.default=p},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=l(o(35)),a=l(o(5)),s=l(o(9));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,null,[{key:"create",value:function(e){var o=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,o,{throwOnError:!1,errorColor:"#f00"}),o.setAttribute("data-value",e)),o}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(n.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var h=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),i(t,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),t}(s.default);t.FormulaBlot=p,t.default=h},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=l(o(0)),a=l(o(5)),s=l(o(9));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(o(13)).default);p.className="ql-syntax";var h=new n.default.Attributor.Class("token","hljs",{scope:n.default.Scope.INLINE}),f=function(e){function t(e,o){u(this,t);var i=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){i.highlight(),r=null}),i.options.interval)})),i.highlight(),i}return d(t,e),i(t,null,[{key:"register",value:function(){a.default.register(h,!0),a.default.register(p,!0)}}]),i(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(s.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=h,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var i=function e(t,o,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=d(o(3)),a=d(o(8)),s=o(43),l=d(s),u=o(15),c=d(o(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(e){function t(e,o){p(this,t),null!=o.modules.toolbar&&null==o.modules.toolbar.container&&(o.modules.toolbar.container=m);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.quill.container.classList.add("ql-bubble"),i}return f(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(l.default);v.DEFAULTS=(0,n.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(e){function t(e,o){p(this,t);var i=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,o,r){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===a.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var n=i.quill.getLines(t.index,t.length);if(1===n.length)i.position(i.quill.getBounds(t));else{var s=n[n.length-1],l=i.quill.getIndex(s),c=Math.min(s.length()-1,t.index+t.length-l),d=i.quill.getBounds(new u.Range(l,c));i.position(d)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return f(t,e),r(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var o=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===o)return o;r.style.marginLeft=-1*o-r.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=g,t.default=v},function(e,t,o){e.exports=o(63)}]).default}));const ie=Symbol("defaultState"),re=Symbol("delegatesFocus"),ne=Symbol("firstRender"),ae=Symbol("focusTarget"),se=Symbol("hasDynamicTemplate"),le=Symbol("ids"),ue=Symbol("nativeInternals"),ce=Symbol("raiseChangeEvents"),de=Symbol("render"),pe=Symbol("renderChanges"),he=Symbol("rendered"),fe=Symbol("rendering"),me=Symbol("setState"),ve=Symbol("shadowRoot"),ge=Symbol("shadowRootMode"),be=Symbol("state"),ye=Symbol("stateEffects"),_e=Symbol("template"),we=Symbol("checkSize"),xe=Symbol("closestAvailableItemIndex"),Ee=Symbol("contentSlot"),Oe=ie,Ae=Symbol("defaultTabIndex"),Ne=re,Pe=Symbol("effectEndTarget"),Ie=ne,Te=ae,Se=Symbol("getItemText"),ke=Symbol("goDown"),Ce=Symbol("goEnd"),Re=Symbol("goFirst"),Le=Symbol("goLast"),De=Symbol("goLeft"),qe=Symbol("goNext"),je=Symbol("goPrevious"),Me=Symbol("goRight"),Ue=Symbol("goStart"),Fe=Symbol("goToItemWithPrefix"),Be=Symbol("goUp"),ze=se,Ve=le,He=Symbol("inputDelegate"),Ye=Symbol("itemsDelegate"),Ge=Symbol("keydown"),$e=Symbol("mouseenter"),Ke=Symbol("mouseleave"),Qe=ue,Xe=ce,We=de,Ze=pe,Je=Symbol("renderDataToElement"),et=he,tt=fe,ot=Symbol("scrollTarget"),it=me,rt=ve,nt=ge,at=Symbol("startEffect"),st=be,lt=ye,ut=Symbol("swipeDown"),ct=Symbol("swipeDownComplete"),dt=Symbol("swipeLeft"),pt=Symbol("swipeLeftTransitionEnd"),ht=Symbol("swipeRight"),ft=Symbol("swipeRightTransitionEnd"),mt=Symbol("swipeUp"),vt=Symbol("swipeUpComplete"),gt=Symbol("swipeStart"),bt=Symbol("swipeTarget"),yt=Symbol("tap"),_t=_e,wt=Symbol("toggleSelectedFlag");function xt(e,t){return"boolean"==typeof t?t:"string"==typeof t&&(""===t||e.toLowerCase()===t.toLowerCase())}function Et(e,t){let o=t;for(;o;){const t=o.assignedSlot||o.parentNode||o.host;if(t===e)return!0;o=t}return!1}function Ot(e){const t=St(e,(e=>e instanceof HTMLElement&&e.matches('a[href],area[href],button:not([disabled]),details,iframe,input:not([disabled]),select:not([disabled]),textarea:not([disabled]),[contentEditable="true"],[tabindex]')&&e.tabIndex>=0)),{value:o}=t.next();return o instanceof HTMLElement?o:null}function At(e,t){return Array.prototype.findIndex.call(e,(e=>e===t||Et(e,t)))}function Nt(e,t){const o=t.composedPath()[0];return e===o||Et(e,o)}function*Pt(e){e&&(yield e,yield*function*(e){let t=e;for(;t=t instanceof HTMLElement&&t.assignedSlot?t.assignedSlot:t instanceof ShadowRoot?t.host:t.parentNode,t;)yield t}(e))}function It(e,t,o){e.toggleAttribute(t,o),e[ue]&&e[ue].states&&e[ue].states.toggle(t,o)}"true"===new URLSearchParams(location.search).get("elixdebug")&&(window.elix={internal:{checkSize:we,closestAvailableItemIndex:xe,contentSlot:Ee,defaultState:Oe,defaultTabIndex:Ae,delegatesFocus:Ne,effectEndTarget:Pe,firstRender:Ie,focusTarget:Te,getItemText:Se,goDown:ke,goEnd:Ce,goFirst:Re,goLast:Le,goLeft:De,goNext:qe,goPrevious:je,goRight:Me,goStart:Ue,goToItemWithPrefix:Fe,goUp:Be,hasDynamicTemplate:ze,ids:Ve,inputDelegate:He,itemsDelegate:Ye,keydown:Ge,mouseenter:$e,mouseleave:Ke,nativeInternals:Qe,event:event,raiseChangeEvents:Xe,render:We,renderChanges:Ze,renderDataToElement:Je,rendered:et,rendering:tt,scrollTarget:ot,setState:it,shadowRoot:rt,shadowRootMode:nt,startEffect:at,state:st,stateEffects:lt,swipeDown:ut,swipeDownComplete:ct,swipeLeft:dt,swipeLeftTransitionEnd:pt,swipeRight:ht,swipeRightTransitionEnd:ft,swipeUp:mt,swipeUpComplete:vt,swipeStart:gt,swipeTarget:bt,tap:yt,template:_t,toggleSelectedFlag:wt}});const Tt={checked:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,multiple:!0,noresize:!0,readonly:!0,selected:!0};function*St(e,t){let o;if(t(e)&&(yield e),e instanceof HTMLElement&&e.shadowRoot)o=e.shadowRoot.children;else{const t=e instanceof HTMLSlotElement?e.assignedNodes({flatten:!0}):[];o=t.length>0?t:e.childNodes}if(o)for(let e=0;e<o.length;e++)yield*St(o[e],t)}const kt={tabindex:"tabIndex"},Ct={tabIndex:"tabindex"};function Rt(e){if(e===HTMLElement)return[];const t=Object.getPrototypeOf(e.prototype).constructor;let o=t.observedAttributes;o||(o=Rt(t));const i=Object.getOwnPropertyNames(e.prototype).filter((t=>{const o=Object.getOwnPropertyDescriptor(e.prototype,t);return o&&"function"==typeof o.set})).map((e=>function(e){let t=Ct[e];if(!t){const o=/([A-Z])/g;t=e.replace(o,"-$1").toLowerCase(),Ct[e]=t}return t}(e))).filter((e=>o.indexOf(e)<0));return o.concat(i)}const Lt=Symbol("state"),Dt=Symbol("raiseChangeEventsInNextRender"),qt=Symbol("changedSinceLastRender");function jt(e,t){const o={};for(const n in t)i=t[n],r=e[n],(i instanceof Date&&r instanceof Date?i.getTime()===r.getTime():i===r)||(o[n]=!0);var i,r;return o}const Mt=new Map,Ut=Symbol("shadowIdProxy"),Ft=Symbol("proxyElement"),Bt={get(e,t){const o=e[Ft][ve];return o&&"string"==typeof t?o.getElementById(t):null}};const zt=function(e){return class extends e{attributeChangedCallback(e,t,o){if(super.attributeChangedCallback&&super.attributeChangedCallback(e,t,o),o!==t&&!this[fe]){const t=function(e){let t=kt[e];if(!t){const o=/-([a-z])/g;t=e.replace(o,(e=>e[1].toUpperCase())),kt[e]=t}return t}(e);if(t in this){const i=Tt[e]?xt(e,o):o;this[t]=i}}}static get observedAttributes(){return Rt(this)}}}(function(e){class t extends e{constructor(){super(),this[ne]=void 0,this[ce]=!1,this[qt]=null,this[me](this[ie])}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this[pe]()}get[ie](){return super[ie]||{}}[de](e){super[de]&&super[de](e)}[pe](){void 0===this[ne]&&(this[ne]=!0);const e=this[qt];if(this[ne]||e){const t=this[ce];this[ce]=this[Dt],this[fe]=!0,this[de](e),this[fe]=!1,this[qt]=null,this[he](e),this[ne]=!1,this[ce]=t,this[Dt]=t}}[he](e){super[he]&&super[he](e)}async[me](e){this[fe]&&console.warn(`${this.constructor.name} called [setState] during rendering, which you should avoid.\nSee https://elix.org/documentation/ReactiveMixin.`);const{state:t,changed:o}=function(e,t){const o=Object.assign({},e[Lt]),i={};let r=t;for(;;){const t=jt(o,r);if(0===Object.keys(t).length)break;Object.assign(o,r),Object.assign(i,t),r=e[ye](o,t)}return{state:o,changed:i}}(this,e);if(this[Lt]&&0===Object.keys(o).length)return;Object.freeze(t),this[Lt]=t,this[ce]&&(this[Dt]=!0);const i=void 0===this[ne]||null!==this[qt];this[qt]=Object.assign(this[qt]||{},o);this.isConnected&&!i&&(await Promise.resolve(),this[pe]())}get[be](){return this[Lt]}[ye](e,t){return super[ye]?super[ye](e,t):{}}}return"true"===new URLSearchParams(location.search).get("elixdebug")&&Object.defineProperty(t.prototype,"state",{get(){return this[be]}}),t}(function(e){return class extends e{get[le](){if(!this[Ut]){const e={[Ft]:this};this[Ut]=new Proxy(e,Bt)}return this[Ut]}[de](e){if(super[de]&&super[de](e),!this[ve]){const e=function(e){let t=e[se]?void 0:Mt.get(e.constructor);if(void 0===t){if(t=e[_e],t&&!(t instanceof HTMLTemplateElement))throw`Warning: the [template] property for ${e.constructor.name} must return an HTMLTemplateElement.`;e[se]||Mt.set(e.constructor,t||null)}return t}(this);if(e){const t=this.attachShadow({delegatesFocus:this[re],mode:this[ge]}),o=document.importNode(e.content,!0);t.append(o),this[ve]=t}else this[ve]=null}}get[ge](){return"open"}}}(HTMLElement)));function Vt(e){return class extends e{connectedCallback(){const e="rtl"===getComputedStyle(this).direction;this[it]({rightToLeft:e}),super.connectedCallback()}}}function Ht(e){return class extends e{constructor(){super(),this.addEventListener("keydown",(async e=>{this[Xe]=!0,this[st].focusVisible||this[it]({focusVisible:!0});this[Ge](e)&&(e.preventDefault(),e.stopImmediatePropagation()),await Promise.resolve(),this[Xe]=!1}))}attributeChangedCallback(e,t,o){if("tabindex"===e){let e;null===o?e=-1:(e=Number(o),isNaN(e)&&(e=this[Ae]?this[Ae]:0)),this.tabIndex=e}else super.attributeChangedCallback(e,t,o)}get[Oe](){const e=this[Ne]?-1:0;return Object.assign(super[Oe]||{},{tabIndex:e})}[Ge](e){return!!super[Ge]&&super[Ge](e)}[We](e){super[We]&&super[We](e),e.tabIndex&&(this.tabIndex=this[st].tabIndex)}get tabIndex(){return super.tabIndex}set tabIndex(e){super.tabIndex!==e&&(super.tabIndex=e),this[tt]||this[it]({tabIndex:e})}}}const Yt={html:(e,...t)=>Gt.html(e,...t).content},Gt={html(e,...t){const o=document.createElement("template");return o.innerHTML=String.raw(e,...t),o}},$t=new Map;function Kt(e){if("function"==typeof e){let t;try{t=new e}catch(o){if("TypeError"!==o.name)throw o;!function(e){let t;const o=/^[A-Za-z][A-Za-z0-9_$]*$/,i=e.name&&e.name.match(o);if(i){const e=/([A-Z])/g;t=i[0].replace(e,((e,t,o)=>o>0?`-${t}`:t)).toLowerCase()}else t="custom-element";let r,n=$t.get(t)||0;for(;r=`${t}-${n}`,customElements.get(r);n++);customElements.define(r,e),$t.set(t,n+1)}(e),t=new e}return t}return document.createElement(e)}function Qt(e,t){const o=e.parentNode;if(!o)throw"An element must have a parent before it can be substituted.";return(e instanceof HTMLElement||e instanceof SVGElement)&&(t instanceof HTMLElement||t instanceof SVGElement)&&(Array.prototype.forEach.call(e.attributes,(e=>{t.getAttribute(e.name)||"class"===e.name||"style"===e.name||t.setAttribute(e.name,e.value)})),Array.prototype.forEach.call(e.classList,(e=>{t.classList.add(e)})),Array.prototype.forEach.call(e.style,(o=>{t.style[o]||(t.style[o]=e.style[o])}))),t.append(...e.childNodes),o.replaceChild(t,e),t}function Xt(e,t){if("function"==typeof t&&e.constructor===t||"string"==typeof t&&e instanceof Element&&e.localName===t)return e;{const o=Kt(t);return Qt(e,o),o}}let Wt,Zt=e=>e;const Jt=function(e){return class extends e{get[Oe](){return Object.assign(super[Oe]||{},{role:null})}[We](e){if(super[We]&&super[We](e),e.role){const{role:e}=this[st];e?this.setAttribute("role",e):this.removeAttribute("role")}}get role(){return super.role}set role(e){const t=String(e);super.role=t,this[tt]||this[it]({s:t})}}}(zt);class eo extends Jt{get[Oe](){return Object.assign(super[Oe],{role:"none"})}get[_t](){return Gt.html(Wt||(Wt=Zt`
      <style>
        :host {
          display: inline-block;
          height: 100%;
          left: 0;
          position: fixed;
          top: 0;
          touch-action: manipulation;
          width: 100%;
        }
      </style>
      <slot></slot>
    `))}}const to=Symbol("closePromise"),oo=Symbol("closeResolve");function io(e){return class extends e{attributeChangedCallback(e,t,o){if("opened"===e){const t=xt(e,o);this.opened!==t&&(this.opened=t)}else super.attributeChangedCallback(e,t,o)}async close(e){super.close&&await super.close(),this[it]({closeResult:e}),await this.toggle(!1)}get closed(){return this[st]&&!this[st].opened}get closeFinished(){return this[st].closeFinished}get closeResult(){return this[st].closeResult}get[Oe](){const e={closeResult:null,opened:!1};return this[at]&&Object.assign(e,{closeFinished:!0,effect:"close",effectPhase:"after",openCloseEffects:!0}),Object.assign(super[Oe]||{},e)}async open(){super.open&&await super.open(),this[it]({closeResult:void 0}),await this.toggle(!0)}get opened(){return this[st]&&this[st].opened}set opened(e){this[it]({closeResult:void 0}),this.toggle(e)}[We](e){if(super[We](e),e.opened){const{opened:e}=this[st];It(this,"opened",e)}if(e.closeFinished){const{closeFinished:e}=this[st];It(this,"closed",e)}}[et](e){if(super[et]&&super[et](e),e.opened&&this[Xe]){const e=new CustomEvent("opened-changed",{bubbles:!0,detail:{closeResult:this[st].closeResult,opened:this[st].opened}});this.dispatchEvent(e);const t=new CustomEvent("openedchange",{bubbles:!0,detail:{closeResult:this[st].closeResult,opened:this[st].opened}});if(this.dispatchEvent(t),this[st].opened){const e=new CustomEvent("opened",{bubbles:!0});this.dispatchEvent(e);const t=new CustomEvent("open",{bubbles:!0});this.dispatchEvent(t)}else{const e=new CustomEvent("closed",{bubbles:!0,detail:{closeResult:this[st].closeResult}});this.dispatchEvent(e);const t=new CustomEvent("close",{bubbles:!0,detail:{closeResult:this[st].closeResult}});this.dispatchEvent(t)}}const t=this[oo];this.closeFinished&&t&&(this[oo]=null,this[to]=null,t(this[st].closeResult))}[lt](e,t){const o=super[lt]?super[lt](e,t):{};if(t.openCloseEffects||t.effect||t.effectPhase||t.opened){const{effect:t,effectPhase:i,openCloseEffects:r,opened:n}=e,a=r?"close"===t&&"after"===i:!n;Object.assign(o,{closeFinished:a})}return o}async toggle(e=!this.opened){super.toggle&&await super.toggle(e);if(e!==this[st].opened){const t={opened:e};this[st].openCloseEffects&&(t.effect=e?"open":"close","after"===this[st].effectPhase&&(t.effectPhase="before")),await this[it](t)}}whenClosed(){return this[to]||(this[to]=new Promise((e=>{this[oo]=e}))),this[to]}}}let ro,no=e=>e;class ao extends zt{get[_t](){return Gt.html(ro||(ro=no`
      <style>
        :host {
          display: inline-block;
          position: relative;
        }
      </style>
      <slot></slot>
    `))}}let so,lo,uo=e=>e;const co=Symbol("appendedToDocument"),po=Symbol("assignedZIndex"),ho=Symbol("restoreFocusToElement");function fo(e){const t=function(){const e=document.body.querySelectorAll("*"),t=Array.from(e,(e=>{const t=getComputedStyle(e);let o=0;if("static"!==t.position&&"auto"!==t.zIndex){const e=t.zIndex?parseInt(t.zIndex):0;o=isNaN(e)?0:e}return o}));return Math.max(...t)}()+1;e[po]=t,e.style.zIndex=t.toString()}function mo(e){const t=getComputedStyle(e).zIndex,o=e.style.zIndex,i=!isNaN(parseInt(o));if("auto"===t)return i;if("0"===t&&!i){const t=e.assignedSlot||(e instanceof ShadowRoot?e.host:e.parentNode);if(!(t instanceof HTMLElement))return!0;if(!mo(t))return!1}return!0}function vo(e){return class extends e{get[Ee](){const e=this[rt]&&this[rt].querySelector("slot:not([name])");return this[rt]&&e||console.warn(`SlotContentMixin expects ${this.constructor.name} to define a shadow tree that includes a default (unnamed) slot.\nSee https://elix.org/documentation/SlotContentMixin.`),e}get[Oe](){return Object.assign(super[Oe]||{},{content:null})}[et](e){if(super[et]&&super[et](e),this[Ie]){const e=this[Ee];e&&e.addEventListener("slotchange",(async()=>{this[Xe]=!0;const t=e.assignedNodes({flatten:!0});Object.freeze(t),this[it]({content:t}),await Promise.resolve(),this[Xe]=!1}))}}}}let go,bo=e=>e;const yo=io(function(e){return class extends e{get autoFocus(){return this[st].autoFocus}set autoFocus(e){this[it]({autoFocus:e})}get[Oe](){return Object.assign(super[Oe]||{},{autoFocus:!0,persistent:!1})}async open(){this[st].persistent||this.isConnected||(this[co]=!0,document.body.append(this)),super.open&&await super.open()}[We](e){if(super[We]&&super[We](e),this[Ie]&&this.addEventListener("blur",(e=>{const t=e.relatedTarget||document.activeElement;if(t instanceof HTMLElement){Et(this,t)||(this.opened?this[ho]=t:(t.focus(),this[ho]=null))}})),(e.effectPhase||e.opened||e.persistent)&&!this[st].persistent){(void 0===this.closeFinished?this.closed:this.closeFinished)?this[po]&&(this.style.zIndex="",this[po]=null):this[po]?this.style.zIndex=this[po]:mo(this)||fo(this)}}[et](e){if(super[et]&&super[et](e),this[Ie]&&this[st].persistent&&!mo(this)&&fo(this),e.opened&&this[st].autoFocus)if(this[st].opened){this[ho]||document.activeElement===document.body||(this[ho]=document.activeElement);const e=Ot(this);e&&e.focus()}else this[ho]&&(this[ho].focus(),this[ho]=null);!this[Ie]&&!this[st].persistent&&this.closeFinished&&this[co]&&(this[co]=!1,this.parentNode&&this.parentNode.removeChild(this))}get[_t](){const e=super[_t]||Gt.html(so||(so=uo``));return e.content.append(Yt.html(lo||(lo=uo`
        <style>
          :host([closed]) {
            display: none;
          }
        </style>
      `))),e}}}(vo(zt)));class _o extends yo{get backdrop(){return this[Ve]&&this[Ve].backdrop}get backdropPartType(){return this[st].backdropPartType}set backdropPartType(e){this[it]({backdropPartType:e})}get[Oe](){return Object.assign(super[Oe],{backdropPartType:eo,framePartType:ao})}get frame(){return this[Ve].frame}get framePartType(){return this[st].framePartType}set framePartType(e){this[it]({framePartType:e})}[We](e){super[We](e),wo(this[rt],this[st],e)}[et](e){super[et](e),e.opened&&this[st].content&&this[st].content.forEach((e=>{e[we]&&e[we]()}))}get[_t](){const e=super[_t];return e.content.append(Yt.html(go||(go=bo`
      <style>
        :host {
          display: inline-grid;
          /* Constrain content if overlay's height is constrained. */
          grid-template: minmax(0, 1fr) / minmax(0, 1fr);
          max-height: 100vh;
          max-width: 100vw;
          outline: none;
          position: fixed;
          -webkit-tap-highlight-color: transparent;
        }

        [part~="frame"] {
          box-sizing: border-box;
          display: grid;
          overscroll-behavior: contain;
          pointer-events: initial;
          position: relative;
        }

        #frameContent {
          display: grid;
          grid-template: minmax(0, 1fr) / minmax(0, 1fr);
          overflow: hidden;
        }
      </style>
      <div id="backdrop" part="backdrop" tabindex="-1"></div>
      <div id="frame" part="frame" role="none">
        <div id="frameContent">
          <slot></slot>
        </div>
      </div>
    `))),wo(e.content,this[st]),e}}function wo(e,t,o){if(!o||o.backdropPartType){const{backdropPartType:o}=t,i=e.getElementById("backdrop");i&&Xt(i,o)}if(!o||o.framePartType){const{framePartType:o}=t,i=e.getElementById("frame");i&&Xt(i,o)}}const xo=Symbol("implicitCloseListener");async function Eo(e){const t=this,o=e.relatedTarget||document.activeElement;o instanceof Element&&!Et(t,o)&&(t[Xe]=!0,await t.close({canceled:"window blur"}),t[Xe]=!1)}async function Oo(e){const t=this,o="resize"!==e.type||t[st].closeOnWindowResize;!Nt(t,e)&&o&&(t[Xe]=!0,await t.close({canceled:`window ${e.type}`}),t[Xe]=!1)}const Ao=Ht(function(e){return class extends e{get closeOnWindowResize(){return this[st].closeOnWindowResize}set closeOnWindowResize(e){this[it]({closeOnWindowResize:e})}get[Oe](){return Object.assign(super[Oe]||{},{closeOnWindowResize:!0,role:"alert"})}[Ge](e){let t=!1;switch(e.key){case"Escape":this.close({canceled:"Escape"}),t=!0}return t||super.keydown&&super.keydown(e)||!1}[We](e){if(super[We]&&super[We](e),this[Ie]&&this.addEventListener("blur",Eo.bind(this)),e.role){const{role:e}=this[st];this.setAttribute("role",e)}}[et](e){if(super[et]&&super[et](e),e.opened)if(this.opened){("requestIdleCallback"in window?window.requestIdleCallback:setTimeout)((()=>{var e;this.opened&&((e=this)[xo]=Oo.bind(e),window.addEventListener("blur",e[xo]),window.addEventListener("resize",e[xo]),window.addEventListener("scroll",e[xo]))}))}else(t=this)[xo]&&(window.removeEventListener("blur",t[xo]),window.removeEventListener("resize",t[xo]),window.removeEventListener("scroll",t[xo]),t[xo]=null);var t}get role(){return super.role}set role(e){super.role=e,this[tt]||this[it]({role:e})}}}(_o));class No extends Ao{[We](e){super[We](e),e.backdropPartType&&(this[Ve].backdrop.addEventListener("mousedown",Po.bind(this)),"PointerEvent"in window||this[Ve].backdrop.addEventListener("touchend",Po))}}async function Po(e){const t=this;t[Xe]=!0,await t.close({canceled:"mousedown outside"}),t[Xe]=!1,e.preventDefault(),e.stopPropagation()}const Io=Symbol("timeout"),To=Vt(function(e){return class extends e{get[Pe](){return super[Pe]||this}[We](e){if(super[We]&&super[We](e),this[Ie]){(this[Pe]===this?this:this[rt]).addEventListener("transitionend",(e=>{const t=this[st].effectEndTarget||this[Pe];e.target===t&&this[it]({effectPhase:"after"})}))}}[et](e){if(super[et]&&super[et](e),e.effect||e.effectPhase){const{effect:e,effectPhase:t}=this[st],o=new CustomEvent("effect-phase-changed",{bubbles:!0,detail:{effect:e,effectPhase:t}});this.dispatchEvent(o);const i=new CustomEvent("effectphasechange",{bubbles:!0,detail:{effect:e,effectPhase:t}});this.dispatchEvent(i),e&&("after"!==t&&this.offsetHeight,"before"===t&&this[it]({effectPhase:"during"}))}}async[at](e){await this[it]({effect:e,effectPhase:"before"})}}}(No));class So extends To{constructor(){super(),this.addEventListener("mouseout",(()=>{Co(this)})),this.addEventListener("mouseover",(()=>{ko(this)}))}attributeChangedCallback(e,t,o){"duration"===e?this.duration=Number(o):super.attributeChangedCallback(e,t,o)}get[Oe](){return Object.assign(super[Oe],{duration:null,fromEdge:"bottom"})}get duration(){return this[st].duration}set duration(e){isNaN(e)||this[it]({duration:e})}get[Pe](){return this[Ve].frame}get fromEdge(){return this[st].fromEdge}set fromEdge(e){this[it]({fromEdge:e})}[We](e){if(super[We](e),e.fromEdge){const e={bottom:{alignItems:"center",justifyContent:"flex-end"},"bottom-left":{alignItems:"flex-start",justifyContent:"flex-end"},"bottom-right":{alignItems:"flex-end",justifyContent:"flex-end"},top:{alignItems:"center",justifyContent:null},"top-left":{alignItems:"flex-start",justifyContent:null},"top-right":{alignItems:"flex-end",justifyContent:null}};Object.assign(this.style,e[this[st].fromEdge])}if(e.effect||e.effectPhase||e.fromEdge||e.rightToLeft){const{effect:e,effectPhase:t,fromEdge:o,rightToLeft:i}=this[st],r={"bottom-left":"bottom-right","bottom-right":"bottom-left","top-left":"top-right","top-right":"top-left"},n=i&&r[o]||o,a={bottom:"translateY(100%)","bottom-left":"translateX(-100%)","bottom-right":"translateX(100%)",top:"translateY(-100%)","top-left":"translateX(-100%)","top-right":"translateX(100%)"},s={bottom:"translateY(0)","bottom-left":"translateX(0)","bottom-right":"translateX(0)",top:"translateY(0)","top-left":"translateX(0)","top-right":"translateX(0)"},l="open"===e&&"before"!==t||"close"===e&&"before"===t,u=l?1:0,c=l?s[n]:a[n];Object.assign(this[Ve].frame.style,{opacity:u,transform:c})}}[et](e){super[et](e),Co(this)}}function ko(e){const t=e;t[Io]&&(clearTimeout(t[Io]),t[Io]=null)}function Co(e){e.opened&&function(e){ko(e);const t=e[st].duration;null!==t&&t>0&&(e[Io]=setTimeout((()=>{e.close()}),t))}(e)}let Ro,Lo=e=>e;class Do extends ao{get[_t](){const e=super[_t];return e.content.append(Yt.html(Ro||(Ro=Lo`
        <style>
          :host {
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.2);
            box-shadow: 0 0px 10px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
          }
        </style>
      `))),e}}let qo,jo=e=>e;class Mo extends So{get[Oe](){return Object.assign(super[Oe],{framePartType:Do})}get[_t](){const e=super[_t];return e.content.append(Yt.html(qo||(qo=jo`
        <style>
          :host {
            align-items: initial;
            display: flex;
            flex-direction: column;
            height: 100%;
            justify-content: initial;
            left: 0;
            outline: none;
            pointer-events: none;
            top: 0;
            -webkit-tap-highlight-color: transparent;
            width: 100%;
          }

          [part~="frame"] {
            margin: 1em;
            transition-duration: 0.25s;
            transition-property: opacity, transform;
            will-change: opacity, transform;
          }
        </style>
      `))),e}}customElements.define("elix-toast",class extends Mo{});const Uo=Symbol("previousBodyStyleOverflow"),Fo=Symbol("previousDocumentMarginRight");let Bo,zo=e=>e;const Vo=Symbol("wrap"),Ho=Symbol("wrappingFocus");function Yo(e){return class extends e{[Ge](e){const t=Ot(this[rt]);if(t){const o=document.activeElement&&(document.activeElement===t||document.activeElement.contains(t)),i=this[rt].activeElement,r=i&&(i===t||Et(i,t));(o||r)&&"Tab"===e.key&&e.shiftKey&&(this[Ho]=!0,this[Ve].focusCatcher.focus(),this[Ho]=!1)}return super[Ge]&&super[Ge](e)||!1}[We](e){super[We]&&super[We](e),this[Ie]&&this[Ve].focusCatcher.addEventListener("focus",(()=>{if(!this[Ho]){const e=Ot(this[rt]);e&&e.focus()}}))}[Vo](e){const t=Yt.html(Bo||(Bo=zo`
        <style>
          #focusCapture {
            display: flex;
            height: 100%;
            overflow: hidden;
            width: 100%;
          }

          #focusCaptureContainer {
            align-items: center;
            display: flex;
            flex: 1;
            flex-direction: column;
            justify-content: center;
            position: relative;
          }
        </style>
        <div id="focusCapture">
          <div id="focusCaptureContainer"></div>
          <div id="focusCatcher" tabindex="0"></div>
        </div>
      `)),o=t.getElementById("focusCaptureContainer");o&&(e.replaceWith(t),o.append(e))}}}Yo.wrap=Vo;class Go extends eo{constructor(){super(),"PointerEvent"in window||this.addEventListener("touchmove",(e=>{1===e.touches.length&&e.preventDefault()}))}}let $o,Ko=e=>e;const Qo=function(e){return class extends e{get[Oe](){return Object.assign(super[Oe]||{},{role:"dialog"})}[Ge](e){let t=!1;switch(e.key){case"Escape":this.close({canceled:"Escape"}),t=!0}return t||super[Ge]&&super[Ge](e)||!1}[We](e){if(super[We]&&super[We](e),e.opened)if(this[st].opened&&document.documentElement){const e=document.documentElement.clientWidth,t=window.innerWidth-e;this[Uo]=document.body.style.overflow,this[Fo]=t>0?document.documentElement.style.marginRight:null,document.body.style.overflow="hidden",t>0&&(document.documentElement.style.marginRight=`${t}px`)}else null!=this[Uo]&&(document.body.style.overflow=this[Uo],this[Uo]=null),null!=this[Fo]&&(document.documentElement.style.marginRight=this[Fo],this[Fo]=null);if(e.role){const{role:e}=this[st];this.setAttribute("role",e)}}get role(){return super.role}set role(e){super.role=e,this[tt]||this[it]({role:e})}}}(Yo(Ht(_o)));class Xo extends Qo{get[Oe](){return Object.assign(super[Oe],{backdropPartType:Go,tabIndex:-1})}get[_t](){const e=super[_t],t=e.content.querySelector("#frame");return this[Yo.wrap](t),e.content.append(Yt.html($o||($o=Ko`
        <style>
          :host {
            height: 100%;
            left: 0;
            pointer-events: initial;
            top: 0;
            width: 100%;
          }
        </style>
      `))),e}}let Wo,Zo=e=>e;class Jo extends Go{get[_t](){const e=super[_t];return e.content.append(Yt.html(Wo||(Wo=Zo`
        <style>
          :host {
            background: rgba(0, 0, 0, 0.2);
          }
        </style>
      `))),e}}function ei(e){return class extends e{get[Oe](){return Object.assign(super[Oe]||{},{backdropPartType:Jo,framePartType:Do})}}}class ti extends(ei(Xo)){}customElements.define("elix-dialog",class extends ti{});let oi,ii=e=>e;class ri extends Xo{get choiceButtons(){return this[st].choiceButtons}get choiceButtonPartType(){return this[st].choiceButtonPartType}set choiceButtonPartType(e){this[it]({choiceButtonPartType:e})}get choices(){return this[st].choices}set choices(e){this[it]({choices:e})}get[Oe](){return Object.assign(super[Oe],{choiceButtonPartType:"button",choiceButtons:[],choices:["OK"]})}[Ge](e){let t=!1;const o=1===e.key.length&&e.key.toLowerCase();if(o){const e=this.choices.find((e=>e[0].toLowerCase()===o));e&&(this.close({choice:e}),t=!0)}return t||super[Ge]&&super[Ge](e)||!1}[We](e){super[We](e),this[Ie]&&this[Ve].choiceButtonContainer.addEventListener("click",(async e=>{const t=e.target;if(t instanceof HTMLElement){const e=t.textContent;this[Xe]=!0,await this.close({choice:e}),this[Xe]=!1}})),e.choiceButtons&&function(e,t){const o=[...t],i=e.childNodes.length,r=o.length,n=Math.max(i,r);for(let t=0;t<n;t++){const n=e.childNodes[t],a=o[t];t>=i?e.append(a):t>=r?e.removeChild(e.childNodes[r]):n!==a&&(o.indexOf(n,t)>=t?e.insertBefore(a,n):e.replaceChild(a,n))}}(this[Ve].choiceButtonContainer,this[st].choiceButtons)}[lt](e,t){const o=super[lt](e,t);if(t.choiceButtonPartType||t.choices){const t=e.choices.map((t=>{const o=Kt(e.choiceButtonPartType);return"part"in o&&(o.part="choice-button"),o.textContent=t,o}));Object.freeze(t),Object.assign(o,{choiceButtons:t})}return o}get[_t](){const e=super[_t],t=e.content.querySelector("slot:not([name])");return t&&t.replaceWith(Yt.html(oi||(oi=ii`
        <div id="alertDialogContent">
          <slot></slot>
          <div id="choiceButtonContainer" part="choice-button-container"></div>
        </div>
      `))),e}}const ni=document.createElement("div");ni.attachShadow({mode:"open",delegatesFocus:!0});const ai=ni.shadowRoot.delegatesFocus;function si(e){if("selectedText"in e)return e.selectedText;if("value"in e&&"options"in e){const t=e.value,o=e.options.find((e=>e.value===t));return o?o.innerText:""}return"value"in e?e.value:e.innerText}function li(e,t){const{ariaLabel:o,ariaLabelledby:i}=t,r=e.isConnected?e.getRootNode():null;let n=null;if(i&&r){n=i.split(" ").map((o=>{const i=r.getElementById(o);return i?i===e&&null!==t.value?t.selectedText:si(i):""})).join(" ")}else if(o)n=o;else if(r){const t=e.id;if(t){const e=r.querySelector(`[for="${t}"]`);e instanceof HTMLElement&&(n=si(e))}if(null===n){const t=e.closest("label");t&&(n=si(t))}}return n&&(n=n.trim()),n}let ui,ci,di=e=>e,pi=!1;const hi=Symbol("focusVisibleChangedListener");function fi(e){return class extends e{constructor(){super(),this.addEventListener("focusout",(e=>{Promise.resolve().then((()=>{const t=e.relatedTarget||document.activeElement,o=this===t,i=Et(this,t);!o&&!i&&(this[it]({focusVisible:!1}),document.removeEventListener("focusvisiblechange",this[hi]),this[hi]=null)}))})),this.addEventListener("focusin",(()=>{Promise.resolve().then((()=>{this[st].focusVisible!==pi&&this[it]({focusVisible:pi}),this[hi]||(this[hi]=()=>{this[it]({focusVisible:pi})},document.addEventListener("focusvisiblechange",this[hi]))}))}))}get[Oe](){return Object.assign(super[Oe]||{},{focusVisible:!1})}[We](e){if(super[We]&&super[We](e),e.focusVisible){const{focusVisible:e}=this[st];this.toggleAttribute("focus-visible",e)}}get[_t](){const e=super[_t]||Gt.html(ui||(ui=di``));return e.content.append(Yt.html(ci||(ci=di`
        <style>
          :host {
            outline: none;
          }

          :host([focus-visible]:focus-within) {
            outline-color: Highlight; /* Firefox */
            outline-color: -webkit-focus-ring-color; /* All other browsers */
            outline-style: auto;
          }
        </style>
      `))),e}}}function mi(e){if(pi!==e){pi=e;const t=new CustomEvent("focus-visible-changed",{detail:{focusVisible:pi}});document.dispatchEvent(t);const o=new CustomEvent("focusvisiblechange",{detail:{focusVisible:pi}});document.dispatchEvent(o)}}function vi(e){return class extends e{get[Ne](){return!0}focus(e){const t=this[Te];t&&t.focus(e)}get[Te](){return Ot(this[rt])}}}window.addEventListener("keydown",(()=>{mi(!0)}),{capture:!0}),window.addEventListener("mousedown",(()=>{mi(!1)}),{capture:!0});let gi,bi=e=>e;const yi=Symbol("extends"),_i=Symbol("delegatedPropertySetters"),wi={a:!0,area:!0,button:!0,details:!0,iframe:!0,input:!0,select:!0,textarea:!0},xi={address:["scroll"],blockquote:["scroll"],caption:["scroll"],center:["scroll"],dd:["scroll"],dir:["scroll"],div:["scroll"],dl:["scroll"],dt:["scroll"],fieldset:["scroll"],form:["reset","scroll"],frame:["load"],h1:["scroll"],h2:["scroll"],h3:["scroll"],h4:["scroll"],h5:["scroll"],h6:["scroll"],iframe:["load"],img:["abort","error","load"],input:["abort","change","error","select","load"],li:["scroll"],link:["load"],menu:["scroll"],object:["error","scroll"],ol:["scroll"],p:["scroll"],script:["error","load"],select:["change","scroll"],tbody:["scroll"],tfoot:["scroll"],thead:["scroll"],textarea:["change","select","scroll"]},Ei=["click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel"],Oi={abort:!0,change:!0,reset:!0},Ai=["address","article","aside","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"],Ni=["accept-charset","autoplay","buffered","challenge","codebase","colspan","contenteditable","controls","crossorigin","datetime","dirname","for","formaction","http-equiv","icon","ismap","itemprop","keytype","language","loop","manifest","maxlength","minlength","muted","novalidate","preload","radiogroup","readonly","referrerpolicy","rowspan","scoped","usemap"],Pi=vi(zt);class Ii extends Pi{constructor(){super();const e=this;!this[Qe]&&e.attachInternals&&(this[Qe]=e.attachInternals())}attributeChangedCallback(e,t,o){if(Ni.indexOf(e)>=0){const t=Object.assign({},this[st].innerAttributes,{[e]:o});this[it]({innerAttributes:t})}else super.attributeChangedCallback(e,t,o)}blur(){this.inner.blur()}get[Oe](){return Object.assign(super[Oe],{innerAttributes:{}})}get[Ae](){return wi[this.extends]?0:-1}get extends(){return this.constructor[yi]}get inner(){const e=this[Ve]&&this[Ve].inner;return e||console.warn("Attempted to get an inner standard element before it was instantiated."),e}static get observedAttributes(){return[...super.observedAttributes,...Ni]}[We](e){super[We](e);const t=this.inner;if(this[Ie]){(xi[this.extends]||[]).forEach((e=>{t.addEventListener(e,(()=>{const t=new Event(e,{bubbles:Oi[e]||!1});this.dispatchEvent(t)}))})),"disabled"in t&&Ei.forEach((e=>{this.addEventListener(e,(e=>{t.disabled&&e.stopImmediatePropagation()}))}))}if(e.tabIndex&&(t.tabIndex=this[st].tabIndex),e.innerAttributes){const{innerAttributes:e}=this[st];for(const o in e)Ti(t,o,e[o])}this.constructor[_i].forEach((o=>{if(e[o]){const e=this[st][o];("selectionEnd"===o||"selectionStart"===o)&&null===e||(t[o]=e)}}))}[et](e){if(super[et](e),e.disabled){const{disabled:e}=this[st];void 0!==e&&It(this,"disabled",e)}}get[_t](){const e=Ai.includes(this.extends)?"block":"inline-block",t=this.extends;return Gt.html(gi||(gi=bi`
      <style>
        :host {
          display: ${0}
        }
        
        [part~="inner"] {
          box-sizing: border-box;
          height: 100%;
          width: 100%;
        }
      </style>
      <${0} id="inner" part="inner ${0}">
        <slot></slot>
      </${0}>
    `),e,t,t,t)}static wrap(e){class t extends Ii{}t[yi]=e;const o=document.createElement(e);return function(e,t){const o=Object.getOwnPropertyNames(t);e[_i]=[],o.forEach((o=>{const i=Object.getOwnPropertyDescriptor(t,o);if(!i)return;const r=function(e,t){if("function"==typeof t.value){if("constructor"!==e)return function(e,t){const o=function(...t){this.inner[e](...t)};return{configurable:t.configurable,enumerable:t.enumerable,value:o,writable:t.writable}}(e,t)}else if("function"==typeof t.get||"function"==typeof t.set)return function(e,t){const o={configurable:t.configurable,enumerable:t.enumerable};t.get&&(o.get=function(){return function(e,t){return e[st][t]||e[rt]&&e.inner[t]}(this,e)});t.set&&(o.set=function(t){!function(e,t,o){e[st][t]!==o&&e[it]({[t]:o})}(this,e,t)});t.writable&&(o.writable=t.writable);return o}(e,t);return null}(o,i);r&&(Object.defineProperty(e.prototype,o,r),r.set&&e[_i].push(o))}))}(t,Object.getPrototypeOf(o)),t}}function Ti(e,t,o){Tt[t]?"string"==typeof o?e.setAttribute(t,""):null===o&&e.removeAttribute(t):null!=o?e.setAttribute(t,o.toString()):e.removeAttribute(t)}let Si,ki=e=>e;const Ci=function(e){return class extends e{get[Oe](){return Object.assign(super[Oe]||{},{composeFocus:!ai})}[We](e){super[We]&&super[We](e),this[Ie]&&this.addEventListener("mousedown",(e=>{if(this[st].composeFocus&&0===e.button&&e.target instanceof Element){const t=function(e){for(const t of Pt(e)){const e=t[ae]||t,o=e;if(e instanceof HTMLElement&&e.tabIndex>=0&&!o.disabled&&!(e instanceof HTMLSlotElement))return e}return null}(e.target);t&&(t.focus(),e.preventDefault())}}))}}}(function(e){return class extends e{get ariaLabel(){return this[st].ariaLabel}set ariaLabel(e){this[st].removingAriaAttribute||this[it]({ariaLabel:String(e)})}get ariaLabelledby(){return this[st].ariaLabelledby}set ariaLabelledby(e){this[st].removingAriaAttribute||this[it]({ariaLabelledby:String(e)})}get[Oe](){return Object.assign(super[Oe]||{},{ariaLabel:null,ariaLabelledby:null,inputLabel:null,removingAriaAttribute:!1})}[We](e){if(super[We]&&super[We](e),this[Ie]&&this.addEventListener("focus",(()=>{this[Xe]=!0;const e=li(this,this[st]);this[it]({inputLabel:e}),this[Xe]=!1})),e.inputLabel){const{inputLabel:e}=this[st];e?this[He].setAttribute("aria-label",e):this[He].removeAttribute("aria-label")}}[et](e){if(super[et]&&super[et](e),this[Ie]){(window.requestIdleCallback||setTimeout)((()=>{const e=li(this,this[st]);this[it]({inputLabel:e})}))}const{ariaLabel:t,ariaLabelledby:o}=this[st];e.ariaLabel&&!this[st].removingAriaAttribute&&this.getAttribute("aria-label")&&(this.setAttribute("delegated-label",t),this[it]({removingAriaAttribute:!0}),this.removeAttribute("aria-label")),e.ariaLabelledby&&!this[st].removingAriaAttribute&&this.getAttribute("aria-labelledby")&&(this.setAttribute("delegated-labelledby",o),this[it]({removingAriaAttribute:!0}),this.removeAttribute("aria-labelledby")),e.removingAriaAttribute&&this[st].removingAriaAttribute&&this[it]({removingAriaAttribute:!1})}[lt](e,t){const o=super[lt]?super[lt](e,t):{};if(t.ariaLabel&&e.ariaLabel||t.selectedText&&e.ariaLabelledby&&this.matches(":focus-within")){const t=li(this,e);Object.assign(o,{inputLabel:t})}return o}}}(fi(Ii.wrap("button"))));class Ri extends Ci{get[Oe](){return Object.assign(super[Oe],{role:"button"})}get[He](){return this[Ve].inner}[yt](){const e=new MouseEvent("click",{bubbles:!0,cancelable:!0});this.dispatchEvent(e)}get[_t](){const e=super[_t];return e.content.append(Yt.html(Si||(Si=ki`
        <style>
          :host {
            display: inline-flex;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
          }

          [part~="button"] {
            align-items: center;
            background: none;
            border: none;
            color: inherit;
            flex: 1;
            font: inherit;
            outline: none;
            padding: 0;
          }
        </style>
      `))),e}}let Li,Di=e=>e;class qi extends(function(e){return class extends e{get[_t](){const e=super[_t];return e.content.append(Yt.html(Li||(Li=Di`
        <style>
          :host([disabled]) ::slotted(*) {
            opacity: 0.5;
          }

          [part~="button"] {
            display: inline-flex;
            justify-content: center;
            margin: 0;
            position: relative;
          }
        </style>
      `))),e}}}(Ri)){}let ji,Mi=e=>e;class Ui extends qi{get[_t](){const e=super[_t];return e.content.append(Yt.html(ji||(ji=Mi`
        <style>
          [part~="button"] {
            background: #eee;
            border: 1px solid #ccc;
            padding: 0.25em 0.5em;
          }
        </style>
      `))),e}}let Fi,Bi=e=>e;class zi extends(ei(ri)){get[Oe](){return Object.assign(super[Oe],{choiceButtonPartType:Ui})}get[_t](){const e=super[_t];return e.content.append(Yt.html(Fi||(Fi=Bi`
        <style>
          [part~="frame"] {
            padding: 1em;
          }

          [part~="choice-button-container"] {
            margin-top: 1em;
          }

          [part~="choice-button"]:not(:first-child) {
            margin-left: 0.5em;
          }
        </style>
      `))),e}}customElements.define("elix-alert-dialog",class extends zi{});class Vi extends zt{get disabled(){return!0}[We](e){super[We](e),this[Ie]&&this.setAttribute("aria-hidden","true")}}let Hi,Yi=e=>e;class Gi extends Vi{get[_t](){return Gt.html(Hi||(Hi=Yi`
      <style>
        :host {
          padding: 0 !important;
        }

        hr {
          border-bottom-width: 0px;
          border-color: #fff; /* Ends up as light gray */
          border-top-width: 1px;
          margin: 0.25em 0;
        }
      </style>
      <hr>
    `))}}function $i(e){return class extends e{get[Oe](){return Object.assign(super[Oe]||{},{disabled:!1})}get disabled(){return this[st].disabled}set disabled(e){this[it]({disabled:e})}[et](e){if(super[et]&&super[et](e),e.disabled&&(this.toggleAttribute("disabled",this.disabled),this[Xe])){const e=new CustomEvent("disabled-changed",{bubbles:!0});this.dispatchEvent(e);const t=new CustomEvent("disabledchange",{bubbles:!0});this.dispatchEvent(t)}}}}customElements.define("elix-menu-separator",class extends Gi{});class Ki extends(function(e){return class extends e{constructor(){super();const e=this;!this[Qe]&&e.attachInternals&&(this[Qe]=e.attachInternals())}attributeChangedCallback(e,t,o){if("current"===e){const t=xt(e,o);this.current!==t&&(this.current=t)}else super.attributeChangedCallback(e,t,o)}get[Oe](){return Object.assign(super[Oe]||{},{current:!1})}[We](e){if(super[We](e),e.current){const{current:e}=this[st];It(this,"current",e)}}[et](e){if(super[et]&&super[et](e),e.current){const{current:e}=this[st],t=new CustomEvent("current-changed",{bubbles:!0,detail:{current:e}});this.dispatchEvent(t);const o=new CustomEvent("currentchange",{bubbles:!0,detail:{current:e}});this.dispatchEvent(o)}}get current(){return this[st].current}set current(e){this[it]({current:e})}}}($i(function(e){return class extends e{constructor(){super();const e=this;!this[Qe]&&e.attachInternals&&(this[Qe]=e.attachInternals())}get[Oe](){return Object.assign(super[Oe]||{},{selected:!1})}[We](e){if(super[We](e),e.selected){const{selected:e}=this[st];It(this,"selected",e)}}[et](e){if(super[et]&&super[et](e),e.selected){const{selected:e}=this[st],t=new CustomEvent("selected-changed",{bubbles:!0,detail:{selected:e}});this.dispatchEvent(t);const o=new CustomEvent("selectedchange",{bubbles:!0,detail:{selected:e}});this.dispatchEvent(o)}}get selected(){return this[st].selected}set selected(e){this[it]({selected:e})}}}(zt)))){}let Qi,Xi=e=>e;class Wi extends Ki{get[_t](){return Gt.html(Qi||(Qi=Xi`
      <style>
        :host {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
          font-size: 10pt;
          white-space: nowrap;
        }

        :host([disabled]) {
          opacity: 0.5;
        }

        #checkmark {
          height: 1em;
          visibility: hidden;
          width: 1em;
        }

        :host([selected]) #checkmark {
          visibility: visible;
        }
      </style>
      <svg id="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="4 6 18 12">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
      </svg>
      <slot></slot>
    `))}}customElements.define("elix-menu-item",class extends Wi{});const Zi={a:"link",article:"region",button:"button",h1:"sectionhead",h2:"sectionhead",h3:"sectionhead",h4:"sectionhead",h5:"sectionhead",h6:"sectionhead",hr:"sectionhead",iframe:"region",link:"link",menu:"menu",ol:"list",option:"option",output:"liveregion",progress:"progressbar",select:"select",table:"table",td:"td",textarea:"textbox",th:"th",ul:"list"};function Ji(e){const t=e[rt],o=t&&t.querySelector("slot:not([name])");return o&&o.parentNode instanceof Element&&function(e){for(const t of Pt(e))if(t instanceof HTMLElement&&er(t))return t;return null}(o.parentNode)||e}function er(e){const t=getComputedStyle(e),o=t.overflowX,i=t.overflowY;return"scroll"===o||"auto"===o||"scroll"===i||"auto"===i}function tr(e,t,o){const i=e[xe](e[st],{direction:o,index:t});if(i<0)return!1;const r=e[st].currentIndex!==i;return r&&e[it]({currentIndex:i}),r}const or=["applet","basefont","embed","font","frame","frameset","isindex","keygen","link","multicol","nextid","noscript","object","param","script","style","template","noembed"];function ir(e,t,o){const i=e[st].items,r=o?0:i.length-1,n=o?i.length:0,a=o?1:-1;let s,l,u=null;const{availableItemFlags:c}=e[st];for(s=r;s!==n;s+=a){if((!c||c[s])&&(l=i[s].getBoundingClientRect(),l.top<=t&&t<=l.bottom)){u=i[s];break}}if(!u||!l)return null;const d=getComputedStyle(u),p=d.paddingTop?parseFloat(d.paddingTop):0,h=d.paddingBottom?parseFloat(d.paddingBottom):0,f=l.top+p,m=f+u.clientHeight-p-h;return o&&f<=t||!o&&m>=t?s:s-a}function rr(e,t){const o=e[st].items,i=e[st].currentIndex,r=e[ot].getBoundingClientRect(),n=ir(e,t?r.bottom:r.top,t);let a;if(n&&i===n){const r=o[i].getBoundingClientRect(),n=e[ot].clientHeight;a=ir(e,t?r.bottom+n:r.top-n,t)}else a=n;if(!a){const i=t?o.length-1:0;a=e[xe]?e[xe](e[st],{direction:t?-1:1,index:i}):i}const s=a!==i;if(s){const t=e[Xe];e[Xe]=!0,e[it]({currentIndex:a}),e[Xe]=t}return s}const nr=Symbol("typedPrefix"),ar=Symbol("prefixTimeout");function sr(e){const t=e;t[ar]&&(clearTimeout(t[ar]),t[ar]=!1)}function lr(e){e[nr]="",sr(e)}function ur(e){sr(e),e[ar]=setTimeout((()=>{lr(e)}),1e3)}function cr(e){return class extends e{get[Oe](){return Object.assign(super[Oe]||{},{items:null})}[lt](e,t){const o=super[lt]?super[lt](e,t):{};if(t.content){const t=e.content,i=t?Array.prototype.filter.call(t,(e=>{return(t=e)instanceof Element&&(!t.localName||or.indexOf(t.localName)<0);var t})):null;i&&Object.freeze(i),Object.assign(o,{items:i})}return o}}}let dr,pr=e=>e;const hr=function(e){return class extends e{get[Oe](){const e=super[Oe];return Object.assign(e,{itemRole:e.itemRole||"menuitem",role:e.role||"menu"})}get itemRole(){return this[st].itemRole}set itemRole(e){this[it]({itemRole:e})}[We](e){super[We]&&super[We](e);const t=this[st].items;if((e.items||e.itemRole)&&t){const{itemRole:e}=this[st];t.forEach((t=>{e===Zi[t.localName]?t.removeAttribute("role"):t.setAttribute("role",e)}))}if(e.role){const{role:e}=this[st];this.setAttribute("role",e)}}get role(){return super.role}set role(e){super.role=e,this[tt]||this[it]({role:e})}}}(function(e){return class extends e{attributeChangedCallback(e,t,o){if("current-index"===e)this.currentIndex=Number(o);else if("current-item-required"===e){const t=xt(e,o);this.currentItemRequired!==t&&(this.currentItemRequired=t)}else if("cursor-operations-wrap"===e){const t=xt(e,o);this.cursorOperationsWrap!==t&&(this.cursorOperationsWrap=t)}else super.attributeChangedCallback(e,t,o)}get currentIndex(){const{items:e,currentIndex:t}=this[st];return e&&e.length>0?t:-1}set currentIndex(e){isNaN(e)||this[it]({currentIndex:e})}get currentItem(){const{items:e,currentIndex:t}=this[st];return e&&e[t]}set currentItem(e){const{items:t}=this[st];if(!t)return;const o=t.indexOf(e);this[it]({currentIndex:o})}get currentItemRequired(){return this[st].currentItemRequired}set currentItemRequired(e){this[it]({currentItemRequired:e})}get cursorOperationsWrap(){return this[st].cursorOperationsWrap}set cursorOperationsWrap(e){this[it]({cursorOperationsWrap:e})}goFirst(){return super.goFirst&&super.goFirst(),this[Re]()}goLast(){return super.goLast&&super.goLast(),this[Le]()}goNext(){return super.goNext&&super.goNext(),this[qe]()}goPrevious(){return super.goPrevious&&super.goPrevious(),this[je]()}[et](e){if(super[et]&&super[et](e),e.currentIndex&&this[Xe]){const{currentIndex:e}=this[st],t=new CustomEvent("current-index-changed",{bubbles:!0,detail:{currentIndex:e}});this.dispatchEvent(t);const o=new CustomEvent("currentindexchange",{bubbles:!0,detail:{currentIndex:e}});this.dispatchEvent(o)}}}}(function(e){return class extends e{[et](e){super[et]&&super[et](e),e.currentItem&&this.scrollCurrentItemIntoView()}scrollCurrentItemIntoView(){super.scrollCurrentItemIntoView&&super.scrollCurrentItemIntoView();const{currentItem:e,items:t}=this[st];if(!e||!t)return;const o=this[ot].getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.bottom-o.bottom,n=i.left-o.left,a=i.right-o.right,s=i.top-o.top,l=this[st].orientation||"both";"horizontal"!==l&&"both"!==l||(a>0?this[ot].scrollLeft+=a:n<0&&(this[ot].scrollLeft+=Math.ceil(n))),"vertical"!==l&&"both"!==l||(r>0?this[ot].scrollTop+=r:s<0&&(this[ot].scrollTop+=Math.ceil(s)))}get[ot](){return super[ot]||Ji(this)}}}(vi(function(e){return class extends e{get[Oe](){return Object.assign(super[Oe]||{},{canGoDown:null,canGoLeft:null,canGoRight:null,canGoUp:null})}[ke](){return super[ke]&&super[ke](),this[qe]()}[Ce](){return super[Ce]&&super[Ce](),this[Le]()}[De](){return super[De]&&super[De](),this[st]&&this[st].rightToLeft?this[qe]():this[je]()}[Me](){return super[Me]&&super[Me](),this[st]&&this[st].rightToLeft?this[je]():this[qe]()}[Ue](){return super[Ue]&&super[Ue](),this[Re]()}[Be](){return super[Be]&&super[Be](),this[je]()}[lt](e,t){const o=super[lt]?super[lt](e,t):{};if(t.canGoNext||t.canGoPrevious||t.languageDirection||t.orientation||t.rightToLeft){const{canGoNext:t,canGoPrevious:i,orientation:r,rightToLeft:n}=e,a="horizontal"===r||"both"===r,s="vertical"===r||"both"===r,l=s&&t,u=!!a&&(n?t:i),c=!!a&&(n?i:t),d=s&&i;Object.assign(o,{canGoDown:l,canGoLeft:u,canGoRight:c,canGoUp:d})}return o}}}(function(e){return class extends e{get items(){return this[st]?this[st].items:null}[et](e){if(super[et]&&super[et](e),!this[Ie]&&e.items&&this[Xe]){const e=new CustomEvent("items-changed",{bubbles:!0});this.dispatchEvent(e);const t=new CustomEvent("itemschange",{bubbles:!0});this.dispatchEvent(t)}}}}(function(e){return class extends e{[xe](e,t={}){const o=void 0!==t.direction?t.direction:1,i=void 0!==t.index?t.index:e.currentIndex,r=void 0!==t.wrap?t.wrap:e.cursorOperationsWrap,{items:n}=e,a=n?n.length:0;if(0===a)return-1;if(r){let t=(i%a+a)%a;const r=((t-o)%a+a)%a;for(;t!==r;){if(!e.availableItemFlags||e.availableItemFlags[t])return t;t=((t+o)%a+a)%a}}else for(let t=i;t>=0&&t<a;t+=o){if(!e.availableItemFlags||e.availableItemFlags[t])return t}return-1}get[Oe](){return Object.assign(super[Oe]||{},{currentIndex:-1,desiredCurrentIndex:null,currentItem:null,currentItemRequired:!1,cursorOperationsWrap:!1})}[Re](){return super[Re]&&super[Re](),tr(this,0,1)}[Le](){return super[Le]&&super[Le](),tr(this,this[st].items.length-1,-1)}[qe](){super[qe]&&super[qe]();const{currentIndex:e,items:t}=this[st];return tr(this,e<0&&t?0:e+1,1)}[je](){super[je]&&super[je]();const{currentIndex:e,items:t}=this[st];return tr(this,e<0&&t?t.length-1:e-1,-1)}[lt](e,t){const o=super[lt]?super[lt](e,t):{};if(t.availableItemFlags||t.items||t.currentIndex||t.currentItemRequired){const{currentIndex:i,desiredCurrentIndex:r,currentItem:n,currentItemRequired:a,items:s}=e,l=s?s.length:0;let u,c=r;if(t.items&&!t.currentIndex&&n&&l>0&&s[i]!==n){const e=s.indexOf(n);e>=0&&(c=e)}else t.currentIndex&&(i<0&&null!==n||i>=0&&(0===l||s[i]!==n)||null===r)&&(c=i);a&&c<0&&(c=0),c<0?(c=-1,u=-1):0===l?u=-1:(u=Math.max(Math.min(l-1,c),0),u=this[xe](e,{direction:1,index:u,wrap:!1}),u<0&&(u=this[xe](e,{direction:-1,index:u-1,wrap:!1})));const d=s&&s[u]||null;Object.assign(o,{currentIndex:u,desiredCurrentIndex:c,currentItem:d})}return o}}}(function(e){return class extends e{get[Oe](){return Object.assign(super[Oe]||{},{texts:null})}[Se](e){return super[Se]?super[Se](e):(t=e).getAttribute("aria-label")||t.getAttribute("alt")||t.innerText||t.textContent||"";var t}[lt](e,t){const o=super[lt]?super[lt](e,t):{};if(t.items){const{items:t}=e,i=function(e,t){return e?Array.from(e,(e=>t(e))):null}(t,this[Se]);i&&(Object.freeze(i),Object.assign(o,{texts:i}))}return o}}}(function(e){return class extends e{[ke](){if(super[ke])return super[ke]()}[Ce](){if(super[Ce])return super[Ce]()}[De](){if(super[De])return super[De]()}[Me](){if(super[Me])return super[Me]()}[Ue](){if(super[Ue])return super[Ue]()}[Be](){if(super[Be])return super[Be]()}[Ge](e){let t=!1;if(e.target===this){const o=this[st].orientation||"both",i="horizontal"===o||"both"===o,r="vertical"===o||"both"===o;switch(e.key){case"ArrowDown":r&&(t=e.altKey?this[Ce]():this[ke]());break;case"ArrowLeft":!i||e.metaKey||e.altKey||(t=this[De]());break;case"ArrowRight":!i||e.metaKey||e.altKey||(t=this[Me]());break;case"ArrowUp":r&&(t=e.altKey?this[Ue]():this[Be]());break;case"End":t=this[Ce]();break;case"Home":t=this[Ue]()}}return t||super[Ge]&&super[Ge](e)||!1}}}(Ht(function(e){return class extends e{[Ge](e){let t=!1;if("horizontal"!==this.orientation)switch(e.key){case"PageDown":t=this.pageDown();break;case"PageUp":t=this.pageUp()}return t||super[Ge]&&super[Ge](e)}get orientation(){return super.orientation||this[st]&&this[st].orientation||"both"}pageDown(){return super.pageDown&&super.pageDown(),rr(this,!0)}pageUp(){return super.pageUp&&super.pageUp(),rr(this,!1)}get[ot](){return super[ot]||Ji(this)}}}(function(e){return class extends e{constructor(){super(),lr(this)}[Fe](e){if(super[Fe]&&super[Fe](e),null==e||0===e.length)return!1;const t=e.toLowerCase(),o=this[st].texts.findIndex((o=>o.substr(0,e.length).toLowerCase()===t));if(o>=0){const e=this[st].currentIndex;return this[it]({currentIndex:o}),this[st].currentIndex!==e}return!1}[Ge](e){let t;switch(e.key){case"Backspace":!function(e){const t=e,o=t[nr]?t[nr].length:0;o>0&&(t[nr]=t[nr].substr(0,o-1));e[Fe](t[nr]),ur(e)}(this),t=!0;break;case"Escape":lr(this);break;default:e.ctrlKey||e.metaKey||e.altKey||1!==e.key.length||function(e,t){const o=e,i=o[nr]||"";o[nr]=i+t,e[Fe](o[nr]),ur(e)}(this,e.key)}return t||super[Ge]&&super[Ge](e)}}}(Vt(function(e){return cr(vo(e))}(function(e){return class extends e{constructor(){super(),this.addEventListener("mousedown",(e=>{0===e.button&&(this[Xe]=!0,this[yt](e),this[Xe]=!1)}))}[We](e){super[We]&&super[We](e),this[Ie]&&Object.assign(this.style,{touchAction:"manipulation",mozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"})}[yt](e){const t=e.composedPath?e.composedPath()[0]:e.target,{items:o,currentItemRequired:i}=this[st];if(o&&t instanceof Node){const r=At(o,t),n=r>=0?o[r]:null;(n&&!n.disabled||!n&&!i)&&(this[it]({currentIndex:r}),e.stopPropagation())}}}}(zt)))))))))))))));class fr extends hr{get[Oe](){return Object.assign(super[Oe],{availableItemFlags:null,highlightCurrentItem:!0,orientation:"vertical",currentItemFocused:!1})}async flashCurrentItem(){const e=this[st].focusVisible,t=matchMedia("(pointer: fine)").matches;if(e||t){const e=75;this[it]({highlightCurrentItem:!1}),await new Promise((t=>setTimeout(t,e))),this[it]({highlightCurrentItem:!0}),await new Promise((t=>setTimeout(t,e)))}}[We](e){super[We](e),this[Ie]&&(this.addEventListener("disabledchange",(e=>{this[Xe]=!0;const t=e.target,{items:o}=this[st],i=null===o?-1:o.indexOf(t);if(i>=0){const e=this[st].availableItemFlags.slice();e[i]=!t.disabled,this[it]({availableItemFlags:e})}this[Xe]=!1})),"PointerEvent"in window?this.addEventListener("pointerdown",(e=>this[yt](e))):this.addEventListener("touchstart",(e=>this[yt](e))),this.removeAttribute("tabindex"));const{currentIndex:t,items:o}=this[st];if((e.items||e.currentIndex||e.highlightCurrentItem)&&o){const{highlightCurrentItem:e}=this[st];o.forEach(((o,i)=>{o.toggleAttribute("current",e&&i===t)}))}(e.items||e.currentIndex||e.currentItemFocused||e.focusVisible)&&o&&o.forEach(((e,o)=>{const i=o===t,r=t<0&&0===o;this[st].currentItemFocused?i||r||e.removeAttribute("tabindex"):(i||r)&&(e.tabIndex=0)}))}[et](e){if(super[et](e),!this[Ie]&&e.currentIndex&&!this[st].currentItemFocused){const{currentItem:e}=this[st];(e instanceof HTMLElement?e:this).focus(),this[it]({currentItemFocused:!0})}}get[ot](){return this[Ve].content}[lt](e,t){const o=super[lt](e,t);if(t.currentIndex&&Object.assign(o,{currentItemFocused:!1}),t.items){const{items:t}=e,i=null===t?null:t.map((e=>!e.disabled));Object.assign(o,{availableItemFlags:i})}return o}get[_t](){return Gt.html(dr||(dr=pr`
      <style>
        :host {
          box-sizing: border-box;
          cursor: default;
          display: inline-flex;
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
        }

        #content {
          display: flex;
          flex: 1;
          flex-direction: column;
          max-height: 100%;
          overflow-x: hidden;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch; /* for momentum scrolling */
        }
        
        ::slotted(*) {
          flex-shrink: 0;
          outline: none;
          touch-action: manipulation;
        }

        ::slotted(option) {
          font: inherit;
          min-height: inherit;
        }
      </style>
      <div id="content" role="none">
        <slot></slot>
      </div>
    `))}}const mr=Symbol("documentMouseupListener");async function vr(e){const t=this,o=t[rt].elementsFromPoint(e.clientX,e.clientY);if(t.opened){const e=o.indexOf(t[Ve].source)>=0,i=t[Ve].popup,r=o.indexOf(i)>=0,n=i.frame&&o.indexOf(i.frame)>=0;e?t[st].dragSelect&&(t[Xe]=!0,t[it]({dragSelect:!1}),t[Xe]=!1):r||n||(t[Xe]=!0,await t.close(),t[Xe]=!1)}}function gr(e){e[st].opened&&e.isConnected?e[mr]||(e[mr]=vr.bind(e),document.addEventListener("mouseup",e[mr])):e[mr]&&(document.removeEventListener("mouseup",e[mr]),e[mr]=null)}function br(e,t,o,i){const r=yr(e,o,i);let n=0,a=0;const s="above"===o||"below"===o;switch(o){case"above":n=r.y-t.top;break;case"below":n=t.bottom-r.y;break;case"left":a=r.x-t.left;break;case"right":a=t.right-r.x}switch(i){case"bottom":n=r.y-t.top;break;case"center":s?a=t.width:n=t.height;break;case"stretch":s?a=e.width:n=e.height;break;case"left":a=t.right-r.x;break;case"right":a=r.x-t.left;break;case"top":n=t.bottom-r.y}return n=Math.max(0,n),a=Math.max(0,a),{height:n,width:a}}function yr(e,t,o){let i=0,r=0;const n="above"===t||"below"===t;switch(t){case"above":r=e.top;break;case"below":r=e.bottom;break;case"left":case"right":i=e[t]}switch(o){case"bottom":case"top":r=e[o];break;case"left":case"right":i=e[o];break;case"center":n?i=e.left+e.width/2:r=e.top+e.height/2;break;case"stretch":n?i=e.left:r=e.top}return{x:i,y:r}}function _r(e,t,o,i){const r=function(e){const{align:t,direction:o,rightToLeft:i}=e,r="below",n={above:"above",below:"below",column:"below","column-reverse":"above",left:"left",right:"right",row:i?"left":"right","row-reverse":i?"right":"left"}[o]||r,a={above:"horizontal",below:"horizontal",left:"vertical",right:"vertical"}[n],s={horizontal:"left",vertical:"top"}[a];return{align:{horizontal:{center:"center",end:i?"left":"right",left:"left",right:"right",start:i?"right":"left",stretch:"stretch"},vertical:{bottom:"bottom",center:"center",end:"bottom",start:"top",stretch:"stretch",top:"top"}}[a][t]||s,direction:n,rightToLeft:i}}(i),n=function(e,t){const o={above:"below",below:"above",left:"right",right:"left"},i={top:"bottom",bottom:"top",left:"right",right:"left"},r=[{align:t,direction:e}];"center"===t||"stretch"===t?r.push({align:t,direction:o[e]}):(r.push({align:i[t],direction:e}),r.push({align:t,direction:o[e]}),r.push({align:i[t],direction:o[e]}));return r}(r.direction,r.align);n.sort(((i,r)=>function(e,t,o,i,r){const n=br(o,r,e.direction,e.align),a=br(o,r,t.direction,t.align),s=i.width<=n.width,l=i.height<=n.height,u=s||l,c=s&&l,d=i.width<=a.width,p=i.height<=a.height,h=d||p,f=d&&p,m=n.width*n.height,v=a.width*a.height;return c&&f?0:c?-1:f?1:u&&!h?-1:h&&!u?1:u&&m>v?-1:h&&v>m?1:m>v?-1:v>m?1:0}(i,r,e,t,o)));const a=n[0];return a.rect=function(e,t,o,i,r){const n=yr(e,i,r);let{x:a,y:s,bottom:l,right:u}=o,c=0,d=0,p=t.height,h=t.width;const f="above"===i||"below"===i;switch(i){case"above":d=n.y-t.height,l=n.y;break;case"below":d=n.y,s=n.y;break;case"left":c=n.x-t.width,u=n.x;break;case"right":c=n.x,a=n.x}switch(r){case"bottom":d=n.y-t.height,l=n.y;break;case"left":c=n.x,a=n.x;break;case"center":f?c=n.x-t.width/2:d=n.y-t.height/2;break;case"right":c=n.x-t.width,u=n.x;break;case"stretch":f?(c=n.x,h=e.width):(d=n.y,p=e.height);break;case"top":d=n.y,s=n.y}return c=Math.max(c,a),d=Math.max(d,s),h=Math.min(h,u-c),p=Math.min(p,l-d),new DOMRect(c,d,h,p)}(e,t,o,a.direction,a.align),a}let wr,xr=e=>e;const Er=Symbol("resizeListener"),Or=$i(fi(Vt(io(zt))));function Ar(e){const{popupAlign:t,popupDirection:o,rightToLeft:i}=e[st],r=_r(e[Ve].source.getBoundingClientRect(),e[Ve].popup.getBoundingClientRect(),Pr(),{align:t,direction:o,rightToLeft:i});e[it]({popupLayout:r})}function Nr(e,t,o){if(!o||o.popupPartType){const{popupPartType:o}=t,i=e.getElementById("popup");i&&Xt(i,o)}if(!o||o.sourcePartType){const{sourcePartType:o}=t,i=e.getElementById("source");i&&Xt(i,o)}}function Pr(){const e=window.visualViewport;return e?new DOMRect(e.offsetLeft,e.offsetTop,e.width,e.height):new DOMRect(0,0,window.innerWidth,window.innerHeight)}let Ir,Tr=e=>e;const Sr=vi(Ht(function(e){return class extends e{connectedCallback(){super.connectedCallback(),gr(this)}get[Oe](){return Object.assign(super[Oe]||{},{dragSelect:!0})}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),gr(this)}[et](e){super[et](e),e.opened&&gr(this)}[lt](e,t){const o=super[lt](e,t);return t.opened&&e.opened&&Object.assign(o,{dragSelect:!0}),o}}}(class extends Or{get[Oe](){return Object.assign(super[Oe],{ariaHasPopup:"true",popupAlign:"start",popupDirection:"column",popupLayout:null,popupPartType:No,sourcePartType:"div"})}get[He](){return this[Ve].source}get frame(){return this[Ve].popup.frame}get horizontalAlign(){return this[st].popupAlign}set horizontalAlign(e){console.warn('The "horizontalAlign" property has been renamed to "popupAlign"; the "horizontal-align" attribute is now "popup-align".'),this[it]({popupAlign:e})}get popupAlign(){return this[st].popupAlign}set popupAlign(e){this[it]({popupAlign:e})}get popupDirection(){return this[st].popupDirection}set popupDirection(e){this[it]({popupDirection:e})}get popupPosition(){return this[st].popupPosition}set popupPosition(e){console.warn('The "popupPosition" property has been renamed to "popupDirection"; the "popup-position" attribute is now "popup-direction".'),this[it]({popupPosition:e})}get popupPartType(){return this[st].popupPartType}set popupPartType(e){this[it]({popupPartType:e})}[We](e){if(super[We](e),Nr(this[rt],this[st],e),this[Ie]||e.ariaHasPopup){const{ariaHasPopup:e}=this[st];null===e?this[He].removeAttribute("aria-haspopup"):this[He].setAttribute("aria-haspopup",this[st].ariaHasPopup)}if(e.popupPartType&&(this[Ve].popup.addEventListener("open",(()=>{this.opened||(this[Xe]=!0,this.open(),this[Xe]=!1)})),this[Ve].popup.addEventListener("close",(e=>{if(!this.closed){this[Xe]=!0;const t=e.detail.closeResult;this.close(t),this[Xe]=!1}}))),e.opened||e.popupLayout){const{opened:e,popupLayout:t}=this[st];if(e)if(t){const e=this[Ve].popup,o=function(e){const{align:t,direction:o,rect:i}=e,r=Pr(),n={},a="above"===o||"below"===o;switch(o){case"above":n.bottom=r.bottom-i.bottom+"px";break;case"below":n.top=`${i.top}px`;break;case"left":n.right=r.right-i.right+"px";break;case"right":n.left=`${i.left}px`}switch(t){case"bottom":n.bottom=r.bottom-i.bottom+"px";break;case"center":case"stretch":a?(n.left=`${i.left}px`,n.right=r.right-i.right+"px"):(n.bottom=r.bottom-i.bottom+"px",n.top=`${i.top}px`);break;case"left":n.left=`${i.left}px`;break;case"right":n.right=r.right-i.right+"px";break;case"top":n.top=`${i.top}px`}return n}(t);Object.assign(e.style,o,{opacity:""})}else Object.assign(this[Ve].popup.style,{bottom:"",left:"",opacity:0,right:"",top:""});else Object.assign(this[Ve].popup.style,{bottom:"",left:"",opacity:"",right:"",top:""})}if(e.opened){const{opened:e}=this[st];this[Ve].popup.opened=e}if(e.disabled&&"disabled"in this[Ve].source){const{disabled:e}=this[st];this[Ve].source.disabled=e}if(e.popupLayout){const{popupLayout:e}=this[st];if(e){const{align:t,direction:o}=e,i=this[Ve].popup;"position"in i&&(i.position=o),"align"in i&&(i.align=t)}}}[et](e){super[et](e);const{opened:t}=this[st];var o;e.opened?t?(o=this,setTimeout((()=>{o[st].opened&&(Ar(o),function(e){const t=e;t[Er]=()=>{Ar(e)},(window.visualViewport||window).addEventListener("resize",t[Er])}(o))}))):function(e){const t=e;if(t[Er]){(window.visualViewport||window).removeEventListener("resize",t[Er]),t[Er]=null}}(this):e.popupLayout&&this[st].opened&&!this[st].popupLayout&&Ar(this)}get sourcePartType(){return this[st].sourcePartType}set sourcePartType(e){this[it]({sourcePartType:e})}[lt](e,t){const o=super[lt](e,t);return(t.opened&&!e.opened||e.opened&&(t.popupAlign||t.popupDirection||t.rightToLeft))&&Object.assign(o,{popupLayout:null}),o}get[_t](){const e=super[_t];return e.content.append(Yt.html(wr||(wr=xr`
      <style>
        :host {
          display: inline-block;
          position: relative;
        }

        [part~="source"] {
          height: 100%;
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
          width: 100%;
        }

        [part~="popup"] {
          max-height: 100%;
          max-width: 100%;
          outline: none;
          position: fixed;
        }
      </style>
      <div id="source" part="source">
        <slot name="source"></slot>
      </div>
      <div id="popup" part="popup" exportparts="backdrop, frame" role="none">
        <slot></slot>
      </div>
    `))),Nr(e.content,this[st]),e}})));async function kr(e){const t=this,o=e.relatedTarget||document.activeElement;o instanceof Element&&!Et(t,o)&&(t[Xe]=!0,await t.close({canceled:"blur"}),t[Xe]=!1)}const Cr=Symbol("documentMousemoveListener");function Rr(e){const t=this,{hasHoveredOverItemSinceOpened:o,opened:i}=t[st];if(i){const i=e.composedPath?e.composedPath()[0]:e.target,r=t.items;if(i&&i instanceof Node&&r){const e=At(r,i),n=r[e],a=n&&!n.disabled?e:-1;(o||a>=0)&&a!==t[st].currentIndex&&(t[Xe]=!0,t[it]({currentIndex:a}),a>=0&&!o&&t[it]({hasHoveredOverItemSinceOpened:!0}),t[Xe]=!1)}}}function Lr(e){e[st].opened&&e.isConnected?e[Cr]||(e[Cr]=Rr.bind(e),document.addEventListener("mousemove",e[Cr])):e[Cr]&&(document.removeEventListener("mousemove",e[Cr]),e[Cr]=null)}async function Dr(e){const t=e[Xe],o=e[st].currentIndex>=0,i=e.items;if(i){const r=o?i[e[st].currentIndex]:void 0,n=e[st].popupList;o&&"flashCurrentItem"in n&&await n.flashCurrentItem();const a=e[Xe];e[Xe]=t,await e.close(r),e[Xe]=a}}let qr,jr,Mr=e=>e;const Ur=function(e){return class extends e{connectedCallback(){super.connectedCallback(),Lr(this)}get[Oe](){return Object.assign(super[Oe]||{},{currentIndex:-1,hasHoveredOverItemSinceOpened:!1,popupList:null})}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),Lr(this)}[Ge](e){let t=!1;switch(e.key){case"Enter":this.opened&&(Dr(this),t=!0)}return t||super[Ge]&&super[Ge](e)||!1}[We](e){if(super[We]&&super[We](e),e.popupList){const{popupList:e}=this[st];e&&(e.addEventListener("mouseup",(async e=>{const t=this[st].currentIndex;this[st].dragSelect||t>=0?(e.stopPropagation(),this[Xe]=!0,await Dr(this),this[Xe]=!1):e.stopPropagation()})),e.addEventListener("currentindexchange",(e=>{this[Xe]=!0;const t=e;this[it]({currentIndex:t.detail.currentIndex}),this[Xe]=!1})))}if(e.currentIndex||e.popupList){const{currentIndex:e,popupList:t}=this[st];t&&"currentIndex"in t&&(t.currentIndex=e)}}[et](e){if(super[et]&&super[et](e),e.opened){if(this[st].opened){const{popupList:e}=this[st];e.scrollCurrentItemIntoView&&setTimeout((()=>{e.scrollCurrentItemIntoView()}))}Lr(this)}}[lt](e,t){const o=super[lt]?super[lt](e,t):{};return t.opened&&e.opened&&Object.assign(o,{hasHoveredOverItemSinceOpened:!1}),o}}}(class extends Sr{get[Oe](){return Object.assign(super[Oe],{sourcePartType:"button"})}[Ge](e){let t;switch(e.key){case" ":case"ArrowDown":case"ArrowUp":this.closed&&(this.open(),t=!0);break;case"Enter":this.opened||(this.open(),t=!0);break;case"Escape":this.opened&&(this.close({canceled:"Escape"}),t=!0)}if(t=super[Ge]&&super[Ge](e),!t&&this.opened&&!e.metaKey&&!e.altKey)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":case"PageDown":case"PageUp":case" ":t=!0}return t}[We](e){if(super[We](e),this[Ie]&&(this.addEventListener("blur",kr.bind(this)),this[Ve].source.addEventListener("focus",(async e=>{const t=Nt(this[Ve].popup,e),o=null!==this[st].popupHeight;!t&&this.opened&&o&&(this[Xe]=!0,await this.close(),this[Xe]=!1)}))),e.opened){const{opened:e}=this[st];this.toggleAttribute("opened",e)}if(e.sourcePartType){this[Ve].source.addEventListener("mousedown",(e=>{if(this.disabled)return void e.preventDefault();const t=e;t.button&&0!==t.button||(setTimeout((()=>{this.opened||(this[Xe]=!0,this.open(),this[Xe]=!1)})),e.stopPropagation())}))}e.popupPartType&&this[Ve].popup.removeAttribute("tabindex")}get[_t](){const e=super[_t];return e.content.append(Yt.html(Ir||(Ir=Tr`
        <style>
          [part~="source"] {
            cursor: default;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-select: none;
            user-select: none;
          }

          :host([opened][focus-visible]) {
            outline: none;
          }
        </style>
      `))),e}});class Fr extends Ur{get[Oe](){return Object.assign(super[Oe],{menuPartType:fr})}get items(){const e=this[Ve]&&this[Ve].menu;return e?e.items:null}get menuPartType(){return this[st].menuPartType}set menuPartType(e){this[it]({menuPartType:e})}[We](e){if(super[We](e),Br(this[rt],this[st],e),e.menuPartType&&(this[Ve].menu.addEventListener("blur",(async e=>{const t=e.relatedTarget||document.activeElement;this.opened&&!Et(this[Ve].menu,t)&&(this[Xe]=!0,await this.close(),this[Xe]=!1)})),this[Ve].menu.addEventListener("mousedown",(e=>{0===e.button&&this.opened&&(e.stopPropagation(),e.preventDefault())}))),e.opened){const{opened:e}=this[st];this[Ve].source.setAttribute("aria-expanded",e.toString())}}[et](e){super[et](e),e.menuPartType&&this[it]({popupList:this[Ve].menu})}[lt](e,t){const o=super[lt](e,t);return t.opened&&!e.opened&&Object.assign(o,{currentIndex:-1}),o}get[_t](){const e=super[_t],t=e.content.querySelector("slot:not([name])");return t&&t.replaceWith(Yt.html(qr||(qr=Mr`
        <div id="menu" part="menu">
          <slot></slot>
        </div>
      `))),Br(e.content,this[st]),e.content.append(Yt.html(jr||(jr=Mr`
      <style>
        [part~="menu"] {
          max-height: 100%;
        }
      </style>
    `))),e}}function Br(e,t,o){if(!o||o.menuPartType){const{menuPartType:o}=t,i=e.getElementById("menu");i&&Xt(i,o)}}let zr,Vr=e=>e;const Hr=$i(zt);class Yr extends Hr{get[Oe](){return Object.assign(super[Oe],{direction:"down"})}get direction(){return this[st].direction}set direction(e){this[it]({direction:e})}[We](e){if(super[We](e),e.direction){const{direction:e}=this[st];this[Ve].downIcon.style.display="down"===e?"block":"none",this[Ve].upIcon.style.display="up"===e?"block":"none"}}get[_t](){return Gt.html(zr||(zr=Vr`
      <style>
        :host {
          display: inline-block;
        }
      </style>
      <div id="downIcon" part="toggle-icon down-icon">
        <slot name="down-icon"></slot>
      </div>
      <div id="upIcon" part="toggle-icon up-icon">
        <slot name="up-icon"></slot>
      </div>
    `))}}let Gr,$r,Kr=e=>e;function Qr(e,t,o){if(!o||o.popupTogglePartType){const{popupTogglePartType:o}=t,i=e.getElementById("popupToggle");i&&Xt(i,o)}}let Xr,Wr=e=>e;class Zr extends fr{get[_t](){const e=super[_t];return e.content.append(Yt.html(Xr||(Xr=Wr`
        <style>
          :host ::slotted(*) {
            padding: 0.25em 1em;
          }
          
          :host ::slotted([current]) {
            background: highlight;
            color: highlighttext;
          }

          @media (pointer: coarse) {
            ::slotted(*) {
              padding: 1em;
            }
          }
        </style>
      `))),e}}let Jr,en,tn,on=e=>e;class rn extends Yr{get[_t](){const e=super[_t],t=e.content.getElementById("downIcon"),o=Yt.html(Jr||(Jr=on`
      <svg
        id="downIcon"
        part="toggle-icon down-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 10 5"
      >
        <path d="M 0 0 l5 5 5 -5 z" />
      </svg>
    `)).firstElementChild;t&&o&&Qt(t,o);const i=e.content.getElementById("upIcon"),r=Yt.html(en||(en=on`
      <svg
        id="upIcon"
        part="toggle-icon up-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 10 5"
      >
        <path d="M 0 5 l5 -5 5 5 z" />
      </svg>
    `)).firstElementChild;return i&&r&&Qt(i,r),e.content.append(Yt.html(tn||(tn=on`
        <style>
          :host {
            align-items: center;
            display: inline-flex;
            padding: 2px;
          }

          :host(:not([disabled])):hover {
            background: #eee;
          }

          [part~="toggle-icon"] {
            fill: currentColor;
            height: 10px;
            margin: 0.25em;
            width: 10px;
          }
        </style>
      `))),e}}class nn extends eo{}class an extends No{get[Oe](){return Object.assign(super[Oe],{backdropPartType:nn,framePartType:Do})}}let sn,ln=e=>e;class un extends(function(e){return class extends e{get[Oe](){return Object.assign(super[Oe]||{},{popupTogglePartType:Yr})}get popupTogglePartType(){return this[st].popupTogglePartType}set popupTogglePartType(e){this[it]({popupTogglePartType:e})}[We](e){if(super[We](e),Qr(this[rt],this[st],e),e.popupDirection||e.popupTogglePartType){const{popupDirection:e}=this[st],t="above"===e||"column-reverse"===e?"up":"down",o=this[Ve].popupToggle;"direction"in o&&(o.direction=t)}if(e.disabled){const{disabled:e}=this[st];this[Ve].popupToggle.disabled=e}}get[_t](){const e=super[_t],t=e.content.querySelector('[part~="source"]');return t&&t.append(Yt.html(Gr||(Gr=Kr`
          <div
            id="popupToggle"
            part="popup-toggle"
            exportparts="toggle-icon, down-icon, up-icon"
            tabindex="-1"
          ></div>
      `))),Qr(e.content,this[st]),e.content.append(Yt.html($r||($r=Kr`
      <style>
        [part~="popup-toggle"] {
          outline: none;
        }

        [part~="source"] {
          align-items: center;
          display: flex;
        }
      </style>
    `))),e}}}(Fr)){get[Oe](){return Object.assign(super[Oe],{menuPartType:Zr,popupPartType:an,popupTogglePartType:rn,sourcePartType:Ui})}get[_t](){const e=super[_t];return e.content.append(Yt.html(sn||(sn=ln`
        <style>
          [part~="menu"] {
            background: window;
            border: none;
            padding: 0.5em 0;
          }
        </style>
      `))),e}}function cn(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a}customElements.define("elix-menu-button",class extends un{});const dn=e=>t=>class extends t{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._storeUnsubscribe=e.subscribe((()=>this.stateChanged(e.getState()))),this.stateChanged(e.getState())}disconnectedCallback(){this._storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}stateChanged(e){}};var pn=function(e){var t,o=e.Symbol;return"function"==typeof o?o.observable?t=o.observable:(t=o("observable"),o.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),hn=function(){return Math.random().toString(36).substring(7).split("").join(".")},fn={INIT:"@@redux/INIT"+hn(),REPLACE:"@@redux/REPLACE"+hn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+hn()}};function mn(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function vn(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function gn(e,t){var o=t&&t.type;return"Given "+(o&&'action "'+String(o)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function bn(){}"production"!==process.env.NODE_ENV&&"string"==typeof bn.name&&"isCrushed"!==bn.name&&vn('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');const yn={agrupadorGenerico:{tipo:"DispositivoAgrupadorGenerico",name:void 0,descricao:void 0,tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao"],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},alinea:{tipo:"Alinea",name:"Alinea",descricao:"Alnea",tiposPermitidosPai:["Inciso"],tiposPermitidosFilhos:["Item"],tipoProvavelFilho:"Item",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},articulacao:{tipo:"Articulacao",name:"Articulacao",descricao:"Articulao",tiposPermitidosPai:[],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},artigo:{tipo:"Artigo",name:"Artigo",descricao:"Artigo",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],tiposPermitidosFilhos:["Paragrafo","Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},capitulo:{tipo:"Capitulo",name:"Capitulo",descricao:"Captulo",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo"],tiposPermitidosFilhos:["Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},caput:{tipo:"Caput",name:"Caput",descricao:"Caput",tiposPermitidosPai:["Artigo"],tiposPermitidosFilhos:["Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},generico:{tipo:"DispositivoGenerico",name:void 0,descricao:"Dispositivo genrico",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],tiposPermitidosFilhos:["Paragrafo","Inciso","Alinea","Item"],tipoProvavelFilho:"DispositivoGenerico",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},inciso:{tipo:"Inciso",name:"Inciso",descricao:"Inciso",tiposPermitidosPai:["Artigo","Caput","Paragrafo"],tiposPermitidosFilhos:["Alinea"],tipoProvavelFilho:"Alinea",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},item:{tipo:"Item",name:"Item",descricao:"Item",tiposPermitidosPai:["Alinea"],tiposPermitidosFilhos:[],tipoProvavelFilho:"DispositivoGenerico",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},livro:{tipo:"Livro",name:"Livro",descricao:"Livro",tiposPermitidosPai:["Articulacao","Parte"],tiposPermitidosFilhos:["Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},omissis:{tipo:"Omissis",name:"Omissis",descricao:"Omissis",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao","Artigo","Caput","Paragrafo","Alinea","Inciso"],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Subsecao","Artigo","Paragrafo","Alinea","Inciso","Item"],tipoProvavelFilho:void 0,INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:["NA"]},paragrafo:{tipo:"Paragrafo",name:"Paragrafo",descricao:"Pargrafo",tiposPermitidosPai:["Artigo"],tiposPermitidosFilhos:["Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},parte:{tipo:"Parte",name:"Parte",descricao:"Parte",tiposPermitidosPai:["Articulacao"],tiposPermitidosFilhos:["Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},secao:{tipo:"Secao",name:"Secao",descricao:"Seo",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo"],tiposPermitidosFilhos:["Subsecao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},subsecao:{tipo:"Subsecao",name:"Subsecao",descricao:"Subseo",tiposPermitidosPai:["Secao"],tiposPermitidosFilhos:["Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},titulo:{tipo:"Titulo",name:"Titulo",descricao:"Ttulo",tiposPermitidosPai:["Articulacao","Parte","Livro"],tiposPermitidosFilhos:["Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]}};class _n{constructor(e){var t;this.isDispositivoAlteracao=!1,this.descricao=`Adicionar ${null!==(t=null==e?void 0:e.descricao)&&void 0!==t?t:""}`,this.tipo=null==e?void 0:e.tipo}execute(e,t,o,i=!1){return{type:"ADICIONAR_ELEMENTO",atual:e,novo:{tipo:o,isDispositivoAlteracao:this.isDispositivoAlteracao,conteudo:{texto:t}},hasDesmembramento:i}}}const wn=new _n,xn=new _n(yn.artigo),En=new _n(yn.alinea),On=new _n(yn.inciso),An=new _n(yn.item),Nn=new _n(yn.omissis),Pn=new _n(yn.paragrafo);class In{constructor(e){this.descricao="Adicionar "+e.descricao,this.tipo=e.tipo}execute(e){return{type:"AGRUPAR_ELEMENTO",atual:e,novo:{tipo:this.tipo}}}}const Tn=new In(yn.parte),Sn=new In(yn.livro),kn=new In(yn.titulo),Cn=new In(yn.capitulo),Rn=new In(yn.secao),Ln=new In(yn.subsecao);const Dn=new class{constructor(){this.descricao="Atualizar dispositivo"}execute(e){return this.tipo=e.tipo,{type:"ATUALIZAR_ELEMENTO",atual:e}}};const qn=new class{constructor(){this.descricao="Atualizar Norma Referenciada"}execute(e){return this.tipo=e.tipo,{type:"ATUALIZAR_REFERENCIA_ELEMENTO",atual:e}}};const jn=new class{constructor(){this.descricao="Elemento selecionado"}execute(e){return{type:"ELEMENTO_SELECIONADO",atual:e}}};const Mn=new class{constructor(){this.descricao="Informar norma alterada"}execute(e){return{type:"INFORMAR_NORMA",atual:e}}};class Un{constructor(){this.descricao="Mover para baixo"}execute(e){return{type:"Mover para baixo",atual:e}}}const Fn=new Un;class Bn{constructor(){this.descricao="Mover para cima"}execute(e){return{type:"Mover para cima",atual:e}}}const zn=new Bn;class Vn{constructor(){this.descricao="Remover dispositivo"}execute(e){return{type:"REMOVER_ELEMENTO",atual:e}}}const Hn=new Vn;class Yn{constructor(){this.descricao="Numerar e criar rtulo para o dispositivo "}execute(e,t){return this.tipo=e.tipo,{type:"RENUMERAR_ELEMENTO",atual:e,novo:{numero:t}}}}const Gn=new Yn;const $n=new class{constructor(){this.descricao="Abandonar modificaes do dispositivo"}execute(e){return{type:"RESTAURAR_ELEMENTO",atual:e}}};const Kn=new class{constructor(){this.descricao="Suprimir dispositivo"}execute(e){return{type:"SUPRIMIR_ELEMENTO",atual:e}}};class Qn{constructor(e,t,o){this.descricao=t,this.tipo=e.tipo,this.nomeAcao=o}execute(e){return{type:"TRANSFORMAR_TIPO_ELEMENTO",subType:this.nomeAcao,atual:e,novo:{tipo:this.tipo}}}}const Xn=new Qn(yn.omissis,"Transformar em Omissis de Alnea","transformarAlineaEmOmissisAlinea"),Wn=new Qn(yn.omissis,"Transformar em Omissis de Inciso de Caput","transformarIncisoCaputEmOmissisIncisoCaput"),Zn=new Qn(yn.omissis,"Transformar em Omissis de Item","transformarItemEmOmissisItem"),Jn=new Qn(yn.omissis,"Transformar em Omissis de Pargrafo","transformarParagrafoEmOmissisParagrafo"),ea=new Qn(yn.omissis,"Transformar em Omissis de Inciso de Pargrafo","transformarIncisoParagrafoEmOmissisIncisoParagrafo"),ta=new Qn(yn.inciso,"Transformar Alnea em Inciso","transformarAlineaEmIncisoCaput"),oa=new Qn(yn.inciso,"Transformar Alnea em Inciso","transformarAlineaEmIncisoParagrafo"),ia=new Qn(yn.item,"Transformar Alnea em Item","transformarAlineaEmItem"),ra=new Qn(yn.paragrafo,"Transformar Artigo em Pargrafo","transformarArtigoEmParagrafo"),na=new Qn(yn.inciso,"Transformar em Inciso","transformarDispositivoGenericoEmInciso"),aa=new Qn(yn.alinea,"Transformar em Alnea","transformarDispositivoGenericoEmAlinea"),sa=new Qn(yn.item,"Transformar em Item","transformarDispositivoGenericoEmItem"),la=new Qn(yn.paragrafo,"Transformar Inciso em Pargrafo","transformarIncisoParagrafoEmParagrafo"),ua=new Qn(yn.paragrafo,"Transformar Inciso Caput em Pargrafo","transformarIncisoCaputEmParagrafo"),ca=new Qn(yn.alinea,"Transformar Inciso de Caput em Alnea","transformarIncisoCaputEmAlinea"),da=new Qn(yn.alinea,"Transformar Inciso de Caput em Alnea","transformarIncisoParagrafoEmAlinea"),pa=new Qn(yn.alinea,"Transformar Omissis em Alnea","transformarOmissisEmAlinea"),ha=new Qn(yn.artigo,"Transformar Omissis em Artigo","transformarOmissisEmArtigo"),fa=new Qn(yn.inciso,"Transformar Omissis em Inciso de Caput","transformarOmissisEmIncisoCaput"),ma=new Qn(yn.inciso,"Transformar Omissis em Inciso de Pargrafo","transformarOmissisEmIncisoParagrafo"),va=new Qn(yn.item,"Transformar Omissis em Item","transformarOmissisEmItem"),ga=new Qn(yn.paragrafo,"Transformar Omissis em Pargrafo","transformarOmissisEmParagrafo"),ba=new Qn(yn.alinea,"Transformar Item em Alnea","transformarItemEmAlinea"),ya=new Qn(yn.artigo,"Transformar Pargrafo em Artigo","transformarParagrafoEmArtigo"),_a=new Qn(yn.inciso,"Transformar Pargrafo em Inciso de Pargrafo","transformarParagrafoEmIncisoParagrafo"),wa=new Qn(yn.inciso,"Transformar Pargrafo em Inciso de Caput","transformarParagrafoEmIncisoCaput");const xa=new class{constructor(){this.descricao="Articulao validada"}execute(){return{type:"VALIDAR_ARTICULACAO"}}};const Ea=new class{constructor(){this.descricao="Elemento validado"}execute(e){return{type:"VALIDAR_ELEMENTO",atual:e}}};var Oa;!function(e){e.EMENDA="emenda",e.NORMA="norma",e.PROJETO="projeto"}(Oa||(Oa={}));const Aa="...........................................................................................",Na={autoridades:[{urn:"federal",descricao:"Federal"},{urn:"senado.federal",descricao:"Senado Federal"},{urn:"congresso.nacional",descricao:"Congresso Nacional"}],tiposDocumento:[{urn:"lei",descricao:"Lei",genero:"F"},{urn:"lei.complementar",descricao:"Lei Complementar",genero:"F"},{urn:"lei.delegada",descricao:"Lei Delegada",genero:"F"},{urn:"decreto.legislativo",descricao:"Decreto Legislativo",genero:"M"},{urn:"decreto.lei",descricao:"Decreto-Lei",genero:"M"},{urn:"decreto",descricao:"Decreto",genero:"M"},{urn:"consolidacao.leis.trabalho",descricao:"Consolidao das Leis do Trabalho",genero:"F"},{urn:"resolucao",descricao:"Resoluo",genero:"F"},{urn:"regimento.interno",descricao:"Regimento Interno",genero:"M"},{urn:"constituicao",descricao:"Constituio",genero:"F"},{urn:"ato.disposicoes.constitucionais.transitorias",descricao:"Ato das Disposies Constitucionais Transitrias",genero:"M"},{urn:"medida.provisoria",descricao:"Medida Provisria",genero:"F"},{urn:"medida.provisoria;mpv",descricao:"Medida Provisria",genero:"F"},{urn:"emenda.constitucional",descricao:"Emenda Constitucional",genero:"F"},{urn:"emenda.constitucional.revisao",descricao:"Emenda Constitucional de Reviso",genero:"F"},{urn:"proposta.emenda.constitucional;pec",descricao:"Proposta de Emenda Constitucional",genero:"F"},{urn:"projeto.lei;pl",descricao:"Projeto de Lei",genero:"M"},{urn:"projeto.lei;pls",descricao:"Projeto de Lei do Senado",genero:"M"},{urn:"projeto.lei.complementar;plp",descricao:"Projeto de Lei Complementar",genero:"M"},{urn:"projeto.lei.complementar;pls",descricao:"Projeto de Lei Complementar do Senado",genero:"M"},{urn:"projeto.lei;plc",descricao:"Projeto de Lei da Cmara",genero:"M"},{urn:"projeto.lei.complementar;plc",descricao:"Projeto de Lei Complementar da Cmara",genero:"M"},{urn:"projeto.lei.conversao;plv",descricao:"Projeto de Lei de Converso",genero:"M"},{urn:"projeto.resolucao;prs",descricao:"Projeto de Resoluo do Senado",genero:"M"},{urn:"projeto.decreto.legislativo;pds",descricao:"Projeto de Decreto Legislativo",genero:"M"},{urn:"projeto.decreto.legislativo;pdl",descricao:"Projeto de Decreto Legislativo",genero:"M"},{urn:"substitutivo.projeto.lei.senado;scd",descricao:"Substitutivo da Cmara dos Deputados",genero:"M"},{urn:"emenda.projeto.lei.senado;ecd",descricao:"Emenda(s) da Cmara dos Deputados",genero:"F"}],fakeUrns:[{sigla:"PEC",urnAutoridade:"senado.federal",urnTipoDocumento:"proposta.emenda.constitucional;pec"},{sigla:"PL",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;pl"},{sigla:"PLS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;pls"},{sigla:"PLP",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.complementar;plp"},{sigla:"PLC",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;plc"},{sigla:"PLV",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.conversao;plv"},{sigla:"PRS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.resolucao;prs"},{sigla:"PDS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.decreto.legislativo;pds"},{sigla:"PDL",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.decreto.legislativo;pdl"},{sigla:"SCD",urnAutoridade:"senado.federal",urnTipoDocumento:"substitutivo.projeto.lei.senado;scd"},{sigla:"ECD",urnAutoridade:"senado.federal",urnTipoDocumento:"emenda.projeto.lei.senado;ecd"},{sigla:"MPV",urnAutoridade:"senado.federal",urnTipoDocumento:"medida.provisoria;mpv"}],siglas:[{urnAutoridade:"federal",urnTipoDocumento:"medida.provisoria",sigla:"MPV"},{urnAutoridade:"congresso.nacional",urnTipoDocumento:"projeto.lei",sigla:"PLN"},{urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei",sigla:"PLS"},{urnAutoridade:"congresso.nacional",urnTipoDocumento:"medida.provisoria",sigla:"MPV"},{urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.senado.federal",sigla:"PLS"},{urnAutoridade:"camara.deputados",urnTipoDocumento:"projeto.lei",sigla:"PLC"}],atalhosUrn:[{urnTipoDocumento:"constituicao",urnAutoridade:"federal",urn:"urn:lex:br:federal:constituicao:1988-10-05;1988",nome:"Constituio Federal"},{urnTipoDocumento:"ato.disposicoes.constitucionais.transitorias",urnAutoridade:"federal",urn:"urn:lex:br:federal:ato.disposicoes.constitucionais.transitorias:1988-10-05;1988",nome:"Ato das Disposies Constitucionais Transitrias - ADCT"},{urnTipoDocumento:"consolidacao.leis.trabalho",urnAutoridade:"federal",urn:"urn:lex:br:federal:decreto.lei:1943-05-01;5452",nome:"Consolidao das Leis do Trabalho - CLT, aprovada pelo Decreto-Lei n 5.452, de 1 de maio de 1943",genero:"F"},{urnTipoDocumento:"regimento.interno",urnAutoridade:"senado.federal",urn:"urn:lex:br:senado.federal:resolucao:1970-11-27;93",nome:"Regimento Interno do Senado Federal",genero:"M"},{urnTipoDocumento:"regimento.interno",urnAutoridade:"congresso.nacional",urn:"urn:lex:br:congresso.nacional:resolucao:1970-08-11;1",nome:"Regimento Comum do Congresso Nacional",genero:"M"}],eventos:[{urn:"leitura",tipoTextoProcessoLegislativo:"Texto inicial",genero:"M"},{urn:"aprovacao.substitutivo.decisao.terminativa",tipoTextoProcessoLegislativo:"Redao do vencido em turno suplementar na Comisso",substitutivo:"s",genero:"F"},{urn:"aprovacao.substitutivo",tipoTextoProcessoLegislativo:"Redao do vencido em turno suplementar no Plenrio",substitutivo:"s",genero:"F"},{urn:"apresentacao.substitutivo",tipoTextoProcessoLegislativo:"Texto do substitutivo",substitutivo:"s",genero:"M"}]},Pa=e=>{var t;const o=null===(t=e.replace("urn:lex:br:",""))||void 0===t?void 0:t.split(":");return Na.tiposDocumento.filter((e=>e.urn===o[1]))[0]},Ia=e=>{var t,o,i;const r=null===(t=e.replace("urn:lex:br:",""))||void 0===t?void 0:t.split(":");return(null===(o=r[2])||void 0===o?void 0:o.indexOf(";"))>-1?null===(i=r[2])||void 0===i?void 0:i.substring(r[2].indexOf(";")+1):""},Ta=e=>{var t,o,i,r;const n=null===(t=e.replace("urn:lex:br:",""))||void 0===t?void 0:t.split(":"),a=null===(r=null===(i=null===(o=n[2])||void 0===o?void 0:o.substring(0,n[2].indexOf(";")))||void 0===i?void 0:i.split("-"))||void 0===r?void 0:r.reverse();return a?a.join("/"):""},Sa=e=>{const t=e.match(/^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/](\d{4})$/);return t?`${t[3]}-${t[2]}-${t[1]}`:""},ka=e=>{var t,o,i;const r=null===(t=(e=>{var t;const o=null===(t=e.replace("urn:lex:br:",""))||void 0===t?void 0:t.split(":");return Na.autoridades.filter((e=>e.urn===o[0]))[0]})(e))||void 0===t?void 0:t.urn,n=null===(o=Pa(e))||void 0===o?void 0:o.urn,a=/^\d{1,5}$/.test(Ia(e)),s=null!==(i=Sa(Ta(e)))&&void 0!==i?i:Ta(e);return(null==e?void 0:e.startsWith("urn:lex:br:"))&&r&&n&&a&&s};const Ca=function(e=0){return{next:()=>++e}}();var Ra,La;function Da(e){return class extends e{constructor(){super(...arguments),this.tipoGenero="feminino",this.artigoDefinido="a"}}}function qa(e){return class extends e{constructor(){super(...arguments),this.tipoGenero="indefinido",this.artigoDefinido=""}}}function ja(e){return class extends e{constructor(){super(...arguments),this.tipoGenero="masculino",this.artigoDefinido="o"}}}!function(e){e.MASCULINO="masculino",e.FEMININO="feminino",e.INDEFINIDO="indefinido"}(Ra||(Ra={})),function(e){e.DISPOSITIVO_ADICIONADO="Dispositivo Adicionado",e.DISPOSITIVO_NOVO="Dispositivo Novo",e.DISPOSITIVO_MODIFICADO="Dispositivo Modificado",e.DISPOSITIVO_ORIGINAL="Dispositivo Original",e.DISPOSITIVO_SUPRIMIDO="Dispositivo Suprimido"}(La||(La={}));const Ma=e=>[La.DISPOSITIVO_ADICIONADO.toString(),La.DISPOSITIVO_MODIFICADO.toString(),La.DISPOSITIVO_SUPRIMIDO.toString()].includes(e.situacao.descricaoSituacao),Ua=e=>!!Ma(e)||void 0!==e.pai&&Ua(e.pai),Fa=e=>e.tipo===yn.articulacao.tipo,Ba=e=>e.tipo===yn.generico.tipo,za=e=>e.tipo===yn.artigo.tipo,Va=e=>e.tipo===yn.caput.tipo,Ha=e=>e.tipo===yn.paragrafo.tipo,Ya=e=>e.tipo===yn.inciso.tipo,Ga=e=>Ya(e)&&Va(e.pai),$a=e=>Ya(e)&&Ha(e.pai),Ka=e=>e.tipo===yn.alinea.tipo,Qa=e=>e.tipo===yn.item.tipo,Xa=e=>e.tipo===yn.omissis.tipo,Wa=e=>[yn.articulacao.tipo,yn.agrupadorGenerico.tipo,yn.capitulo.tipo,yn.livro.tipo,yn.parte.tipo,yn.secao.tipo,yn.subsecao.tipo,yn.titulo.tipo].includes(e.tipo),Za=e=>e.tipo===yn.agrupadorGenerico.tipo,Ja=e=>[yn.paragrafo.tipo,yn.inciso.tipo,yn.alinea.tipo,yn.item.tipo].includes(e.tipo);function es(e){return class extends e{constructor(){super(...arguments),this.mensagens=[]}}}class ts{constructor(e){this.tipoAcao=e,this.isDispositivoAlteracao=!0,this.descricao="INICIAR_BLOCO"===e?"Inserir bloco de alterao":"Finalizar bloco de alterao"}execute(e,t,o,i=!1){return{type:"ADICIONAR_ELEMENTO",subType:this.tipoAcao,atual:e,novo:{tipo:o,isDispositivoAlteracao:this.isDispositivoAlteracao,conteudo:{texto:t}},hasDesmembramento:i}}}const os=new ts("INICIAR_BLOCO"),is=new ts("FINALIZAR_BLOCO");function rs(e){return class extends e{get alteracoes(){}hasAlteracao(){return!1}}}var ns;function as(e){return class extends e{constructor(){super(...arguments),this.tipoConteudo=ns.ConteudoTexto,this.texto=""}}}function ss(e,t){return!0===t.map((t=>new RegExp(cs(us(t))+"\\s*$").test(e))).filter((e=>e))[0]}function ls(e){switch(e[0].trim()){case".":return"ponto";case":":return"dois pontos";case";":return"ponto e vrgula";case",":return"vrgula";default:return e[0].trim()}}function us(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function cs(e){return e.replace(/\s+/g,"\\s+")}!function(e){e.ConteudoTexto="Contedo de Texto"}(ns||(ns={}));const ds=e=>{var t;const o=za(e)?e.caput:e;return ss(o.texto,null!==(t=o.INDICADOR_DESDOBRAMENTO)&&void 0!==t?t:[])},ps=e=>{var t;const o=za(e)?e.caput:e;return ss(o.texto,null!==(t=o.INDICADOR_FIM_SEQUENCIA)&&void 0!==t?t:[])},hs=e=>{var t;const o=za(e)?e.caput:e;return ss(o.texto,null!==(t=o.INDICADOR_SEQUENCIA)&&void 0!==t?t:[])},fs=Aa+". (NR)",ms=e=>new RegExp(cs(us("o seguinte acrscimo:"))+"\\s*$").test(e)||new RegExp(cs(us("os seguintes acrscimos:"))+"\\s*$").test(e)||new RegExp(cs(us("passa a vigorar com a seguinte alterao:"))+"\\s*$").test(e)||new RegExp(cs(us("passa a vigorar com as seguintes alteraes:"))+"\\s*$").test(e),vs=e=>/^[.]*(?:\s*)["]?(\s*)?\(NR\)\s*$/.test(e)?fs:/["]?(\s*)?\(NR\)?\s*$/.test(e)?e.replace(/["](?!.*["])/,""):e!==Aa&&e!==fs&&new RegExp("^[.]+$").test(e)?Aa:e,gs=e=>/\.["](?:\s*\(NR\))\s*$/.test(e);function bs(e){if(!e)return e;if(Fa(e))return e;if(void 0===e.pai)throw new Error("No foi encontrada a articulao");return bs(e.pai)}function ys(e,t){if(t.uuid===e)return t;if(null!==t.filhos){let o,i=null;for(o=0;null===i&&o<t.filhos.length;o++)i=ys(e,t.filhos[o]);return i}return null}const _s=(e,t)=>{if(void 0===t)throw new Error("uuid no foi informado");return ys(t,e)},ws=e=>{if(0===e.filhos.length)return e;const t=e.filhos[e.filhos.length-1];return 0===t.filhos.length?t:ws(t)},xs=e=>za(e)?bs(e).artigos.filter((t=>t.tipo===e.tipo)):e.pai?e.pai.filhos.filter((t=>t.tipo===e.tipo)):[e],Es=(e,t,o)=>{if(null==e?void 0:e.filhos){for(let i=null==e?void 0:e.indexOf(t);i>=0;i--){const t=null==e?void 0:e.filhos[i];Wa(t)&&o.push(t)}if(null==e?void 0:e.pai)return Es(e.pai,t.pai,o)}return o},Os=(e,t)=>{if(e&&e.pai)return e.pai&&e.pai.tipo===t?e.pai:Os(e.pai,t)},As=e=>za(e.pai)?e.pai:As(e.pai),Ns=(e,t)=>{if(null==e?void 0:e.filhos){for(let o=(null==e?void 0:e.indexOf(t))-1;o>=0;o--){const t=null==e?void 0:e.filhos[o];if(za(t))return t;if(Wa(t))return Ps(t)}if(null==e?void 0:e.pai)return Ns(e.pai,t.pai)}},Ps=e=>{if(void 0!==e&&e.filhos)for(let t=e.filhos.length-1;t>=0;t--){const o=e.filhos[t];if(za(o))return o;if(Wa(o))return Ps(o)}},Is=e=>{const t=e.pai.indexOf(e);return e.pai.filhos.filter(((e,o)=>o>t&&Wa(e)))[0]},Ts=e=>{var t;return(null===(t=e.filhos)||void 0===t?void 0:t.filter((e=>Ba(e))).length)>0},Ss=e=>1===xs(e).length,ks=e=>{const t=xs(e);return t[t.length-1]===e},Cs=e=>{const t=xs(e);return t.length>1&&t[t.length-2]===e},Rs=e=>xs(e)[0]===e,Ls=e=>e.filhos&&e.filhos.length>0,Ds=e=>{const t=e.pai.indexOf(e);return t>0?e.pai.filhos[t-1]:void 0},qs=e=>{const t=xs(e),o=t.indexOf(e);return o>0?t[o-1]:void 0},js=e=>{const t=e.pai.indexOf(e);if(0===t)return;return e.pai.filhos.filter(((o,i)=>i<t&&(o.tipo===e.tipo||o.tipo===Nn.tipo))).pop()},Ms=e=>{const t=e.pai.indexOf(e);return t<e.pai.filhos.length-1?e.pai.filhos[t+1]:void 0},Us=e=>{var t,o,i;const r=null===(t=e.pai)||void 0===t?void 0:t.indexOf(e);return null!==(i=null===(o=e.pai)||void 0===o?void 0:o.filhos.filter(((t,o)=>o>r&&t.tipo===e.tipo)))&&void 0!==i?i:[]},Fs=e=>{const t=e.pai.indexOf(e);if(t===e.pai.filhos.length-1)return;return e.pai.filhos.filter(((o,i)=>i>t&&(o.tipo===e.tipo||o.tipo===Nn.tipo)))[0]},Bs=(e,t)=>{null==t||t.forEach((t=>{var o;e.push(t),Ls(t)&&Bs(e,t.filhos),t.hasAlteracao()&&(null===(o=t.alteracoes)||void 0===o||o.filhos.forEach((t=>Bs(e,t.filhos))))}))},zs=e=>{const t=[];return t.push(e),Bs(t,e.filhos),t},Vs=e=>za(e)&&Ss(e),Hs=e=>Ha(e)&&Ss(e),Ys=e=>Gs(e)?e:Ys(e.pai),Gs=e=>Xs(e)&&Fa(e.pai)&&void 0!==e.pai.pai,$s=e=>{const t=[],o=Ys(e);return t.push(o),Bs(t,o.filhos),t.length>0&&t[t.length-1]===e},Ks=e=>{const t=bs(e).pai;if(!t)return!1;const o=bs(t);return Ss(t)||o.indexOfArtigo(t)<o.artigos.length-1},Qs=e=>Fa(e)&&void 0!==e.pai,Xs=e=>{if(!!e.isDispositivoAlteracao)return!0;try{return void 0!==bs(e).pai}catch(e){return!1}},Ws=e=>e.situacao.descricaoSituacao===La.DISPOSITIVO_ORIGINAL,Zs=e=>e.situacao.descricaoSituacao===La.DISPOSITIVO_MODIFICADO||e.situacao.descricaoSituacao===La.DISPOSITIVO_SUPRIMIDO,Js={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XV:40,X:10,IX:9,V:5,IV:4,I:1},el=e=>/^\d{1,}([-]?[a-zA-Z]+)?$/.test(e),tl=e=>{if(!/[a-zA-Z]+/.test(e))throw new Error(`O valor ${e} no  uma sequncia de letras vlida.`);e=e.toLowerCase();let t=0;return[...e].forEach((e=>t=e.toLowerCase().charCodeAt(0)-97+1+26*t)),t.toString()},ol=e=>il(parseInt(e)),il=e=>{let t="",o=0;for(;e>0;)o=(e-1)%26,e=(e-o-1)/26,t=t.replace(/^/,String.fromCharCode(97+o));return t},rl=e=>{if(!/^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$/i.test(e))throw new Error("O valor '"+e+"' no  um nmero em algarismo romano vlido.");let t=0,o=1;for(let i=(e=e.toLowerCase()).length-1;i>=0;i--){const r=nl(e.charAt(i));r>o&&(o=r),r<o?t-=r:t+=r}return t.toString()},nl=e=>{switch(e.toLowerCase()){case"i":return 1;case"v":return 5;case"x":return 10;case"l":return 50;case"c":return 100;case"d":return 500;case"m":return 1e3;default:return 0}},al=e=>{let t,o="",i=-1===e.search(/[a-zA-Z-]/)?parseInt(e):parseInt(e.substring(0,e.search(/[a-zA-Z-]/)));const r=-1===e.search(/[a-zA-Z-]/)?"":e.substring(e.search(/[a-zA-Z-]/));for(const e in Js){if(t=Math.floor(i/Js[e]),t>=0)for(let i=0;i<t;i++)o+=e;i%=Js[e]}return o+r},sl=(e,t)=>{const o=-1===e.search(/-[a-zA-Z-]/)?e:e.substring(0,e.search(/-[a-zA-Z-]/)),i=-1===e.search(/-[a-zA-Z-]/)?"":e.substring(e.search(/-[a-zA-Z-]/));return(t?t(o):o)+(null==i?void 0:i.toUpperCase())},ll=(e,t)=>!e||t&&e<t?1:!t||e&&e>t?-1:0,ul=e=>{var t;return(za(e)?null!==(t=(e=>{const t=bs(e).indexOfArtigo(e);return-1===t||bs(e).artigos.length===t+1?[]:bs(e).artigos.filter(((e,o)=>o>t))})(e))&&void 0!==t?t:[]:Us(e)).filter((e=>Ws(e))).length>0},cl=e=>{let t=0;const o=e.tipo;do{(Ws(e)||Zs(e))&&e.tipo===o&&t++,e=za(e)?Ns(e.pai,e):Ds(e)}while(void 0!==e);return t},dl=e=>{let t=0;const o=e.tipo;for(;void 0!==e&&!Ws(e)&&!Zs(e)&&e.tipo===o;)t++,e=za(e)?Ns(e.pai,e):Ds(e);return t},pl=e=>(e=>{const t=cl(e);if(Ws(e))return new hl(t);const o=dl(e),i=t>0,r=ul(e);if(!i&&!r)return new hl(o);if(!i&&r){const e=new hl(0);return e.addNovoSeqOrdem(o),e}if(i&&r){const e=new hl(t);return e.addNovoSeqOrdem(o),e}return new hl(t+o)})(e).getNumeracao(Ua(e));class hl{constructor(e){this.seq=e}addNovoSeqOrdem(e){this.seq>0?this.letras=il(e).toUpperCase():e>1&&(this.letras=il(e-1).toUpperCase())}getNumeracao(e){var t;return this.seq+(e&&this.letras?"-":"")+(null!==(t=this.letras)&&void 0!==t?t:"")}}function fl(e){return class extends e{addFilho(e,t){if(t&&this.filhos.indexOf(t)>=0){const o=this.filhos.indexOf(t)+1;this.isLastFilho(t)?this.filhos.push(e):this.filhos.splice(o,0,e)}else this.filhos.push(e);za(e)&&bs(e).addArtigo(e,t)}addFilhoOnPosition(e,t){var o;if(this.filhos.splice(t,0,e),za(e)){const t=null!==(o=Ds(e))&&void 0!==o?o:Ns(e.pai.pai,e.pai),i=bs(e),r=t?i.indexOfArtigo(t)+1:0;i.addArtigoOnPosition(e,r)}}hasArtigos(){return this.filhos.filter((e=>za(e))).length>0}isLastFilho(e){return this.filhos.indexOf(e)===this.filhos.length-1}get filhos(){var e;return this._filhos=null!==(e=this._filhos)&&void 0!==e?e:[],this._filhos}indexOf(e){return this.filhos.indexOf(e)}removeFilho(e){this._filhos=this.filhos.filter((t=>t.uuid!==e.uuid)),za(e)&&bs(e).removeArtigo(e)}renumeraFilhos(){var e;this.filhos.filter((e=>!za(e))).forEach((e=>{e.numero=pl(e),e.createRotulo(e)})),null===(e=bs(this.filhos[0]))||void 0===e||e.renumeraArtigos()}}}function ml(e){return class extends e{addFilho(e,t){if(t){const o=this.filhos.indexOf(t)+1;this.isLastFilho(t)?this.filhos.push(e):this.filhos.splice(o,0,e)}else this.filhos.push(e)}addFilhoOnPosition(e,t){this.filhos.splice(t,0,e)}hasArtigos(){return this.filhos.filter((e=>za(e))).length>0}isLastFilho(e){return this.filhos.indexOf(e)===this.filhos.length-1}get filhos(){var e;return this._filhos=null!==(e=this._filhos)&&void 0!==e?e:[],this._filhos}indexOf(e){return this.filhos.indexOf(e)}removeFilho(e){this._filhos=this.filhos.filter((t=>t.uuid!==e.uuid))}renumeraFilhos(){this.filhos.filter((e=>!Xs(e)&&(e.situacao.descricaoSituacao===La.DISPOSITIVO_NOVO||e.situacao.descricaoSituacao===La.DISPOSITIVO_ADICIONADO))).forEach((e=>{e.numero=pl(e),e.createRotulo(e)}))}}}function vl(e){return class extends e{constructor(){super(...arguments),this.type="NumeracaoAgrupadorLcp95",this.informouAgrupadorUnico=!1}getNomeAgrupadorUnico(e){return`${e.descricao} nic${e.artigoDefinido}`.toLocaleUpperCase()}normalizaNumeracao(e){return e.replace(/\./g,"").replace(/parte [u]nica/i,"1").replace(/livro [u]nico/i,"1").replace(/t[i]tulo [u]nico/i,"1").replace(/cap[i]tulo [u]nico/i,"1").replace(/se[c][a]o [u]nica/i,"1").replace(/subse[c][a]o [u]nica/i,"1").replace(/[]/i,"").trim()}createNumeroFromRotulo(e){const t=this.normalizaNumeracao(e);this.informouAgrupadorUnico=/.*[u]nic[ao]/i.test(e),this.numero=this.informouAgrupadorUnico?"1":el(t)?t:void 0}createRotulo(e){var t;const o=void 0===e.descricao?null!==(t=e.name)&&void 0!==t?t:"":e.descricao.toLocaleUpperCase();void 0===this.numero?this.rotulo=Gs(e)?""+e.tipo:e.tipo:void 0===this.numero||el(this.numero)?e.isDispositivoAlteracao&&Gs(e)?this.rotulo=""+(this.informouAgrupadorUnico?this.getNomeAgrupadorUnico(e):o+" "+sl(this.numero,al)):1===xs(e).length?this.rotulo=this.getNomeAgrupadorUnico(e):this.rotulo=o+" "+sl(this.numero,al):this.rotulo=o+" "+this.numero}}}function gl(e){return class extends e{constructor(){super(...arguments),this.type="NumeracaoIndisponivel"}createRotulo(){this.rotulo=void 0}createNumeroFromRotulo(){}}}const bl=[];bl.push(Mn),bl.push(Fn),bl.push(zn),bl.push(Gn),bl.push(os),bl.push(is),bl.push(Xn),bl.push(Wn),bl.push(Zn),bl.push(Jn),bl.push(ea),bl.push(ta),bl.push(oa),bl.push(ia),bl.push(ra),bl.push(na),bl.push(aa),bl.push(sa),bl.push(la),bl.push(ba),bl.push(ua),bl.push(pa),bl.push(ha),bl.push(fa),bl.push(ma),bl.push(va),bl.push(ga),bl.push(ya),bl.push(_a),bl.push(wa),bl.push(Hn),bl.push($n),bl.push(Kn),bl.push(Ea),bl.push(Tn),bl.push(Sn),bl.push(kn),bl.push(Cn),bl.push(Rn),bl.push(Ln);const yl=[];yl.push(wn),yl.push(xn),yl.push(En),yl.push(On),yl.push(An),yl.push(Pn);const _l=e=>bl.includes(e),wl=[...bl,...yl,xa],xl=e=>wl.filter((t=>t instanceof In&&t.tipo===e))[0];function El(e){return class extends e{getAcoesPossiveis(e){var t,o,i,r;const n=[];if(!Wa(e))return[];if(0===(e=>{var t,o,i;const r=null===(t=e.pai)||void 0===t?void 0:t.indexOf(e);return null!==(i=null===(o=e.pai)||void 0===o?void 0:o.filhos.filter(((t,o)=>o<r&&t.tipo===e.tipo)))&&void 0!==i?i:[]})(e).length&&Us(e).length>0&&e.filhos.filter((e=>Wa(e))).length>0||n.push(Hn),e.pai&&Fa(e.pai)&&Wa(e.pai)&&void 0===qs(e)){const i=null===(t=e.tiposPermitidosPai)||void 0===t?void 0:t.indexOf(e.pai.tipo);null===(o=e.tiposPermitidosPai)||void 0===o||o.filter(((e,t)=>t>i)).forEach((e=>n.push(xl(e))))}if(e.pai&&!Fa(e.pai)&&Wa(e.pai)&&0===e.pai.indexOf(e)){const t=null===(i=e.tiposPermitidosPai)||void 0===i?void 0:i.indexOf(e.pai.tipo);null===(r=e.tiposPermitidosPai)||void 0===r||r.filter(((e,o)=>o>t)).forEach((e=>n.push(xl(e))))}return e.pai&&e.pai.indexOf(e)>0&&Wa(e.pai)&&!Fa(e.pai)&&n.push(xl(e.pai.tipo)),Xs(e)&&n.push(Gn),e.getAcoesPermitidas(e,n)}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}const Ol=e=>{var t,o;return Xs(e.pai)&&0===e.filhos.length&&e.tipo!==yn.omissis.name&&(null===(t=Ds(e))||void 0===t?void 0:t.tipo)!==yn.omissis.name&&(null===(o=Ms(e))||void 0===o?void 0:o.tipo)!==yn.omissis.name};class Al{constructor(){this.descricaoSituacao=La.DISPOSITIVO_NOVO}getAcoesPermitidas(e,t){return[...new Set(t)].filter((e=>void 0!==e)).filter((e=>"Adicionar"!==e.descricao&&"Atualizar dispositivo"!==e.descricao)).sort(((e,t)=>e.descricao.localeCompare(t.descricao)))}}function Nl(e){return class extends e{constructor(){super(...arguments),this.situacao=new Al}getAcoesPermitidas(e,t){var o;return null===(o=this.situacao)||void 0===o?void 0:o.getAcoesPermitidas(e,t)}}}class Pl{constructor(e){this.tipo=yn[e].tipo,this.name=yn[e].name,this.descricao=yn[e].descricao,this.tiposPermitidosPai=yn[e].tiposPermitidosPai,this.tiposPermitidosFilhos=yn[e].tiposPermitidosFilhos,this.tipoProvavelFilho=yn[e].tipoProvavelFilho,this.INDICADOR_SEQUENCIA=yn[e].INDICADOR_SEQUENCIA,this.INDICADOR_FIM_SEQUENCIA=yn[e].INDICADOR_FIM_SEQUENCIA,this.INDICADOR_DESDOBRAMENTO=yn[e].INDICADOR_DESDOBRAMENTO}}var Il;!function(e){e[e.INFO=0]="INFO",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR"}(Il||(Il={}));const Tl=e=>{var t;const o=[];return(Fa(e)||e.texto)&&0!==e.texto.trim().length||o.push({tipo:Il.ERROR,descricao:"No foi informado um texto para "+(e.artigoDefinido+" "+e.descricao)}),Fa(e)||!e.texto||function(e){const t=document.createElement("div");return t.innerHTML=e,t.innerHTML===e}(e.texto)||o.push({tipo:Il.ERROR,descricao:"O contedo do dispositivo no  um HTML vlido"}),!Fa(e)&&e.texto&&e.texto.trim().length>300&&o.push({tipo:Il.WARNING,descricao:"Pelo princpio da conciso, o texto dos dispositivos no deve ser extenso, devendo ser utilizadas frases curtas e concisas"}),e.texto&&Ja(e)&&!Ha(e)&&/^[A-Z-]/.test(e.texto)&&o.push({tipo:Il.WARNING,descricao:`${e.descricao} deveria iniciar com letra minscula, a no ser que se trate de uma situao especial, como nome prprio`}),e.texto&&(za(e)||Ha(e))&&e.texto!==Aa&&!/^[A-Z-]/.test(e.texto)&&o.push({tipo:Il.ERROR,descricao:`${e.descricao} deveria iniciar com letra maiscula`}),!e.texto||Wa(e)||Xa(e)||!(!za(e)&&Ls(e)||za(e)&&Ls(e.caput))||ds(e)||o.push({tipo:Il.ERROR,descricao:`${e.descricao} deveria terminar com ${ls(e.INDICADOR_DESDOBRAMENTO)}`}),!e.texto||!Ja(e)||Xa(e)||Ha(e)||Ss(e)||ks(e)||Cs(e)||Ls(e)||void 0===e.INDICADOR_SEQUENCIA||function(e){const t=e.replace(/(<([^>]+)>)/gi,"").trim();return t.length>0?t.charAt(t.length-1):""}(e.texto)===e.INDICADOR_SEQUENCIA[0]||o.push({tipo:Il.ERROR,descricao:`${e.descricao} deveria terminar com ${ls(e.INDICADOR_SEQUENCIA)}. ${hs(e)?"A variao informada s  permitida para o penltimo elemento":""}`}),Xs(e)||!e.texto||!Ja(e)||Ha(e)||!Ss(e)&&!ks(e)||Ts(e.pai)||Ls(e)||ps(e)||o.push({tipo:Il.ERROR,descricao:`ltimo dispositivo de uma sequncia deveria terminar com ${ls(e.INDICADOR_FIM_SEQUENCIA)}`}),!e.texto||!Ja(e)||Xa(e)||Ha(e)||Ss(e)||!Cs(e)||Ls(e)||hs(e)||o.push({tipo:Il.ERROR,descricao:`${e.descricao} deveria terminar com uma das seguintes possibilidades: ${e.INDICADOR_SEQUENCIA.join("     ")}`}),!e.texto||!za(e)&&!Ha(e)||Ls(e)||e.hasAlteracao()||Ss(e)||ks(e)||hs(e)||o.push({tipo:Il.ERROR,descricao:`${e.descricao} deveria terminar com ${ls(e.INDICADOR_SEQUENCIA)}`}),e.texto&&za(e)&&e.hasAlteracao()&&!ds(e)&&!ms(e.texto)&&o.push({tipo:Il.ERROR,descricao:`${e.descricao} deveria terminar com ${ls(e.INDICADOR_DESDOBRAMENTO)}`}),e.texto&&za(e)&&!e.hasAlteracao()&&Ls(e)&&!Ls(e.caput)&&ds(e)&&o.push({tipo:Il.ERROR,descricao:`${e.descricao} deveria terminar com ${ls(e.INDICADOR_SEQUENCIA)}`}),za(e)&&e.hasAlteracao()&&!(null===(t=e.alteracoes)||void 0===t?void 0:t.base)&&o.push({tipo:Il.ERROR,descricao:" necessrio informar a norma a ser alterada"}),!Xs(e)||!$s(e)||e.texto&&gs(e.texto)||o.push({tipo:Il.ERROR,descricao:"O ltimo dispositivo do bloco de alterao deve terminar com: <b>.&#8221; (NR)</b>"}),Xs(e)&&e.texto&&!$s(e)&&/["].*/.test(e.texto)&&!/.*(NR)/.test(e.texto)&&o.push({tipo:Il.ERROR,descricao:"Somente o ltimo dispositivo do bloco de alterao poderia ser finalizado com aspas"}),Xs(e)&&e.texto&&!$s(e)&&/.*(NR)/.test(e.texto)&&o.push({tipo:Il.ERROR,descricao:"Somente o ltimo dispositivo do bloco de alterao pode terminar com &#8221; (NR)"}),Xs(e)&&e.texto&&e===Ys(e)&&0===e.filhos.length&&(e.texto===fs||e.texto===Aa)&&o.push({tipo:Il.ERROR,descricao:"No foi informada nenhuma alterao"}),!(Xs(e)&&e.texto&&Ja(e))||Ha(e)||Xa(e)||0!==e.pai.filhos.filter((e=>Xa(e))).length||!Ss(e)||Ts(e.pai)||Ls(e)||ps(e)||$s(e)||o.push({tipo:Il.ERROR,descricao:`ltimo dispositivo de uma sequncia deveria terminar com ${ls(e.INDICADOR_FIM_SEQUENCIA)}`}),o},Sl=e=>Wa(e)?(e=>{const t=[];var o,i;return Fa(e)||e.texto&&0!==e.texto.trim().length||t.push({tipo:Il.ERROR,descricao:`No foi informado um texto para ${e.artigoDefinido} ${e.descricao}`}),!Fa(e)&&e.texto&&(o=e.texto,/[.,:]\s*$/.test(o))&&t.push({tipo:Il.ERROR,descricao:`No pode haver sinal de pontuao ao final do texto d${e.artigoDefinido} ${e.descricao}`}),!Fa(e)&&(i=e.texto,/<.+>/g.test(null==i?void 0:i.trim()))&&t.push({tipo:Il.ERROR,descricao:`Texto d${e.artigoDefinido} ${e.descricao} no pode possuir formatao`}),t})(e):Tl(e),kl=e=>Xs(e)?(e=>{var t,o,i,r,n;const a=[];var s;return null===e&&a.push({tipo:Il.ERROR,descricao:"O dispositivo no foi informado"}),null!==e&&e.numero&&0===e.numero.trim().length&&a.push({tipo:Il.ERROR,descricao:"O dispositivo no contm numerao"}),null!==e&&e.rotulo&&0===e.rotulo.trim().length&&a.push({tipo:Il.ERROR,descricao:"O dispositivo no contm rtulo"}),null!==e&&!Ba(e)&&e.rotulo&&e.rotulo.endsWith(e.tipo)&&a.push({tipo:Il.ERROR,descricao:"O rtulo informado no  vlido. Numere o dispositivo"}),null!==e&&Xs(e)&&Ha(e)&&e.pai.filhos.length>1&&(null===(t=e.rotulo)||void 0===t?void 0:t.endsWith("nico."))&&a.push({tipo:Il.ERROR,descricao:`Quando houver mais de um ${e.descricao}, no pode se tratar de '${e.descricao} nico'`}),null!==e&&!Gs(e)&&e.numero&&0===(null===(o=e.pai)||void 0===o?void 0:o.indexOf(e))&&"1"!==e.numero&&a.push({tipo:Il.ERROR,descricao:" necessrio um omissis antes deste dispositivo"}),null!==e&&Xs(e)&&Xa(e)&&((null===(i=Ds(e))||void 0===i?void 0:i.tipo)===yn.omissis.name||(null===(r=Ms(e))||void 0===r?void 0:r.tipo)===yn.omissis.name)&&a.push({tipo:Il.ERROR,descricao:"No pode haver mais de um omissis sequencialmente"}),null!==e&&!Gs(e)&&e.numero&&e.pai.indexOf(e)>0&&xs(e).filter(((t,o)=>o<e.pai.indexOf(e)&&t.numero)).filter((t=>-1===ll(t.numero,e.numero))).length>0&&a.push({tipo:Il.ERROR,descricao:"O dispositivo tem nmero menor do que algum dispositivo anterior"}),null!==e&&!Gs(e)&&e.numero&&!e.pai.isLastFilho(e)&&xs(e).filter(((t,o)=>o>e.pai.indexOf(e)&&t.numero)).filter((t=>1===ll(t.numero,e.numero))).length>0&&a.push({tipo:Il.ERROR,descricao:"O dispositivo tem nmero maior do que algum dispositivo posterior"}),null!==e&&!Gs(e)&&e.numero&&xs(e).filter((t=>t.numero&&t.numero===e.numero)).length>1&&a.push({tipo:Il.ERROR,descricao:"O dispositivo tem nmero igual a de outro dispositivo"}),null!==e&&!Gs(e)&&e.numero&&(s=e.numero,/^\d+$/.test(s))&&parseInt(e.numero)>2&&e.pai.indexOf(e)>0&&qs(e)&&e.tipo!==(null===(n=qs(e))||void 0===n?void 0:n.rotulo)&&0===xs(e).filter((t=>t.numero&&t.numero===e.numero)).length&&parseInt(e.numero)!==parseInt(qs(e).numero)+1&&a.push({tipo:Il.ERROR,descricao:" necessrio um omissis antes deste dispositivo"}),a})(e):(e=>{const t=[];return null===e&&t.push({tipo:Il.ERROR,descricao:"O dispositivo no foi informado"}),null!==e&&e.numero&&0===e.numero.trim().length&&t.push({tipo:Il.ERROR,descricao:"O dispositivo no contm numerao"}),null!==e&&e.rotulo&&0===e.rotulo.trim().length&&t.push({tipo:Il.ERROR,descricao:"O dispositivo no contm rtulo"}),t})(e),Cl=e=>Ws(e)?[]:(e=>{const t=[];if(null===e&&t.push({tipo:Il.ERROR,descricao:"O dispositivo no foi informado"}),null!==e&&e.filhos.length>0&&0===e.tiposPermitidosFilhos.length&&t.push({tipo:Il.ERROR,descricao:`Segundo a Legislao vigente, ${e.descricao} no poderia possuir filhos`}),null!==e&&(Ba(e)||Za(e))&&t.push({tipo:Il.ERROR,descricao:"No foi possvel validar a natureza deste dispositivo com base na legislao vigente"}),null===e||!e.pai||Za(e.pai)||Ba(e)||e.tiposPermitidosPai.includes(e.pai.tipo)||t.push({tipo:Il.ERROR,descricao:`Segundo a Legislao vigente, ${e.descricao} somente poderia pertencer a ${e.tiposPermitidosPai.join(", ")}`}),null!==e&&!Ba&&e.filhos.length>0&&(0===e.tiposPermitidosFilhos.length||e.filhos.filter((t=>!e.tiposPermitidosFilhos.includes(t.tipo))).length>0)){const o=0===e.tiposPermitidosFilhos.length?"no poderia possuir filhos":`somente poderia possuir ${e.tiposPermitidosFilhos.join(", ")}`;t.push({tipo:Il.ERROR,descricao:`Segundo a Legislao vigente, ${e.descricao} ${o}`})}return t})(e).concat(Sl(e),kl(e),(e=>{const t=[];return e.alteracoes&&e.alteracoes.base?(ka(e.alteracoes.base)||t.push({tipo:Il.ERROR,descricao:"No foi informada uma norma alterada vlida"}),t):[]})(e)),Rl=(e,t)=>{void 0!==t.tipoProvavelFilho&&e.filhos.forEach(((o,i)=>{var r;const n=Wl(za(t)&&yn.inciso.name===t.tipoProvavelFilho?t.caput:t,t.tipoProvavelFilho);n.texto=null!==(r=o.texto)&&void 0!==r?r:"",n.situacao=o.situacao,n.mensagens=Cl(o),o.filhos&&Rl(o,n),i===e.filhos.length-1&&t.renumeraFilhos()}))},Ll=(e,t)=>{e.tipo===t.tipo&&e.filhos.forEach((o=>{var i;const r=Wl(za(t)&&Va(o.pai)?t.caput:t,o.tipo);r.texto=null!==(i=o.texto)&&void 0!==i?i:"",r.situacao=o.situacao,e.removeFilho(o),r.mensagens=Cl(o),o.filhos&&(e.tipo===t.tipo?Ll(o,r):Rl(o,r)),0===e.filhos.length&&t.renumeraFilhos()}))},Dl=Nl(function(e){return class extends e{getAcoesPossiveis(e){const t=[];return Ka(e)?(t.push(Hn),void 0!==Fs(e)&&t.push(Fn),void 0!==js(e)&&t.push(zn),Xs(e)&&t.push(Gn),Xs(e)&&$s(e)&&(t.push(os),Ks(e)&&t.push(is)),(0===e.texto.length||hs(e))&&t.push(En),(0===e.texto.length||ds(e))&&t.push(An),(Ss(e)||ks(e))&&t.push(Ha(e.pai.pai)?oa:ta),(!Rs(e)||void 0!==Ds(e)&&Xa(Ds(e)))&&t.push(ia),Ol(e)&&t.push(Xn),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){var t;if(Ka(e))return null===(t=e.tiposPermitidosFilhos)||void 0===t?void 0:t.map((t=>{const o="transformar"+e.tipo+"Em"+t;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&o&&e.nomeAcao===o))[0]}))[0]}getAcaoPossivelShiftTab(e){var t;if(Ka(e))return Ss(e)||ks(e)?Ha(e.pai.pai)?oa:ta:null===(t=e.tiposPermitidosPai)||void 0===t?void 0:t.map((t=>{const o="transformar"+e.tipo+"Em"+t;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&o&&e.nomeAcao===o))[0]}))[0]}}}(es(Da(rs(as(function(e){return class extends e{constructor(){super(...arguments),this.type="NumeracaoAlineaLcp95",this.SUFIXO=")"}normalizaNumeracao(e){return cs(e).replace(/\)/g,"").trim()}createNumeroFromRotulo(e){this.numero=sl(this.normalizaNumeracao(e),tl)}createRotulo(){this.rotulo=void 0===this.numero?yn.alinea.name:sl(this.numero,ol)+this.SUFIXO}}}(ml(Pl)))))))),ql=Nl(function(e){return class extends e{getAcoesPossiveis(e){var t,o,i,r,n,a;const s=[];if(!za(e))return[];if(s.push(wn),s.push(Hn),void 0!==Fs(e)&&s.push(Fn),void 0!==js(e)&&s.push(zn),Xs(e)&&!Ba(e)&&s.push(Gn),Xs(e)&&$s(e)&&(s.push(os),Ks(e)&&s.push(is)),e.alteracoes&&s.push(Mn),e.hasAlteracao()||Xs(e)||0!==e.texto.length&&ds(e)||s.push(xn),e.hasAlteracao()||Xs(e)||0!==e.texto.length&&!ds(e)||s.push(On),e.hasAlteracao()||Xs(e)||Ls(e)||s.push(os),e.pai.indexOf(e)>0&&s.push(ra),e.pai&&!Xs(e)&&Fa(e.pai)&&0===e.pai.filhos.filter((e=>Wa(e))).length&&s.push(Cn),!Xs(e)&&e.pai&&(e=>{const t=e.pai.indexOf(e);return e.pai.filhos.filter(((e,o)=>o>t&&Wa(e))).length>0})(e)&&s.push(xl(Is(e).tipo)),!Xs(e)&&Wa(e.pai)){const r=null!==(o=null===(t=e.tiposPermitidosPai)||void 0===t?void 0:t.indexOf(e.pai.tipo))&&void 0!==o?o:0;null===(i=e.tiposPermitidosPai)||void 0===i||i.filter((()=>r>0)).filter(((t,o)=>e.pai.indexOf(e)>0?o>=r:o>r)).forEach((e=>s.push(xl(e))))}if(!Xs(e)&&Wa(e.pai)&&!Fa(e.pai)&&e.pai.indexOf(e)>0&&(e=>{var t;return void 0!==(null===(t=e.pai)||void 0===t?void 0:t.pai)&&Es(e.pai.pai,e.pai,[]).length>0})(e)){const t=null!==(n=null===(r=e.tiposPermitidosPai)||void 0===r?void 0:r.indexOf(e.pai.tipo))&&void 0!==n?n:0,o=Es(e.pai.pai,e.pai,[]).reduce(((e,t)=>e.includes(t.tipo)&&void 0!==Is(t)?e:e.concat(t.tipo)),[]);null===(a=e.tiposPermitidosPai)||void 0===a||a.filter((()=>t>0)).filter((e=>o.includes(e))).forEach((e=>s.push(xl(e))))}return e.getAcoesPermitidas(e,s)}getAcaoPossivelTab(e){var t;if(za(e))return null===(t=e.tiposPermitidosFilhos)||void 0===t?void 0:t.map((t=>{const o="transformar"+e.tipo+"Em"+t;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&o&&e.nomeAcao===o))[0]}))[0]}getAcaoPossivelShiftTab(e){var t;if(e.tiposPermitidosFilhos)return Ga(e)&&(Ss(e)||ks(e))?ua:$a(e)&&(Ss(e)||ks(e))?la:Ka(e)&&(Ss(e)||ks(e))?Ha(e.pai.pai)?oa:ta:null===(t=e.tiposPermitidosPai)||void 0===t?void 0:t.map((t=>{const o="transformar"+e.tipo+"Em"+t;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&o&&e.nomeAcao===o))[0]}))[0]}}}(es(ja(function(e){return class extends e{hasAlteracao(){var e;return!!this.alteracoes&&(null===(e=this.alteracoes.filhos)||void 0===e?void 0:e.length)>0}}}(function(e){return class extends e{constructor(){super(...arguments),this.type="NumeracaoArtigoLcp95",this.PREFIXO="Art. ",this.SUFIXO="",this.ARTIGO_UNICO="Artigo nico.",this.informouArtigoUnico=!1}normalizaNumeracao(e){return e.replace(/\./g,"").replace(/artigo [u]nico/i,"1").replace(/(art[.]{1})/i,"").replace(/[]/i,"").trim()}createNumeroFromRotulo(e){const t=this.normalizaNumeracao(e);this.informouArtigoUnico=/.[u]nico/i.test(e),this.numero=this.informouArtigoUnico?"1":el(t)?t:void 0}createRotulo(e){void 0===e?this.rotulo=yn.artigo.descricao:void 0===this.numero?this.rotulo=Gs(e)?""+e.tipo:e.tipo:void 0===this.numero||el(this.numero)?Gs(e)?this.rotulo=""+(this.informouArtigoUnico?this.ARTIGO_UNICO:this.PREFIXO+this.getNumeroAndSufixoNumeracao()):1===bs(e).artigos.length?this.rotulo=this.ARTIGO_UNICO:this.rotulo=this.PREFIXO+this.numero===void 0?void 0:this.PREFIXO+this.getNumeroAndSufixoNumeracao():this.rotulo=this.PREFIXO+this.numero+this.SUFIXO}getNumeroAndSufixoNumeracao(){var e;const t=null===(e=this.numero)||void 0===e?void 0:e.split("-"),[o,...i]=t;return(parseInt(null!=o?o:"1",10)<10?o+this.SUFIXO:o)+(i.length>0?"-"+(null==i?void 0:i.join("-").toUpperCase()):"")+(parseInt(null!=o?o:"1",10)>9?".":"")}}}(function(e){return class extends e{get filhos(){const e=this.getIncisosCaput(),t=this.paragrafos;return e.concat(t)}getIncisosCaput(){var e,t;return null!==(t=null===(e=this.caput)||void 0===e?void 0:e.filhos)&&void 0!==t?t:[]}get paragrafos(){var e;return this._paragrafos=null!==(e=this._paragrafos)&&void 0!==e?e:[],this._paragrafos}addFilhoOnPosition(e,t){Ya(e)?this.caput.addFilhoOnPosition(e,t):this.paragrafos.splice(t,0,e)}addFilho(e,t){Va(e)?this.caput=e:Ya(e)?this.addIncisoCaput(e,t):this.addParagrafo(e,t)}removeFilho(e){var t;Ya(e)?null===(t=this.caput)||void 0===t||t.removeFilho(e):this.removeParagrafo(e)}addIncisoCaput(e,t){this.caput.addFilho(e,t)}addParagrafo(e,t){if(t){const o=this.paragrafos.indexOf(t)+1;this.isLastFilho(t)?this.paragrafos.push(e):this.paragrafos.splice(o,0,e)}else this.paragrafos.push(e)}removeParagrafo(e){var t;this._paragrafos=null===(t=this._paragrafos)||void 0===t?void 0:t.filter((t=>t.uuid!==e.uuid?t:t.pai=void 0))}isLastFilho(e){return this.paragrafos.indexOf(e)===this.paragrafos.length-1}indexOf(e){return Ya(e)?this.caput.indexOf(e):this.filhos.indexOf(e)}renumeraIncisos(){var e;null===(e=this.caput)||void 0===e||e.renumeraFilhos()}renumeraParagrafos(){this.paragrafos.filter((e=>!Xs(e)&&!Ws(e))).forEach((e=>{e.numero=pl(e),e.createRotulo(e)}))}isParagrafoUnico(){return 1===this.paragrafos.length}renumeraFilhos(){this.renumeraIncisos(),this.renumeraParagrafos()}}}(class extends Pl{constructor(){super("artigo")}get texto(){var e,t;return null!==(t=null===(e=this.caput)||void 0===e?void 0:e.texto)&&void 0!==t?t:""}set texto(e){this.caput.texto=e}}))))))),jl=Nl(function(e){return class extends e{getAcoesPossiveis(e){return[]}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}(es(ja(rs(as(gl(ml(Pl)))))))),Ml=Nl(function(e){return class extends e{getAcoesPossiveis(e){const t=[];return Ba(e)?(t.push(Hn),Xs(e)&&$s(e)&&(t.push(os),Ks(e)&&t.push(is)),(Ha(e.pai)||Va(e.pai)||Ya(e.pai)||Ka(e.pai))&&e.pai.tipoProvavelFilho.length>0&&t.push(wl.filter((t=>t instanceof Qn&&t.nomeAcao==="transformarDispositivoGenericoEm"+e.pai.tipoProvavelFilho))[0]),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}(es(qa(rs(as(function(e){return class extends e{constructor(){super(...arguments),this.type="NumeracaoDispositivoGenericoLcp95",this.SUFIXO=" -"}createNumeroFromRotulo(){}createRotulo(){this.rotulo=void 0===this.numero?"dg":this.numero+this.SUFIXO}}}(ml(Pl)))))))),Ul=Nl(function(e){return class extends e{getAcoesPossiveis(e){const t=[];return Ya(e)?(t.push(Hn),void 0!==Fs(e)&&t.push(Fn),void 0!==js(e)&&t.push(zn),Xs(e)&&!Ba(e)&&t.push(Gn),Xs(e)&&$s(e)&&(t.push(os),Ks(e)&&t.push(is)),Xs(e)&&!Ba(e)&&t.push(Gn),ds(e)&&t.push(En),hs(e)&&t.push(On),ps(e)&&ks(e)&&t.push(Pn),Ga(e)&&(!Rs(e)||void 0!==Ds(e)&&Xa(Ds(e)))&&t.push(ca),Ga(e)&&(Ss(e)||ks(e))&&t.push(ua),Ga(e)&&Ol(e)&&t.push(Wn),$a(e)&&(Ss(e)||Rs(e))&&t.push(ea),$a(e)&&(!Rs(e)||void 0!==Ds(e)&&Xa(Ds(e)))&&t.push(da),$a(e)&&Ol(e)&&t.push(ea),$a(e)&&(Ss(e)||ks(e))&&t.push(la),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){var t;if(Ya(e))return!Ga(e)||Ss(e)&&Rs(e)?$a(e)&&(Ss(e)||ks(e))?da:null===(t=e.tiposPermitidosFilhos)||void 0===t?void 0:t.map((t=>{const o=Ya(e)?e.pai.tipo:"",i=t.endsWith(yn.inciso.name)?!Ha(e)||Ss(e)&&Rs(e)?"IncisoCaput":"IncisoParagrafo":t,r="transformar"+e.tipo+o+"Em"+i;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&r&&e.nomeAcao===r))[0]}))[0]:ca}getAcaoPossivelShiftTab(e){var t;if(Ya(e))return Ga(e)&&(Ss(e)||ks(e))?ua:$a(e)&&(Ss(e)||ks(e))?la:null===(t=e.tiposPermitidosPai)||void 0===t?void 0:t.map((t=>{const o="transformar"+e.tipo+"Em"+t;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&o&&e.nomeAcao===o))[0]}))[0]}}}(es(ja(rs(as(function(e){return class extends e{constructor(){super(...arguments),this.type="NumeracaoIncisoLcp95",this.SUFIXO=" "}normalizaNumeracao(e){return cs(e).trim().replace(/-$/,"").trim()}createNumeroFromRotulo(e){const t=sl(this.normalizaNumeracao(e),rl);this.numero=el(t)?t:void 0}createRotulo(){this.rotulo=void 0===this.numero?yn.inciso.name:sl(this.numero,al)+this.SUFIXO}}}(ml(Pl)))))))),Fl=Nl(function(e){return class extends e{getAcoesPossiveis(e){const t=[];return Qa(e)?(t.push(Hn),void 0!==Fs(e)&&t.push(Fn),void 0!==js(e)&&t.push(zn),Xs(e)&&!Ba(e)&&t.push(Gn),Xs(e)&&$s(e)&&(t.push(os),Ks(e)&&t.push(is)),(Ss(e)||ks(e))&&t.push(ba),Ol(e)&&t.push(Zn),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){var t;if(Qa)return null===(t=e.tiposPermitidosFilhos)||void 0===t?void 0:t.map((t=>{const o="transformar"+e.tipo+"Em"+t;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&o&&e.nomeAcao===o))[0]}))[0]}getAcaoPossivelShiftTab(e){var t;if(e.tiposPermitidosFilhos)return null===(t=e.tiposPermitidosPai)||void 0===t?void 0:t.map((t=>{const o="transformar"+e.tipo+"Em"+t;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&o&&e.nomeAcao===o))[0]}))[0]}}}(es(ja(rs(as(function(e){return class extends e{constructor(){super(...arguments),this.type="NumeracaoItemLcp95",this.SUFIXO="."}normalizaNumeracao(e){return cs(e).trim().replace(/\.$/,"").trim()}createNumeroFromRotulo(e){const t=this.normalizaNumeracao(e);this.numero=el(t)?t:void 0}createRotulo(){this.rotulo=void 0===this.numero?yn.item.name:sl(this.numero)+this.SUFIXO}}}(ml(Pl)))))))),Bl=Nl(function(e){return class extends e{getAcoesPossiveis(e){const t=[];return Ha(e)?(t.push(Hn),void 0!==Fs(e)&&t.push(Fn),void 0!==js(e)&&t.push(zn),Xs(e)&&t.push(Gn),e.texto&&ds(e)&&t.push(On),(Rs(e)||Ss(e))&&t.push(wa),Ss(e)||t.push(_a),(ks(e)||Ss(e))&&t.push(ya),Ol(e)&&t.push(Jn),Xs(e)&&$s(e)&&(t.push(os),Ks(e)&&t.push(is)),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){var t;if(Ha(e))return null===(t=e.tiposPermitidosFilhos)||void 0===t?void 0:t.map((t=>{const o=t.endsWith(yn.inciso.name)?!Ha(e)||Ss(e)&&Rs(e)?"IncisoCaput":"IncisoParagrafo":t,i="transformar"+e.tipo+"Em"+o;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&i&&e.nomeAcao===i))[0]}))[0]}getAcaoPossivelShiftTab(e){var t;if(e.tiposPermitidosFilhos)return Ga(e)&&(Ss(e)||ks(e))?ua:$a(e)&&(Ss(e)||ks(e))?la:Ka(e)&&(Ss(e)||ks(e))?Ha(e.pai.pai)?oa:ta:null===(t=e.tiposPermitidosPai)||void 0===t?void 0:t.map((t=>{const o="transformar"+e.tipo+"Em"+t;return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e instanceof Qn&&e.nomeAcao&&o&&e.nomeAcao===o))[0]}))[0]}}}(es(ja(rs(as(function(e){return class extends e{constructor(){super(...arguments),this.type="NumeracaoParagrafoLcp95",this.PREFIXO=" ",this.SUFIXO="",this.PARAGRAFO_UNICO="Pargrafo nico.",this.informouParagrafoUnico=!1}normalizaNumeracao(e){return e.trim().replace(/\./g,"").replace(//i,"").replace(/par[a]grafo [u]nico/i,"1").replace(/[]/i,"").trim()}createNumeroFromRotulo(e){const t=this.normalizaNumeracao(e);this.informouParagrafoUnico=/.[u]nico/i.test(e),this.numero=this.informouParagrafoUnico?"1":el(t)?t:void 0}createRotulo(e){var t;void 0!==this.numero&&e?el(this.numero)?e.isDispositivoAlteracao?this.rotulo=this.informouParagrafoUnico?this.PARAGRAFO_UNICO:this.PREFIXO+this.getNumeroAndSufixoNumeracao():1===(null===(t=e.pai)||void 0===t?void 0:t.filhos.filter((e=>Ha(e))).length)?this.rotulo=this.PARAGRAFO_UNICO:this.rotulo=this.PREFIXO+this.numero===void 0?void 0:this.PREFIXO+this.getNumeroAndSufixoNumeracao():this.rotulo=this.getNumeroAndSufixoNumeracao():this.rotulo=yn.paragrafo.name}getNumeroAndSufixoNumeracao(){if(!this.numero)return"";const e=-1===this.numero.search(/[a-zA-Z-]/)?parseInt(this.numero):parseInt(this.numero.substring(0,this.numero.search(/[a-zA-Z-]/))),t=-1===this.numero.search(/[a-zA-Z-]/)?"":this.numero.substring(this.numero.search(/[a-zA-Z-]/));return(e<10?e+this.SUFIXO:e)+((null==t?void 0:t.length)>0?t:"")+(e>9?".":"")}}}(ml(Pl)))))))),zl=Nl(El(es(qa(rs(as(vl(fl(class extends Pl{constructor(){super("articulacao")}get artigos(){var e;return null!==(e=this._artigos)&&void 0!==e?e:[]}addArtigo(e,t){var o;this._artigos=null!==(o=this._artigos)&&void 0!==o?o:[],void 0!==t?this._artigos.splice(this._artigos.indexOf(t)+1,0,e):this._artigos.push(e)}addArtigoOnPosition(e,t){this.artigos.splice(t,0,e)}removeArtigo(e){var t;this._artigos=null!==(t=this._artigos)&&void 0!==t?t:[],this._artigos=this._artigos.filter((t=>t.uuid!==e.uuid))}renumeraArtigos(){this.artigos.filter((e=>e.situacao.descricaoSituacao===La.DISPOSITIVO_NOVO||e.situacao.descricaoSituacao===La.DISPOSITIVO_ADICIONADO)).forEach((e=>{e.numero=pl(e),e.createRotulo(e)}))}indexOfArtigo(e){return this.artigos.indexOf(e)}})))))))),Vl=Nl(El(es(ja(rs(as(vl(fl(Pl)))))))),Hl=Nl(El(es(qa(rs(as(vl(fl(Pl)))))))),Yl=Nl(El(es(ja(rs(as(vl(fl(Pl)))))))),Gl=Nl(El(es(Da(rs(as(vl(fl(Pl)))))))),$l=Nl(El(es(Da(rs(as(vl(fl(Pl)))))))),Kl=Nl(El(es(Da(rs(as(vl(fl(Pl)))))))),Ql=Nl(El(es(ja(rs(as(vl(fl(Pl)))))))),Xl=Nl(function(e){return class extends e{getAcoesPossiveis(e){const t=[];return Xa(e)?(t.push(Hn),void 0!==Fs(e)&&t.push(Fn),void 0!==js(e)&&t.push(zn),Xs(e)&&!Ba(e)&&t.push(Gn),Xs(e)&&$s(e)&&(t.push(os),Ks(e)&&t.push(is)),Fa(e.pai)&&void 0!==Ds(e)&&t.push(ha),Va(e.pai)&&t.push(fa),za(e.pai)&&t.push(ga),Ha(e.pai)&&t.push(ma),Ya(e.pai)&&t.push(pa),Ka(e.pai)&&t.push(va),e.getAcoesPermitidas(e,t)):[]}getAcaoPossivelTab(e){}getAcaoPossivelShiftTab(e){}}}(ja(rs(function(e){return class extends e{constructor(){super(...arguments),this.tipoConteudo=ns.ConteudoTexto,this._texto=Aa}get texto(){return this._texto}set texto(e){const t=vs(e);this._texto=t===fs?fs:Aa}}}(gl(ml(Pl))))))),Wl=(e,t,o,i)=>{const r=Zl(t,e);return void 0!==i&&i>=0?e.addFilhoOnPosition(r,i):o?e.addFilho(r,o):e.addFilho(r),r},Zl=(e,t)=>{let o;switch(e.toLowerCase()){case"alinea":o=new Dl(e.toLowerCase());break;case"artigo":o=new ql,o.caput=Zl(yn.caput.tipo,o);break;case"capitulo":o=new Vl(e.toLowerCase());break;case"caput":o=new jl(e.toLowerCase());break;case"inciso":o=new Ul(e.toLowerCase());break;case"item":o=new Fl(e.toLowerCase());break;case"livro":o=new Yl(e.toLowerCase());break;case"omissis":o=new Xl(e.toLowerCase());break;case"paragrafo":o=new Bl(e.toLowerCase());break;case"parte":o=new Gl(e.toLowerCase());break;case"secao":o=new Kl(e.toLowerCase());break;case"subsecao":o=new $l(e.toLowerCase());break;case"titulo":o=new Ql(e.toLowerCase());break;default:o=t&&Wa(t)?new Hl("agrupadorGenerico"):new Ml("generico"),o.mensagens=[],o.mensagens.push({tipo:Il.WARNING,descricao:"No foi possvel validar a natureza deste dispositivo com base na legislao vigente"})}return o.uuid=Ca.next(),o.name=e,o.pai=t,(e=>{e.isDispositivoAlteracao=Xs(e),Xs(e)&&(e.renumeraFilhos=()=>{var t;null===(t=e.filhos)||void 0===t||t.forEach((e=>{Ws(e)||Zs(e)||(e.numero=pl(e),e.createRotulo(e))}))},za(e)&&(e.caput.renumeraFilhos=()=>{var t;null===(t=e.filhos)||void 0===t||t.forEach((e=>e.createRotulo(e)))}),bs(e).renumeraFilhos=()=>{var t,o;null===(o=null===(t=bs(e))||void 0===t?void 0:t.filhos)||void 0===o||o.forEach((e=>e.createRotulo(e)))},bs(e).renumeraArtigos=()=>{var t,o;null===(o=null===(t=bs(e))||void 0===t?void 0:t.filhos)||void 0===o||o.forEach((e=>e.createRotulo(e)))})})(o),o},Jl=()=>{const e=new zl;return e.uuid=Ca.next(),e},eu=e=>{e.alteracoes=Jl(),e.alteracoes.pai=e},tu=(e,t)=>{var o,i,r,n,a,s,l,u,c,d,p,h,f,m,v,g,b,y,_,w,x,E,O,A,N,P,I,T;let S;if(Xs(e))if("INICIAR_BLOCO"===t.subType)S=su(yn.artigo.tipo,bs(e)),S.texto=(null===(r=null===(i=null===(o=t.novo)||void 0===o?void 0:o.conteudo)||void 0===i?void 0:i.texto)||void 0===r?void 0:r.length)>0?null===(a=null===(n=t.novo)||void 0===n?void 0:n.conteudo)||void 0===a?void 0:a.texto:"";else if("FINALIZAR_BLOCO"===t.subType){const o=bs(e);S=ou(o.pai),S.texto=vs(null!==(u=null===(l=null===(s=t.novo)||void 0===s?void 0:s.conteudo)||void 0===l?void 0:l.texto)&&void 0!==u?u:"")}else if(((e,t)=>{var o,i,r;if(!Xs(e))return!1;const n=As(e);return ks(n)&&gs(vs(null!==(r=null===(i=null===(o=t.atual)||void 0===o?void 0:o.conteudo)||void 0===i?void 0:i.texto)&&void 0!==r?r:""))&&$s(e)})(e,t)){const o=bs(e);S="INICIAR_BLOCO"===t.subType?su(yn.artigo.tipo,o):ou(o.pai),S.texto="INICIAR_BLOCO"===t.subType?"":vs(null!==(p=null===(d=null===(c=t.novo)||void 0===c?void 0:c.conteudo)||void 0===d?void 0:d.texto)&&void 0!==p?p:"")}else S=ou(e),S.createRotulo(),S.texto=(null===(m=null===(f=null===(h=t.novo)||void 0===h?void 0:h.conteudo)||void 0===f?void 0:f.texto)||void 0===m?void 0:m.length)>0?vs(null!==(b=null===(g=null===(v=t.novo)||void 0===v?void 0:v.conteudo)||void 0===g?void 0:g.texto)&&void 0!==b?b:""):"";else e.alteracoes||ms(null===(_=null===(y=t.atual)||void 0===y?void 0:y.conteudo)||void 0===_?void 0:_.texto)||(null===(w=t.novo)||void 0===w?void 0:w.isDispositivoAlteracao)?(e.hasAlteracao()||eu(e),S=su(e.tipo,e.alteracoes),S.texto=(null===(O=null===(E=null===(x=t.novo)||void 0===x?void 0:x.conteudo)||void 0===E?void 0:E.texto)||void 0===O?void 0:O.length)>0?null===(N=null===(A=t.novo)||void 0===A?void 0:A.conteudo)||void 0===N?void 0:N.texto:""):(S=ou(e),S.texto=null!==(T=null===(I=null===(P=t.novo)||void 0===P?void 0:P.conteudo)||void 0===I?void 0:I.texto)&&void 0!==T?T:"");return S},ou=e=>e.hasAlteracao()?iu(e):za(e)?Xs(e)?Wl(e.caput,yn.inciso.tipo,void 0,0):nu(e):Wa(e)?au(e):Xs(e)?Ls(e)||ds(e)?Wl(e,e.tipoProvavelFilho,e):Wl(e.pai,e.tipo===yn.omissis.tipo?e.pai.tipoProvavelFilho:e.tipo,e):ru(e),iu=e=>{var t;return e.pai.isLastFilho(e)&&(null===(t=null==e?void 0:e.pai)||void 0===t?void 0:t.pai)?Wl(e.pai.pai,e.pai.tipo,e.pai):Wl(e.pai,e.tipo,e)},ru=e=>{if(ds(e)){const t=e.tipoProvavelFilho;return e.pai.filhos.length>0?Wl(e,t,void 0,0):Wl(e,t)}if(e.situacao.descricaoSituacao!==La.DISPOSITIVO_ORIGINAL&&ps(e)&&e.pai.isLastFilho(e)){if(Ga(e)){const t=e.pai.pai;return t.filhos.filter((e=>Ha(e))).length>0?Wl(t,yn.paragrafo.tipo,void 0,0):Wl(t,yn.paragrafo.tipo)}return Wl(e.pai.pai,e.pai.tipo,e.pai)}return Wl(e.pai,e.tipo,e)},nu=e=>{if(ds(e)){const t=e.tipoProvavelFilho;if(t===yn.inciso.tipo){const o=e.caput;return o.filhos.length>0?Wl(o,t,void 0,0):Wl(o,t)}return e.pai.filhos.length>0?Wl(e,t,void 0,0):Wl(e,t)}return ps(e)&&e.pai.isLastFilho(e)?Wl(e.pai.pai,e.pai.tipo,e.pai):Wl(e.pai,e.tipo,e)},au=e=>Wl(e,yn.artigo.tipo,void 0,0),su=(e,t)=>{const o=Wl(t,e);return o.createRotulo(o),o};class lu{constructor(){this.descricaoSituacao=La.DISPOSITIVO_ORIGINAL}getAcoesPermitidas(e,t){const o=t.filter((e=>!(e instanceof In))).filter((e=>!(e instanceof Vn))).filter((e=>{var t;return!(null===(t=e.descricao)||void 0===t?void 0:t.startsWith("Mover"))})).filter((e=>!(e instanceof Qn))).filter((e=>!(e instanceof Yn)));return zs(e).filter((e=>Ma(e))).length>0?o.push($n):o.push(Kn),o}}let uu=!1;const cu=e=>null==e?void 0:e.replace(/[\n]/g,"").trim(),du=e=>{var t,o,i;return null===(i=null===(o=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.metadado)||void 0===o?void 0:o.identificacao)||void 0===i?void 0:i.urn},pu=e=>({urn:du(e)}),hu=e=>{var t,o,i,r,n,a,s,l,u,c,d,p,h,f,m,v;const g=null!==(a=null===(n=null===(r=null===(i=null===(o=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.projetoNorma)||void 0===o?void 0:o.norma)||void 0===i?void 0:i.parteInicial)||void 0===r?void 0:r.epigrafe)||void 0===n?void 0:n.content[0])&&void 0!==a?a:"",b=_u(null===(c=null===(u=null===(l=null===(s=null==e?void 0:e.value)||void 0===s?void 0:s.projetoNorma)||void 0===l?void 0:l.norma)||void 0===u?void 0:u.parteInicial)||void 0===c?void 0:c.ementa.content),y=null!==(v=null===(m=null===(f=null===(h=null===(p=null===(d=null==e?void 0:e.value)||void 0===d?void 0:d.projetoNorma)||void 0===p?void 0:p.norma)||void 0===h?void 0:h.parteInicial)||void 0===f?void 0:f.preambulo)||void 0===m?void 0:m.p[0].content[0])&&void 0!==v?v:"";return{epigrafe:cu(g),ementa:cu(b),preambulo:cu(y)}},fu=e=>({articulacao:mu(e.articulacao)}),mu=e=>{const t=Jl();return vu(t,e.lXhier),t},vu=(e,t)=>{e&&t&&(null==t||t.forEach((t=>{var o,i,r,n,a,s,l,u,c;let d;"Caput"===(null===(o=t.name)||void 0===o?void 0:o.localPart)?(e.texto=(null===(i=t.value)||void 0===i?void 0:i.textoOmitido)?Aa:cu(yu(t)),gu(e,null===(r=t.value)||void 0===r?void 0:r.alteracao),vu(e.caput,null===(n=t.value)||void 0===n?void 0:n.lXcontainersOmissis)):"alteracao"===(null===(a=t.name)||void 0===a?void 0:a.localPart)?(gu(e,t),vu(e.caput,null===(s=t.value)||void 0===s?void 0:s.lXcontainersOmissis)):(d=bu(e,t),vu(d,null!==(u=null===(l=t.value)||void 0===l?void 0:l.lXhier)&&void 0!==u?u:null===(c=t.value)||void 0===c?void 0:c.lXcontainersOmissis))})))},gu=(e,t)=>{var o;t&&(eu(e),e.alteracoes.uuid=t.id,e.alteracoes.base=t.base,null===(o=t.content)||void 0===o||o.forEach((t=>{var o,i,r,n;const a=bu(e.alteracoes,t);a.isDispositivoAlteracao=!0,a.rotulo=""+(null===(o=t.value)||void 0===o?void 0:o.rotulo),vu(a,null!==(r=null===(i=t.value)||void 0===i?void 0:i.lXhier)&&void 0!==r?r:null===(n=t.value)||void 0===n?void 0:n.lXcontainersOmissis)})))},bu=(e,t)=>{var o,i,r,n;const a=Wl(e,null===(o=t.name)||void 0===o?void 0:o.localPart);a.rotulo=null===(i=t.value)||void 0===i?void 0:i.rotulo,a.id=null===(r=t.value)||void 0===r?void 0:r.id,uu&&(a.situacao=new lu);const s="NR"===(null===(n=t.value)||void 0===n?void 0:n.notaAlteracao)?" (NR)":"";return a.texto=cu(yu(t))+s,a},yu=e=>{var t,o,i,r,n;let a="";return(null===(t=e.value)||void 0===t?void 0:t.nomeAgrupador)?null!==(o=e.value.nomeAgrupador.content[0])&&void 0!==o?o:"":(null===(n=null===(r=null===(i=e.value)||void 0===i?void 0:i.p)||void 0===r?void 0:r.map((e=>e)))||void 0===n||n.map((e=>e.content)).forEach((e=>a+=_u(e))),a)},_u=e=>{let t="";return null==e||e.forEach((e=>{var o;e.value?t+=`<a href="${(o=e.value).href}"> ${o.content[0]} </a>`:t+=e})),t};class wu{constructor(e){this.descricaoSituacao=La.DISPOSITIVO_SUPRIMIDO,this.dispositivoOriginal=e}getAcoesPermitidas(e,t){const o=[];return(Ga(e)?e.pai.pai:e.pai).situacao.descricaoSituacao!==La.DISPOSITIVO_SUPRIMIDO&&o.push($n),o}}const xu=e=>{var t,o;return void 0!==(null===(o=null===(t=e.hierarquia)||void 0===t?void 0:t.pai)||void 0===o?void 0:o.uuidAlteracao)||void 0!==e.uuidAlteracao},Eu=(e,t=0)=>void 0===(null==e?void 0:e.pai)||Wa(e)?t:za(e)?Xs(e)?++t:t:(t=Gs(null==e?void 0:e.pai)?t+2:++t,za(null==e?void 0:e.pai)?t:Eu(e.pai,t)),Ou=e=>{var t;const o=e.pai?Va(e.pai)?e.pai.pai:e.pai:void 0;return{tipo:null==o?void 0:o.tipo,uuid:null==o?void 0:o.uuid,uuidAlteracao:o&&Xs(e)?null===(t=bs(e).pai)||void 0===t?void 0:t.uuid:void 0}},Au=(e,t=!1)=>{var o,i,r;const n=e.pai;return{tipo:e.tipo,nivel:Eu(e),agrupador:Wa(e),hierarquia:{pai:n?Ou(e):void 0,posicao:n?n.indexOf(e):void 0,numero:e.numero},editavel:!(Fa(e)||e.situacao instanceof wu),sendoEditado:!1,uuid:e.uuid,numero:e.numero,rotulo:null!==(o=e.rotulo)&&void 0!==o?o:"",conteudo:{texto:e.texto},norma:null===(i=e.alteracoes)||void 0===i?void 0:i.base,index:0,acoesPossiveis:t?e.getAcoesPossiveis(e):[],descricaoSituacao:null===(r=e.situacao)||void 0===r?void 0:r.descricaoSituacao,mensagens:Ws(e)?[]:e.mensagens}},Nu=(e,t)=>{void 0!==t.filhos&&t.filhos.forEach((t=>{var o;const i=Au(t);za(t)&&(i.conteudo.texto=t.caput.texto),e.push(i),za(t)&&t.hasAlteracao()&&(null===(o=t.alteracoes)||void 0===o||o.filhos.forEach((t=>{e.push(Au(t)),Nu(e,t)}))),Nu(e,t)}))},Pu=e=>{var t;const o=[];return o.push(Au(e)),za(e)&&e.hasAlteracao()&&za(e)&&e.hasAlteracao()&&(null===(t=e.alteracoes)||void 0===t||t.filhos.forEach((e=>{o.push(Au(e)),Nu(o,e)}))),Nu(o,e),o},Iu=(e,t)=>{var o;return t.push(e),e.alteracoes&&e.alteracoes.filhos.forEach((e=>Ls(e)?Iu(e,t):t.push(e))),null===(o=e.filhos)||void 0===o||o.forEach((e=>Ls(e)?Iu(e,t):t.push(e))),t},Tu=(e,t,o=!1)=>{var i;const r=((e,t)=>{var o,i;return!xu(t)||Qs(e)?e:null!==(i=null===(o=Tu(e,{uuid:t.hierarquia?t.hierarquia.pai.uuidAlteracao:t.uuidAlteracao}))||void 0===o?void 0:o.alteracoes)&&void 0!==i?i:e})(e,t);if(!o&&xu(t)){const e=Tu(r,{uuid:t.hierarquia?t.hierarquia.pai.uuidAlteracao:t.uuidAlteracao});if(!(null==e?void 0:e.alteracoes))return;return null===(i=e.alteracoes)||void 0===i?void 0:i.filhos.flatMap((e=>{const t=[];return Iu(e,t),t})).filter((e=>e.uuid===t.uuid))[0]}if((null==t?void 0:t.tipo)===yn.artigo.tipo){if(r.artigos.filter((e=>e.uuid===t.uuid))[0])return r.artigos.filter((e=>e.uuid===t.uuid))[0]}const n=(null==t?void 0:t.tipo)===yn.articulacao.tipo||void 0===(null==t?void 0:t.uuid)?r:_s(r,t.uuid);if(null!==n)return n},Su=(e,t,o)=>{var i;const r=Cl(t);if(r.length>0||t.mensagens&&(null===(i=t.mensagens)||void 0===i?void 0:i.length)>0){t.mensagens=r;const i=Au(t,o);i.mensagens=Cl(t),e.push(i)}},ku=(e,t=!0)=>{const o=[];if(!e)return[];if(Xs(e)&&Ls(e)&&e.filhos.filter((e=>e.tipo===yn.omissis.tipo)).length>0&&(Su(o,e),e.filhos.filter((e=>e.tipo===yn.omissis.tipo)).forEach((e=>Su(o,e)))),Ja(e)||Ba(e)){const i=Ga(e)?e.pai.pai:e.pai;Su(o,i),Wa(i)&&Su(o,Ga(e)?e.pai.pai:e.pai),xs(e).forEach((i=>{(t||i!==e)&&Su(o,i,!0)}))}else!t||Fa(e)||Wa(e)||Su(o,e,!0);return o},Cu=e=>(za(e)||Ha(e))&&2===xs(e).length?xs(e).filter((t=>e.uuid!==t.uuid)):((e,t=!1)=>{if(za(e)){const t=bs(e),o=bs(e).indexOfArtigo(e);return t.artigos.filter(((e,t)=>t>o))}const o=e.pai.indexOf(e);return e.pai.filhos.filter(((e,i)=>t?i>o:i>=o)).filter((t=>e.tipo===t.tipo))})(e,!0).filter((t=>t.tipo===e.tipo)),Ru=e=>Cu(e).map((e=>{e.mensagens=Cl(e);return Au(e)})),Lu=(e,t)=>{t.forEach((o=>{Su(e,o),t&&Lu(e,o.filhos)}))};var Du;!function(e){e.DocumentoCarregado="DocumentoCarregado",e.InformarNorma="InformarNorma",e.ElementoModificado="ElementoModificado",e.ElementoIncluido="ElementoIncluido",e.ElementoRemovido="ElementoRemovido",e.ElementoRenumerado="ElementoRenumerado",e.ElementoRestaurado="ElementoRestaurado",e.ElementoSuprimido="ElementoSuprimido",e.ElementoValidado="ElementoValidado",e.ElementoSelecionado="ElementoSelecionado"}(Du||(Du={}));const qu=(e,t)=>((e,t)=>{const o=Pu(e);return{articulacao:e,tipoDocumento:t,past:[],present:[],future:[],ui:{events:[{stateType:Du.DocumentoCarregado,elementos:o}]}}})(((e,t=!1)=>{var o,i;if(uu=t,!(null===(o=null==e?void 0:e.value)||void 0===o?void 0:o.projetoNorma))throw new Error("No se trata de um documento lexml vlido");return{classificacao:(null===(i=e.value)||void 0===i?void 0:i.projetoNorma.norma)?Oa.NORMA:Oa.PROJETO,tipo:Pa(du(e)),...pu(e),...hu(e),...fu(e.value.projetoNorma.norma?e.value.projetoNorma.norma:e.value.projetoNorma.projeto)}})(t.documento,t.nomeAcao===Oa.EMENDA).articulacao);class ju extends Al{constructor(){super(...arguments),this.descricaoSituacao=La.DISPOSITIVO_ADICIONADO}getAcoesPermitidas(e,t){return[...new Set(t)].filter((e=>void 0!==e)).filter((e=>"Adicionar"!==e.descricao&&"Atualizar dispositivo"!==e.descricao)).filter((e=>"AGRUPAR_ELEMENTO"!==e.tipo)).filter((t=>{var o;return!(null===(o=t.descricao)||void 0===o?void 0:o.startsWith("Mover"))||(e=>{var t;return 0===(null===(t=e.pai.filhos)||void 0===t?void 0:t.filter((e=>e.situacao.descricaoSituacao!==La.DISPOSITIVO_ADICIONADO)).length)})(e)})).sort(((e,t)=>e.descricao.localeCompare(t.descricao)))}}const Mu=(e,t)=>{var o;let i;if(t.endsWith("EmOmissis")){const e=t.replace("transformar","").replace("EmOmissis","");i="transformar"+e+"EmOmissis"+e}else i=t;return null===(o=e.getAcoesPossiveis(e).filter((e=>e instanceof Qn)).filter((e=>e.nomeAcao===t||e.nomeAcao.replaceAll("IncisoCaput","Inciso").replaceAll("IncisoParagrafo","Inciso")===i))[0])||void 0===o?void 0:o.nomeAcao},Uu=(e,t)=>e.getAcoesPossiveis(e).filter((e=>e instanceof t)).length>0,Fu=(e,t,o)=>{var i,r,n,a,s,l,u,c,d;if(o&&(null===(i=o.ui)||void 0===i?void 0:i.events)){const t=Xu(o.ui.events,Du.ElementoModificado);if(t&&t.elementos&&(null===(n=null===(r=t.elementos[0])||void 0===r?void 0:r.conteudo)||void 0===n?void 0:n.texto)===e.texto)return!0}return""!==e.texto&&""===(null===(s=null===(a=t.atual)||void 0===a?void 0:a.conteudo)||void 0===s?void 0:s.texto)||(null===(u=null===(l=t.atual)||void 0===l?void 0:l.conteudo)||void 0===u?void 0:u.texto)&&0!==e.texto.localeCompare(null===(d=null===(c=t.atual)||void 0===c?void 0:c.conteudo)||void 0===d?void 0:d.texto)},Bu=e=>{const t=Au(e);return t.mensagens=Cl(e),t},zu=e=>{var t;e.uuid=Ca.next(),null===(t=e.filhos)||void 0===t||t.forEach((e=>zu(e)))},Vu=(e,t)=>Fa(e)||(e=>za(e)&&0===bs(e).indexOfArtigo(e))(t)||0===t.pai.indexOf(t)?e:ws(e),Hu=e=>void 0!==e&&""!==e,Yu=(e,t=!1)=>{const o=[];return zs(e).forEach((e=>{if(t){const t=Cl(e);t&&(e.mensagens=t,o.push(Au(e)))}else o.push(Au(e))})),o};class Gu{constructor(){this.eventos=[],this.eventos=Zu()}add(e,t){const o=this.get(e);t.forEach((e=>{var t;return Wu(o,e)||null===(t=o.elementos)||void 0===t?void 0:t.push(e)}))}build(){return this.eventos.filter((e=>e.elementos&&e.elementos.length>0))}get(e){return this.eventos.filter((t=>t.stateType===e))[0]}setReferencia(e){this.get(Du.ElementoIncluido).referencia=e}}const $u=e=>{const t=new Gu,o=Au(e);return o.mensagens=Cl(e),t.add(Du.ElementoModificado,[o]),t.add(Du.ElementoValidado,ku(e)),t},Ku=(e,t)=>{e.mensagens=Cl(e);const o=Au(e),i=t?[t]:[];return i.push(o),[{stateType:Du.ElementoModificado,elementos:i},{stateType:Du.ElementoValidado,elementos:ku(e,!0)}]},Qu=(e,t)=>{const o=Pu(t),i=Cu(t),r=Ds(t),n=t.pai;n.removeFilho(t),n.renumeraFilhos(),Qs(n)&&0===n.filhos.length&&(n.pai.alteracoes=void 0);const a=r&&(Vs(r)||Hs(r))?r:Va(n)?n.pai:n;1===e.artigos.length&&i.push(e.artigos[0]);return((e,t,o)=>{const i=new Gu;return i.add(Du.ElementoRemovido,e),i.add(Du.ElementoRenumerado,t.map((e=>Au(e)))),i.add(Du.ElementoValidado,o),i})(o,i,ku(a,!1)).build()},Xu=(e,t)=>null==e?void 0:e.filter((e=>e.stateType===t))[0],Wu=(e,t)=>(null==e?void 0:e.elementos.map((e=>{var o,i;return e.uuid===t.uuid&&e.rotulo===t.rotulo&&(null===(o=e.conteudo)||void 0===o?void 0:o.texto)===(null===(i=t.conteudo)||void 0===i?void 0:i.texto)})).filter((e=>e)).length)>0,Zu=()=>[{stateType:Du.ElementoIncluido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:Du.ElementoRemovido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:Du.ElementoModificado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:Du.ElementoRenumerado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:Du.ElementoRestaurado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:Du.ElementoSuprimido,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:Du.ElementoValidado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]},{stateType:Du.ElementoSelecionado,referencia:void 0,pai:void 0,posicao:void 0,elementos:[]}],Ju=(e,t)=>{const o=e.past?e.past:[];return o.push(JSON.parse(JSON.stringify(t))),o},ec=(e,t)=>{const o=e.future?e.future:[];return o.push(JSON.parse(JSON.stringify(t))),o},tc=(e,t)=>{var o;return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:e.past,present:e.present,future:e.future,ui:{events:null===(o=e.ui)||void 0===o?void 0:o.events,message:t}}},oc=(e,t)=>{var o,i,r,n,a,s,l,u,c,d,p,h,f,m,v,g,b;let y=!1;const _=Tu(e.articulacao,t.atual,!0);if(void 0===_)return e;(null===(o=_.situacao)||void 0===o?void 0:o.descricaoSituacao)===La.DISPOSITIVO_ORIGINAL&&Hu(null===(r=null===(i=t.novo)||void 0===i?void 0:i.conteudo)||void 0===r?void 0:r.texto)&&(t.atual.conteudo.texto=_.texto,t.novo.conteudo.texto=void 0);const w=Vs(_)||Hs(_),x=Bu(_),E=[];if(Nu(E,_),Fu(_,t,e)&&(_.texto=Xs(_)?vs(null!==(s=null===(a=t.atual.conteudo)||void 0===a?void 0:a.texto)&&void 0!==s?s:""):null===(n=t.atual.conteudo)||void 0===n?void 0:n.texto,y=!0),((e,t)=>{var o,i,r;return!(!Wa(e)||!e.pai||e.situacao.descricaoSituacao===La.DISPOSITIVO_NOVO||Ns(e.pai,e))||!(e.situacao.descricaoSituacao!==La.DISPOSITIVO_ORIGINAL||!ds(e)||!Ls(e))||Ba(e)||ds(e)&&!Uu(e,_n)||(null===(o=e.situacao)||void 0===o?void 0:o.descricaoSituacao)===La.DISPOSITIVO_ORIGINAL&&Hu(null===(r=null===(i=t.novo)||void 0===i?void 0:i.conteudo)||void 0===r?void 0:r.texto)})(_,t))return tc(e,{tipo:Il.INFO,descricao:"No  possvel criar dispositivos nessa situao"});const O=tu(_,t);((null===(l=_.situacao)||void 0===l?void 0:l.descricaoSituacao)===La.DISPOSITIVO_ORIGINAL||(null===(u=_.situacao)||void 0===u?void 0:u.descricaoSituacao)===La.DISPOSITIVO_MODIFICADO||_.situacao instanceof ju)&&(O.situacao=new ju),Hu(null===(d=null===(c=t.novo)||void 0===c?void 0:c.conteudo)||void 0===d?void 0:d.texto)&&_.tipo===O.tipo&&Ls(_)&&Ll(_,O),Xs(O)&&(null===(p=O.mensagens)||void 0===p||p.push({tipo:Il.WARNING,descricao:" necessrio informar o rtulo do dispositivo"})),O.pai.renumeraFilhos();const A=((e,t)=>{const o=new Gu;return o.setReferencia(Au(Vu(e,t))),o.add(Du.ElementoIncluido,Yu(t)),o.add(Du.ElementoRenumerado,Ru(t)),o.add(Du.ElementoValidado,ku(t,!1)),o})(_,O),N=Bu(_);if(Hu(null===(f=null===(h=t.novo)||void 0===h?void 0:h.conteudo)||void 0===f?void 0:f.texto)&&_.tipo===O.tipo&&E&&E.length>0&&A.add(Du.ElementoRemovido,E),Wa(O)&&2===xs(O).length){const e=xs(O).filter((e=>e!==O));A.add(Du.ElementoModificado,[Au(e[0])])}return(y||Hu(null===(v=null===(m=t.novo)||void 0===m?void 0:m.conteudo)||void 0===v?void 0:v.texto))&&A.add(Du.ElementoModificado,[x,N]),(y||Hu(null===(b=null===(g=t.novo)||void 0===g?void 0:g.conteudo)||void 0===b?void 0:b.texto)||Xa(_))&&A.add(Du.ElementoValidado,[N]),(Vs(_)||w)&&(A.add(Du.ElementoValidado,[N]),A.add(Du.ElementoRenumerado,[N])),{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,A.build()),present:A.build(),future:e.future,ui:{events:A.build()}}},ic=(e,t)=>{var o,i,r,n,a;const s=Tu(e.articulacao,t.atual,!0);if(void 0===s)return e;const l=Ds(s),u=s.pai.indexOf(s),c=s.pai.filhos.filter(((e,o)=>o>=u&&e.tipo!==t.novo.tipo)).map((e=>Pu(e))).flat();let d,p;var h,f;Fu(s,t)&&(s.texto=Xs(s)?vs(null!==(r=null===(i=t.atual.conteudo)||void 0===i?void 0:i.texto)&&void 0!==r?r:""):null===(o=t.atual.conteudo)||void 0===o?void 0:o.texto),h=s,f=t.novo.tipo,h.pai.tipo===f?(d=Wl(s.pai.pai,t.novo.tipo,void 0,s.pai.pai.indexOf(s.pai)+1),p=qs(d)):!Xs(s)&&((e,t)=>void 0!==Os(e,t))(s,t.novo.tipo)||((e,t)=>Es(e.pai.pai,e.pai,[]).filter((e=>e.tipo===t)).length>0)(s,t.novo.tipo)?(p=null!==(n=Os(s,t.novo.tipo))&&void 0!==n?n:((e,t)=>[...new Set(Es(e.pai,e,[]))].filter((e=>e.tipo===t)).reverse()[0])(s,t.novo.tipo),d=Wl(p.pai,t.novo.tipo,p)):(d=Wl(s.pai,t.novo.tipo,void 0,s.pai.indexOf(s)),p=null!=l?l:s.pai),d.texto=null===(a=t.novo.conteudo)||void 0===a?void 0:a.texto;((e,t)=>{t.map((t=>{const o=t.pai;zu(t);const i=za(t)?qs(t):void 0;return null==o||o.removeFilho(t),t.pai=e,e.addFilho(t,i),t}))})(d,s.pai.filhos.filter(((e,o)=>o>=u&&e.tipo!==t.novo.tipo))),d.renumeraFilhos(),d.pai.renumeraFilhos();const m=[...Ru(d)].concat(d.filhos.filter(((e,t)=>t>=u&&e.tipo!==s.tipo)).map((e=>Pu(e))).flat()),v=qs(d);v&&2===xs(d).length&&m.unshift(Au(v));const g=new Gu;return g.setReferencia(Au(Vu(p.pai&&Fa(p)&&Qs(p)?p.pai:p,d))),g.add(Du.ElementoIncluido,Pu(d)),g.add(Du.ElementoRemovido,c),g.add(Du.ElementoRenumerado,m),{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,g.build()),present:g.build(),future:e.future,ui:{events:g.build()}}};class rc{constructor(e){this.descricaoSituacao=La.DISPOSITIVO_MODIFICADO,this.dispositivoOriginal=e}getAcoesPermitidas(e,t){const o=t.filter((e=>!(e instanceof In))).filter((e=>!(e instanceof Vn))).filter((e=>{var t;return!(null===(t=e.descricao)||void 0===t?void 0:t.startsWith("Mover"))})).filter((e=>"Adicionar"!==e.descricao&&"Atualizar dispositivo"!==e.descricao)).filter((e=>!(e instanceof Qn)));return o.push($n),o.filter((e=>void 0!==e)).sort(((e,t)=>e.descricao.localeCompare(t.descricao)))}}const nc=(e,t)=>{const o=Tu(e.articulacao,t.atual,!0);if(void 0===o)return e.ui=[],e;if(!((e,t)=>{const o=Mu(e,t.subType);return e.getAcoesPossiveis(e).filter((e=>e instanceof Qn&&e.nomeAcao&&e.nomeAcao===o)).length>0})(o,t))return e;t.subType=Mu(o,t.subType);const i=[...Pu(o)],r=Cu(o),n=((e,t)=>{var o,i;const r=e.pai;let n,a;switch(t.subType){case"transformarAlineaEmItem":case"transformarIncisoCaputEmAlinea":case"transformarIncisoParagrafoEmAlinea":case"transformarParagrafoEmIncisoParagrafo":a=Ds(e),n=Wl(a,t.novo.tipo);break;case"transformarDispositivoGenericoEmInciso":case"transformarDispositivoGenericoEmAlinea":case"transformarDispositivoGenericoEmItem":case"transformarOmissisEmAlinea":case"transformarOmissisEmArtigo":case"transformarOmissisEmIncisoCaput":case"transformarOmissisEmIncisoParagrafo":case"transformarOmissisEmItem":case"transformarOmissisEmParagrafo":case"transformarAlineaEmOmissisAlinea":case"transformarItemEmOmissisItem":case"transformarParagrafoEmOmissisParagrafo":case"transformarIncisoCaputEmOmissisIncisoCaput":case"transformarIncisoParagrafoEmOmissisIncisoParagrafo":a=r,n=Wl(r,t.novo.tipo,void 0,null==r?void 0:r.indexOf(e));break;case"transformarParagrafoEmInciso":if(Ha(e)&&(Rs(e)||Ss(e))){a=r,n=Wl(a.caput,t.novo.tipo);break}a=Ds(e),n=Wl(a,t.novo.tipo);break;case"transformarParagrafoEmIncisoCaput":a=r,n=Wl(a.caput,t.novo.tipo);break;case"transformarArtigoEmParagrafo":a=Ds(e),n=Wl(a,t.novo.tipo);break;default:a=e.pai.pai,n=Wl(a,t.novo.tipo,e.pai)}return n.texto=null!==(i=null===(o=t.atual.conteudo)||void 0===o?void 0:o.texto)&&void 0!==i?i:e.texto,n.situacao=e.situacao,n.mensagens=Cl(n),null==r||r.removeFilho(e),null==r||r.renumeraFilhos(),null==a||a.renumeraFilhos(),Rl(e,n),n})(o,t),a=Cu(n).concat(r),s=Yu(n,!0);n.pai.mensagens=Cl(n.pai),Ga(n)?(n.pai.pai.mensagens=Cl(n.pai.pai),s.unshift(Au(n.pai.pai))):s.unshift(Au(n.pai));const l=Ds(n),u=null!=l?l:n.pai,c=((e,t,o,i,r)=>{const n=new Gu;return n.setReferencia(Au(Vu(e,t))),n.add(Du.ElementoIncluido,Pu(t)),n.add(Du.ElementoRemovido,o),n.add(Du.ElementoRenumerado,i),n.add(Du.ElementoValidado,r.filter((e=>e.mensagens.length>0))),n})(Va(u)?u.pai:u,n,i,a.map((e=>{e.mensagens=Cl(e);return Au(e)})),s);return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,c.build()),present:c.build(),future:e.future,ui:{events:c.build()}}},ac=(e,t)=>{if(xu(t)){const o=Qs(e)?e.pai:_s(e,t.hierarquia.pai.uuidAlteracao);if(o)return o.alteracoes||(o.alteracoes=Jl(),o.alteracoes.pai=o),t.hierarquia.pai.tipo===yn.articulacao.tipo?o.alteracoes:_s(o.alteracoes,t.hierarquia.pai.uuid)}return _s(e,t.hierarquia.pai.uuid)},sc=(e,t)=>{var o,i,r;const n=Wl(za(t)&&e.tipo===yn.inciso.name?t.caput:t,e.tipo,void 0,e.hierarquia.posicao);return n.uuid=e.uuid,n.texto=null!==(i=null===(o=null==e?void 0:e.conteudo)||void 0===o?void 0:o.texto)&&void 0!==i?i:"",n.numero=null===(r=null==e?void 0:e.hierarquia)||void 0===r?void 0:r.numero,n.rotulo=null==e?void 0:e.rotulo,n.mensagens=null==e?void 0:e.mensagens,n.situacao=(e=>{switch(e){case La.DISPOSITIVO_ADICIONADO:return new ju;case La.DISPOSITIVO_NOVO:return new Al;default:return new lu}})(e.descricaoSituacao),n},lc=(e,t,o)=>{if(void 0!==t&&void 0!==t.elementos&&void 0!==t.elementos[0]){const i=t.elementos[0],r=ac(e.articulacao,i),n=((e,t)=>{const o=t.shift(),i=ac(e,o),r=sc(o,i),n=[r];return null==t||t.forEach((t=>{var i,a;const s=(null===(i=t.hierarquia)||void 0===i?void 0:i.pai)===(null===(a=null==o?void 0:o.hierarquia)||void 0===a?void 0:a.pai)?r.pai:ac(e,t),l=sc(t,s);n.push(l)})),n})(e.articulacao,t.elementos);if(null==r||r.renumeraFilhos(),o){const t=0===i.hierarquia.posicao?Fa(r)&&Qs(r)?r.pai:r:ws(Ds(n[0]));if(t){const i=Tu(e.articulacao,t);i?o.referencia=Au(i):tc(e,{tipo:Il.ERROR,descricao:"Erro inesperado"})}}return t.stateType===Du.ElementoIncluido&&(o.referencia=t.referencia),n.map((e=>Au(e)))}return[]},uc=(e,t)=>void 0!==t&&void 0!==t.elementos&&void 0!==t.elementos[0]?(t.elementos.forEach((t=>{const o=Tu(e.articulacao,t,!0);if(o){const e=o.pai;e.removeFilho(o),e.renumeraFilhos()}})),t.elementos):[],cc=(e,t,o,i)=>void 0!==t&&void 0!==t.elementos&&void 0!==t.elementos[0]?(t.elementos.forEach((t=>{var r,n,a,s,l,u,c;const d=Tu(e.articulacao,t,!0);i instanceof lu?(d.numero=null!==(n=null===(r=d.situacao.dispositivoOriginal)||void 0===r?void 0:r.numero)&&void 0!==n?n:"",d.rotulo=null!==(s=null===(a=d.situacao.dispositivoOriginal)||void 0===a?void 0:a.rotulo)&&void 0!==s?s:"",d.texto=null!==(c=null===(u=null===(l=d.situacao.dispositivoOriginal)||void 0===l?void 0:l.conteudo)||void 0===u?void 0:u.texto)&&void 0!==c?c:"",d.situacao=new lu):d.situacao=new i(Au(d)),o.elementos.push(Au(d))})),o.elementos):[],dc=(e,t,o=!1)=>{if(void 0!==t&&void 0!==t.elementos&&void 0!==t.elementos[0]){const i=[];let r=0;return t.elementos.forEach((t=>{var n,a,s,l;const u=Tu(e.articulacao,t,!0);u&&(o&&r===u.uuid||r!==u.uuid)&&(u.situacao.descricaoSituacao===La.DISPOSITIVO_MODIFICADO?(u.texto=null!==(a=null===(n=u.situacao.dispositivoOriginal.conteudo)||void 0===n?void 0:n.texto)&&void 0!==a?a:"",u.situacao=new lu):(t.descricaoSituacao===La.DISPOSITIVO_MODIFICADO&&(u.situacao=new rc(Au(u))),u.texto=null!==(l=null===(s=t.conteudo)||void 0===s?void 0:s.texto)&&void 0!==l?l:""),u.mensagens=Cl(u),i.push(Au(u)),r=u.uuid)})),i}return[]},pc=(e,t)=>{if(void 0!==t&&void 0!==t.elementos&&void 0!==t.elementos[0]){const o=[];return t.elementos.forEach((t=>{const i=Tu(e.articulacao,t,!0);i&&o.push(Au(i))})),o}return[]},hc=(e,t)=>{const o=Xu(t,Du.ElementoValidado);if(void 0!==o&&void 0!==o.elementos&&void 0!==o.elementos[0]){const t=[];return o.elementos.forEach((o=>{const i=Tu(e.articulacao,o,!0);i&&(i.mensagens=Cl(i),i.mensagens.length>0&&t.push(Au(i)))})),t}return[]},fc=(e,t)=>{const o=Tu(e.articulacao,t.atual,!0);if(void 0===o)return e.ui=[],e;if(!Uu(o,Vn))return tc(e,{tipo:Il.ERROR,descricao:"No  possvel excluir um dispositivo original mas apenas suprimi-lo."});if(!Xs(o)&&(Vs(o)||1===e.articulacao.filhos.length&&e.articulacao.filhos[0]===o&&!Ls(o)))return tc(e,{tipo:Il.ERROR,descricao:"No  possvel excluir o nico dispositivo disponvel."});const i=Wa(o)?((e,t)=>{let o=t.pai.indexOf(t);const i=t.pai.filhos.filter(((e,t)=>t<o&&Wa(e))),r=t.pai,n=[...Pu(t)],a=qs(t),s=(null==i?void 0:i.length)>0&&!Xs(t)?i.reverse()[0]:t.pai,l=(null==i?void 0:i.length)>0&&!Xs(t)?i.reverse()[0]:o>0?ws(s.filhos[o-1]):s,u=Fa(l)?s:ws(l),c=t.filhos.map((e=>(e.pai=s,r.removeFilho(e),zu(e),(null==i?void 0:i.length)>0?s.addFilho(e):s.addFilhoOnPosition(e,o++),e)));t.pai.removeFilho(t),null==s||s.renumeraFilhos(),r.renumeraFilhos();const d=c.map((e=>Pu(e))).flat(),p=s.filhos.filter(((e,t)=>t>=o&&(Wa(e)||Gs(e)))).map((e=>Au(e))).flat();a&&1===xs(a).length&&p.unshift(Au(a));const h=new Gu;return h.setReferencia(Fa(u)&&Qs(u)?Au(u.pai):Au(u)),h.add(Du.ElementoIncluido,d),h.add(Du.ElementoRemovido,n),h.add(Du.ElementoRenumerado,p),h.build()})(e.articulacao,o):Qu(e.articulacao,o);return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,i),present:i,future:ec(e,i),ui:{events:i}}},mc=(e,t)=>{var o,i;const r=Tu(e.articulacao,t.atual,!0);if(void 0===r)return e.ui=[],e;if(!(zs(r).filter((e=>Ma(e))).length>0)&&(null===(o=r.situacao)||void 0===o?void 0:o.descricaoSituacao)!==La.DISPOSITIVO_MODIFICADO&&(null===(i=r.situacao)||void 0===i?void 0:i.descricaoSituacao)!==La.DISPOSITIVO_SUPRIMIDO)return e;const n=((e,t)=>{const o=zs(t).filter((e=>e.situacao.descricaoSituacao!==La.DISPOSITIVO_ORIGINAL));o.forEach((e=>{var t,o,i,r,n,a,s;e.numero=null!==(o=null===(t=e.situacao.dispositivoOriginal)||void 0===t?void 0:t.numero)&&void 0!==o?o:"",e.rotulo=null!==(r=null===(i=e.situacao.dispositivoOriginal)||void 0===i?void 0:i.rotulo)&&void 0!==r?r:"",e.texto=e.situacao.descricaoSituacao===La.DISPOSITIVO_MODIFICADO?null!==(s=null===(a=null===(n=e.situacao.dispositivoOriginal)||void 0===n?void 0:n.conteudo)||void 0===a?void 0:a.texto)&&void 0!==s?s:"":e.texto,e.situacao=new lu}));const i=new Gu;return i.add(Du.ElementoRestaurado,o.map((e=>Au(e)))),i.build()})(e.articulacao,r);return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,n),present:n,future:ec(e,n),ui:{events:n}}},vc=(e,t)=>{0!==e.length&&(null==e||e.forEach((e=>{t.add(e.situacao.descricaoSituacao),vc(e.filhos,t)})))},gc=(e,t)=>{var o;const i=Tu(e.articulacao,t.atual,!0);if(void 0===i||(null===(o=i.situacao)||void 0===o?void 0:o.descricaoSituacao)!==La.DISPOSITIVO_ORIGINAL)return e.ui=[],e;if(!(e=>{var t;const o=new Set;return o.add(e.situacao.descricaoSituacao),vc(e.filhos,o),e.alteracoes&&vc(null===(t=e.alteracoes)||void 0===t?void 0:t.filhos,o),1===o.size&&[...o][0]===La.DISPOSITIVO_ORIGINAL})(i))return tc(e,{tipo:Il.ERROR,descricao:"S  possvel suprimir dispositivos que no tenham sofrido modificao."});const r=((e,t)=>{zs(t).forEach((e=>e.situacao=new wu(Au(e)))),t.alteracoes&&t.alteracoes.filhos.length>0&&t.alteracoes.filhos.forEach((e=>zs(e).forEach((e=>e.situacao=new wu(Au(e))))));const o=new Gu;return o.add(Du.ElementoSuprimido,Pu(t)),o.build()})(e.articulacao,i);return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,r),present:r,future:ec(e,r),ui:{events:r}}},bc=function e(t,o,i){var r;if("function"==typeof o&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof o&&void 0===i&&(i=o,o=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,o)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var n=t,a=o,s=[],l=s,u=!1;function c(){l===s&&(l=s.slice())}function d(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function p(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return c(),l.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,c();var o=l.indexOf(e);l.splice(o,1),s=null}}}function h(e){if(!mn(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=n(a,e)}finally{u=!1}for(var t=s=l,o=0;o<t.length;o++){(0,t[o])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");n=e,h({type:fn.REPLACE})}function m(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function o(){e.next&&e.next(d())}return o(),{unsubscribe:t(o)}}})[pn]=function(){return this},e}return h({type:fn.INIT}),(r={dispatch:h,subscribe:p,getState:d,replaceReducer:f})[pn]=m,r}(function(e){for(var t=Object.keys(e),o={},i=0;i<t.length;i++){var r=t[i];"production"!==process.env.NODE_ENV&&void 0===e[r]&&vn('No reducer provided for key "'+r+'"'),"function"==typeof e[r]&&(o[r]=e[r])}var n,a,s=Object.keys(o);"production"!==process.env.NODE_ENV&&(n={});try{!function(e){Object.keys(e).forEach((function(t){var o=e[t];if(void 0===o(void 0,{type:fn.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===o(void 0,{type:fn.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+fn.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(o)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;if("production"!==process.env.NODE_ENV){var i=function(e,t,o,i){var r=Object.keys(t),n=o&&o.type===fn.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!mn(e))return"The "+n+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+r.join('", "')+'"';var a=Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)&&!i[e]}));return a.forEach((function(e){i[e]=!0})),o&&o.type===fn.REPLACE?void 0:a.length>0?"Unexpected "+(a.length>1?"keys":"key")+' "'+a.join('", "')+'" found in '+n+'. Expected to find one of the known reducer keys instead: "'+r.join('", "')+'". Unexpected keys will be ignored.':void 0}(e,o,t,n);i&&vn(i)}for(var r=!1,l={},u=0;u<s.length;u++){var c=s[u],d=o[c],p=e[c],h=d(p,t);if(void 0===h){var f=gn(c,t);throw new Error(f)}l[c]=h,r=r||h!==p}return(r=r||s.length!==Object.keys(e).length)?l:e}}({appReducer:(e={},t)=>(t.type,e),elementoReducer:(e={},t)=>{switch(t.type){case"ATUALIZAR_ELEMENTO":return((e,t)=>{var o,i,r,n;const a=Tu(e.articulacao,t.atual,!0);if(void 0===a||a.texto===t.atual.conteudo.texto)return e.ui=[],e;const s=Au(a);a.texto=Xs(a)?vs(null!==(r=null===(i=t.atual.conteudo)||void 0===i?void 0:i.texto)&&void 0!==r?r:""):null===(o=t.atual.conteudo)||void 0===o?void 0:o.texto,(null===(n=a.situacao)||void 0===n?void 0:n.descricaoSituacao)===La.DISPOSITIVO_ORIGINAL&&(a.situacao=new rc(s));const l=$u(a);return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,Ku(a,s)),present:l.build(),future:e.future,ui:{events:l.build()}}})(e,t);case"ATUALIZAR_REFERENCIA_ELEMENTO":return((e,t)=>{const o=Tu(e.articulacao,t.atual,!0);if(void 0===o||!o.alteracoes||o.alteracoes.base===t.atual.norma)return e.ui=[],e;o.alteracoes.base=t.atual.norma;const i=Au(o),r=new Gu,n=Au(o);return n.mensagens=Cl(o),r.add(Du.ElementoValidado,[n]),{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,Ku(o,i)),present:r.build(),future:e.future,ui:{events:r.build()}}})(e,t);case"ADICIONAR_ELEMENTO":return oc(e,t);case"AGRUPAR_ELEMENTO":return ic(e,t);case"TRANSFORMAR_TIPO_ELEMENTO":return nc(e,t);case"ELEMENTO_SELECIONADO":return((e,t)=>{const o=Tu(e.articulacao,t.atual,!0);if(void 0===o)return e.ui.events=[],e;o.mensagens=Cl(o);const i=Au(o,!0),r=[{stateType:Du.ElementoSelecionado,elementos:[i]}];return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:e.past,present:e.present,future:e.future,ui:{events:r}}})(e,t);case"INFORMAR_NORMA":return((e,t)=>{const o=Tu(e.articulacao,t.atual,!0);if(void 0===o)return e.ui.events=[],e;o.mensagens=Cl(o);const i=Au(o,!0),r=[{stateType:Du.InformarNorma,elementos:[i]}];return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:e.past,present:e.present,future:e.future,ui:{events:r}}})(e,t);case"Mover para baixo":return((e,t)=>{const o=Tu(e.articulacao,t.atual,!0);if(void 0===o)return e.ui=[],e;if(!Uu(o,Un))return tc(e,{tipo:Il.ERROR,descricao:"No  possvel excluir um dispositivo original mas apenas suprimi-lo."});const i=Fs(o);if(void 0===i)return e;const r=[...Pu(o),...Pu(i)],n=Cu(o),a=o.pai,s=a.indexOf(o);zu(o),zu(i),a.removeFilho(o),a.removeFilho(i),a.addFilhoOnPosition(i,s),a.addFilhoOnPosition(o,s+1),a.renumeraFilhos();const l=0===s?Ga(i)?a.pai:a:Ds(i),u=new Gu;return u.setReferencia(Au(Vu(l,o))),u.add(Du.ElementoIncluido,Iu(i,[]).concat(Iu(o,[])).map((e=>(e.mensagens=Cl(e),Au(e))))),u.add(Du.ElementoRemovido,r),u.add(Du.ElementoRenumerado,n.map((e=>Au(e)))),{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,u.build()),present:u.build(),future:e.future,ui:{events:u.build()}}})(e,t);case"Mover para cima":return((e,t)=>{var o;const i=Tu(e.articulacao,t.atual,!0);if(void 0===i)return e.ui=[],e;if(!Uu(i,Bn))return tc(e,{tipo:Il.ERROR,descricao:"No  possvel excluir um dispositivo original mas apenas suprimi-lo."});const r=js(i);if(void 0===r)return e;const n=[...Pu(r),...Pu(i)],a=Cu(i),s=i.pai,l=s.indexOf(r);zu(r),zu(i),s.removeFilho(r),s.removeFilho(i),s.addFilhoOnPosition(i,l),s.addFilhoOnPosition(r,l+1),s.renumeraFilhos();const u=0===l?(null===(o=i.pai)||void 0===o?void 0:o.tipo)===yn.caput.tipo?s.pai:s:Ds(i),c=new Gu;return c.setReferencia(Au(Vu(u,i))),c.add(Du.ElementoIncluido,Iu(i,[]).concat(Iu(r,[])).map((e=>(e.mensagens=Cl(e),Au(e))))),c.add(Du.ElementoRemovido,n),c.add(Du.ElementoRenumerado,a.map((e=>Au(e)))),{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,c.build()),present:c.build(),future:e.future,ui:{events:c.build()}}})(e,t);case"RENUMERAR_ELEMENTO":return((e,t)=>{var o;const i=Tu(e.articulacao,t.atual,!0);if(void 0===i)return e.ui=[],e;if(!Uu(i,Yn))return tc(e,{tipo:Il.INFO,descricao:"Nessa situao, no  possvel renumerar o dispositivo"});const r=Ju(e,Ku(i));try{i.createNumeroFromRotulo(null===(o=t.novo)||void 0===o?void 0:o.numero)}catch(t){return tc(e,{tipo:Il.ERROR,descricao:"O rtulo informado  invlido",detalhe:t})}i.createRotulo(i);const n=$u(i);return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:r,present:n.build(),future:e.future,ui:{events:n.build()}}})(e,t);case"RESTAURAR_ELEMENTO":return mc(e,t);case"SUPRIMIR_ELEMENTO":return gc(e,t);case"ABRIR_ARTICULACAO":return qu(0,t);case"REDO":return(e=>{if(void 0===e.future||0===e.future.length)return e.ui=[],e;const t=e.future.pop(),o={articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:Ju(e,t),present:[],future:e.future,ui:{events:[]}},i=new Gu;return i.add(Du.ElementoRemovido,uc(e,Xu(t,Du.ElementoRemovido))),i.add(Du.ElementoIncluido,lc(e,Xu(t,Du.ElementoIncluido),Xu(i.eventos,Du.ElementoIncluido))),i.add(Du.ElementoModificado,dc(e,Xu(t,Du.ElementoModificado),!0)),i.add(Du.ElementoSuprimido,cc(e,Xu(t,Du.ElementoSuprimido),Xu(i.eventos,Du.ElementoSuprimido),wu)),i.add(Du.ElementoRenumerado,pc(e,Xu(t,Du.ElementoRenumerado))),i.add(Du.ElementoValidado,hc(e,t)),o.ui.events=i.build(),o.present=i.build(),o})(e);case"REMOVER_ELEMENTO":return fc(e,t);case"SHIFT_TAB":case"TAB":return((e,t)=>{const o=Tu(e.articulacao,t.atual,!0);if(void 0===o)return e.ui=[],e;const i="TAB"===t.type?o.getAcaoPossivelTab(o):o.getAcaoPossivelShiftTab(o);if(!i)return e.ui=[],e;const r={type:"TRANSFORMAR_TIPO_ELEMENTO",subType:i.nomeAcao,atual:t.atual,novo:{tipo:i.tipo}};return nc(e,r)})(e,t);case"UNDO":return(e=>{if(void 0===e.past||0===e.past.length)return e.ui=[],e;const t=e.past.pop(),o={articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:e.past,present:[],future:ec(e,t),ui:{events:[]}},i=new Gu;return i.add(Du.ElementoRemovido,uc(e,Xu(t,Du.ElementoIncluido))),i.add(Du.ElementoIncluido,lc(e,Xu(t,Du.ElementoRemovido),Xu(i.eventos,Du.ElementoIncluido))),i.add(Du.ElementoRestaurado,cc(e,Xu(t,Du.ElementoSuprimido),Xu(i.eventos,Du.ElementoRestaurado),lu)),i.add(Du.ElementoModificado,dc(e,Xu(t,Du.ElementoModificado))),i.add(Du.ElementoRenumerado,pc(e,Xu(t,Du.ElementoRenumerado))),i.add(Du.ElementoValidado,hc(e,t)),o.ui.events=i.build(),o.present=i.build(),o})(e);case"VALIDAR_ELEMENTO":return((e,t)=>{const o=Tu(e.articulacao,t.atual,!0);if(void 0===o)return e.ui=[],e;o.mensagens=Cl(o);const i=Au(o,!0),r=[{stateType:Du.ElementoValidado,elementos:[i]}];return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:e.past,present:e.present,future:e.future,ui:{events:r}}})(e,t);case"VALIDAR_ARTICULACAO":return(e=>{const t=[];Lu(t,e.articulacao.filhos);const o=[{stateType:Du.ElementoValidado,elementos:t}];return{articulacao:e.articulacao,tipoDocumento:e.tipoDocumento,past:e.past,present:e.present,future:e.future,ui:{events:o}}})(e);default:return e}}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());let yc,_c=e=>e,wc=class extends(dn(bc)(oe)){constructor(){super(),this.elementos=[],this.tabIndex=-1}createRenderRoot(){return this}render(){return j(yc||(yc=_c` <style>lexml-eta-editor{display:block;height:100%}lexml-eta-editor:focus{outline:0;border:0 solid #f1f1f1;-webkit-box-shadow:0;box-shadow:none}</style> <lexml-eta-editor></lexml-eta-editor> `))}};cn([X({type:Array})],wc.prototype,"elementos",void 0),wc=cn([K("lexml-eta-articulacao")],wc);class xc extends class{}{constructor(){super(...arguments),this.nivel=0,this.rotulo="",this.agrupador=!1,this.editavel=!0,this.sendoEditado=!1,this.index=0}}const Ec=(e,t)=>new Qn(yn[t.toLowerCase()],"Transformar "+e.tipo+"em "+yn[t.toLowerCase()].name,"transformar"+e.tipo+"Em"+yn[t.toLowerCase()].name).execute(e),Oc=Quill.import("blots/block");class Ac extends Oc{get linha(){return this.parent.parent.parent}get tamanho(){return this.length()-1}get tagName(){return this.domNode.tagName}get html(){return"<br>"!==this.domNode.innerHTML?this.domNode.innerHTML.replace("&nbsp;",""):""}set html(e){this.domNode.innerHTML=e}constructor(e){super(e)}}class Nc extends Ac{constructor(){super(Nc.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Nc.className),e}}Nc.blotName="blotMenu",Nc.tagName="DIV",Nc.className="lx-eta-dropdown";class Pc extends Ac{constructor(){super(Pc.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Pc.className),e.innerHTML="&vellip;",e}}Pc.blotName="blotMenuBotao",Pc.tagName="DIV",Pc.className="lx-eta-dropbtn";class Ic extends Ac{constructor(){super(Ic.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Ic.className),e}}Ic.blotName="blotMenuConteudo",Ic.tagName="DIV",Ic.className="lx-eta-dropdown-content";class Tc extends Ac{constructor(e,t){super(Tc.create(e,t))}static create(e,t){var o;const i=super.create();return i.setAttribute("contenteditable","false"),i.setAttribute("class",Tc.className),i.innerHTML=null!==(o=e.descricao)&&void 0!==o?o:"",i.addEventListener("click",(()=>{t(e.descricao)})),i}}Tc.blotName="blotMenuItem",Tc.tagName="DIV",Tc.className="lx-eta-dropdown-content-item";class Sc extends Ac{constructor(e){super(Sc.create(e))}static create(e){const t=super.create();return t.setAttribute("contenteditable","false"),t.setAttribute("style",Sc.criarAtributoStyle(e)),t.setAttribute("data-rotulo",e.rotulo),t.innerHTML="",t}get rotulo(){return this.domNode.getAttribute("data-rotulo")}format(e,t){e===Sc.blotName?this.domNode.setAttribute("data-rotulo",t):e===Sc.formatoStyle?this.domNode.setAttribute("style",Sc.criarAtributoStyle(t)):super.format(e,t)}static criarAtributoStyle(e){let t="Articulacao"===e.tipo?"color: #4a4a4a; line-height: 0.42;":"color: #4a4a4a; line-height: 1.42;";return t=e.agrupador?`${t} display: block; font-size: 1rem; text-align: center;`:`${t} float: left; margin-right: 10px;`,t}}Sc.blotName="rotulo",Sc.tagName="LABEL",Sc.formatoStyle="STYLE";class kc extends Ac{constructor(){super(kc.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("style","font-size: 1em;"),e.innerHTML="&nbsp;",e}}kc.blotName="espaco",kc.tagName="ESPACO",kc.className="espaco";const Cc=Quill.import("blots/container");class Rc extends Cc{constructor(e){var t,o,i,r;super(Rc.create(e)),this._editavel=e.editavel,this._nivel=e.nivel,this._numero=null!==(t=e.numero)&&void 0!==t?t:"",this._tipo=null!==(o=e.tipo)&&void 0!==o?o:"",this._agrupador=e.agrupador,this._hierarquia=(null===(r=null===(i=e.hierarquia)||void 0===i?void 0:i.pai)||void 0===r?void 0:r.uuidAlteracao)?e.hierarquia:void 0,this._descricaoSituacao=e.descricaoSituacao?e.descricaoSituacao:void 0}static criarId(e){return`lxEtaId${null!=e?e:0}`}static create(e){const t=super.create();return t.setAttribute("contenteditable",(null==e?void 0:e.editavel)?"true":"false"),t.setAttribute("class",Rc.className),t.setAttribute("id",Rc.criarId(e.uuid)),t.setAttribute("style",Rc.criarAtributoStyle(e)),t.setAttribute("cellpadding","0"),t.setAttribute("cellspacing","0"),t.setAttribute("border","0"),t}get blotRotulo(){var e,t;return null===(t=null===(e=this.children.head)||void 0===e?void 0:e.children)||void 0===t?void 0:t.head.children.head}get blotConteudo(){var e;return null===(e=this.blotRotulo)||void 0===e?void 0:e.next}get containerDireito(){return this.children.head.children.tail}get blotContainerDireito(){return this.containerDireito.children.head}get tamanho(){return this.length()-1}get id(){var e;return null!==(e=this.domNode.getAttribute("id"))&&void 0!==e?e:""}set agrupador(e){this._agrupador=e}get agrupador(){return this._agrupador}set editavel(e){this._editavel=e,this.blotConteudo.domNode.contentEditable=this._editavel}get editavel(){return this._editavel}set hierarquia(e){this._hierarquia=e}get hierarquia(){return this._hierarquia}set nivel(e){this._nivel=e}get nivel(){return this._nivel}set numero(e){this._numero=e}get numero(){return this._numero}set tipo(e){this._tipo=e}get tipo(){return this._tipo}set descricaoSituacao(e){this._descricaoSituacao=e}get descricaoSituacao(){return this._descricaoSituacao}get uuid(){return parseInt(this.id.substr(7),0)}get html(){return"<br>"!==this.domNode.innerHTML?this.domNode.innerHTML:""}set html(e){this.domNode.innerHTML=e}setEstilo(e){var t,o;let i="",r="";switch(e){case La.DISPOSITIVO_ADICIONADO:i="color: green;",r="color: green;";break;case La.DISPOSITIVO_MODIFICADO:i="color: blue;",r="color: blue;";break;case La.DISPOSITIVO_SUPRIMIDO:i="color: red;",r="text-decoration: line-through; color: red;";break;default:i="color: black;",r="text-decoration: none; color: #9d9d9d;"}this.blotRotulo.domNode.setAttribute("style",(null!==(t=this.blotRotulo.domNode.getAttribute("style"))&&void 0!==t?t:"")+i),this.blotConteudo.domNode.setAttribute("style",(null!==(o=this.blotConteudo.domNode.getAttribute("style"))&&void 0!==o?o:"")+r)}format(e,t){e===Rc.blotName?this.domNode.setAttribute("style",Rc.criarAtributoStyle(t)):super.format(e,t)}ativarBorda(){this.domNode.style.borderColor="#24d421"}desativarBorda(){this.domNode.style.borderColor="#ffffff",this.limparContainerDireito()}limparContainerDireito(){this.blotContainerDireito.tagName!==kc.tagName&&(this.blotContainerDireito.remove(),(new kc).insertInto(this.containerDireito))}static criarAtributoStyle(e){let t="Articulacao"===e.tipo?"width: 100%; min-height: 1px; line-height: 0.42; margin: 1px":"width: 100%; min-height: 26px; border: 1px solid #ffffff; line-height: 1.42; margin: 0px 2px 0px 5px !important;";return t=`${t} padding-left: ${20*(e.agrupador?0:e.nivel)+5}px;`,e.agrupador&&(t=`${t} text-align: center;`),t}}function Lc(e){e.stopPropagation(),e.preventDefault()}Rc.blotName="containerTable",Rc.tagName="TABLE",Rc.className="container-table";class Dc{constructor(e,t){this.callback=e,this.canceled=t}isCanceled(){var e;return null!==(e=this.canceled)&&void 0!==e&&e}cancel(){this.canceled=!0}}class qc{constructor(){this.subscriptions=[]}subscribe(e){const t=new Dc(e);return this.subscriptions.push(t),t}notify(e){this.subscriptions.forEach((t=>{t.isCanceled()||setTimeout((()=>{t.callback(e)}),1)}))}clean(){this.subscriptions=[]}}const jc=/([a-zA-Z0-9 '!@#$%&*()_\-+=`'{[^~}\]<,>.:;?/|\\])/i,Mc=/([^a-zA-Z0-9 '!@#$%&*()_\-+=`'{[^~}\]<,>.:;?/|\\])/gi,Uc=Quill.import("modules/keyboard");class Fc extends Uc{constructor(e,t){super(e,t),this.operacaoTecladoInvalida=new qc,this.adicionaElementoTeclaEnter=new qc,this.removeElemento=new qc,this.renumeraElemento=new qc,this.transformaElemento=new qc,this.moveElemento=new qc}listen(){this.quill.root.addEventListener("keydown",(e=>{e.ctrlKey?(e.altKey||e.metaKey||("Home"===e.key?this.onTeclaHome(e):"End"===e.key?this.onTeclaEnd(e):"ArrowUp"===e.key||"ArrowDown"===e.key?this.onHotKeyMover(e):"a"!==e.key.toLowerCase()||e.shiftKey?"d"===e.key.toLowerCase()?this.onTeclaCtrlD(e):"z"===e.key.toLowerCase()?this.onTeclaCtrlZ(e):"y"===e.key.toLowerCase()?this.onTeclaCtrlY(e):e.ctrlKey&&e.shiftKey&&"a"===e.key.toLowerCase()?this.onTeclaCtrlShiftA(e):"b"!==e.key&&"i"!==e.key&&"x"!==e.key&&"v"!==e.key||this.onValidarTecla(e):this.onTeclaCtrlA(e)),(e.altKey||e.metaKey)&&(["a","l","n","o","p","t"].includes(e.key.toLowerCase())?this.onHotKeyTransformacaoTipo(e):"r"===e.key.toLowerCase()&&this.onHotKeyRenumeraDispositivo(e))):"ArrowRight"===e.key?this.onTeclaArrowRight(e):"ArrowLeft"===e.key?this.onTeclaArrowLeft(e):"ArrowDown"===e.key||"ArrowUp"===e.key?this.onTeclaArrowDownOuUp(e):"Enter"===e.key?this.onTeclaEnter(e):"Escape"===e.key?this.onTeclaEscape(e):"Delete"===e.key?this.onTeclaDelete(e):"Backspace"===e.key?this.onTeclaBackspace(e):"Tab"===e.key?this.onTeclaTab(e):1===e.key.length&&jc.test(e.key)&&this.onValidarTecla(e)})),super.listen()}verificarOperacaoTecladoPermitida(){const e=this.quill.textoSelecionado;if(e.conteudo&&e.quantidadeCR>0){if(1===e.quantidadeCR&&/\n$/gi.test(e.conteudo)){const e=this.quill.getSelection(!0);return this.quill.setSelection(e.index,e.length-1,Quill.sources.API),!0}return this.operacaoTecladoInvalida.notify(),!1}return!0}onTeclaArrowRight(e){const t=this.quill.getSelection(!0),[o,i]=this.quill.getLine(t.index);i===o.tamanho&&(o.linha.next&&this.quill.setIndex(this.quill.getIndex(o.linha.next.blotConteudo),Quill.sources.USER),Lc(e))}onTeclaArrowLeft(e){const t=this.quill.getSelection(!0),[o,i]=this.quill.getLine(t.index);if(0===i){if(o.linha.prev){const e=o.linha.prev,t=this.quill.getIndex(e.blotConteudo)+e.blotConteudo.tamanho;this.quill.setIndex(t,Quill.sources.USER)}Lc(e)}}onTeclaArrowDownOuUp(e){this.quill.isProcessandoMudancaLinha&&Lc(e)}onTeclaEnter(e){if(this.verificarOperacaoTecladoPermitida()){const e=this.quill.getSelection(!0);this.quill.setSelection(e.index,0,Quill.sources.SILENT),this.adicionaElementoTeclaEnter.notify(e)}Lc(e)}onTeclaEscape(e){const t=this.quill.getSelection(!0);this.quill.setIndex(t.index,Quill.sources.SILENT),this.quill.setSelection(this.quill.inicioConteudoAtual,0,Quill.sources.SILENT),Lc(e)}onTeclaDelete(e){const t=this.quill.getSelection(!0);this.verificarOperacaoTecladoPermitida()&&t.index!==this.quill.fimConteudoAtual||Lc(e)}onTeclaBackspace(e){const t=this.quill.getSelection(!0);(!this.verificarOperacaoTecladoPermitida()||t.index===this.quill.inicioConteudoAtual&&0===t.length)&&Lc(e)}onValidarTecla(e){this.verificarOperacaoTecladoPermitida()||Lc(e)}onTeclaHome(e){const t=this.quill.getIndex(this.quill.getPrimeiraLinha().blotConteudo);this.quill.setIndex(t,Quill.sources.USER),this.quill.scroll.domNode.scrollTo(0,0),Lc(e)}onTeclaEnd(e){var t,o;const i=null!==(o=this.quill.getIndex(this.quill.getUltimaLinha().blotConteudo)+(null===(t=this.quill.getUltimaLinha().blotConteudo)||void 0===t?void 0:t.tamanho))&&void 0!==o?o:0;this.quill.setIndex(i,Quill.sources.USER),this.quill.scroll.domNode.scrollTo(0,this.quill.scroll.domNode.scrollHeight),Lc(e)}onTeclaCtrlD(e){this.removeElemento.notify(),Lc(e)}onTeclaTab(e){this.transformaElemento.notify(e),Lc(e)}onTeclaCtrlZ(e){this.quill.undo(),Lc(e)}onTeclaCtrlY(e){this.quill.redo(),Lc(e)}onTeclaCtrlA(e){const t=this.quill.getIndex(this.quill.scroll.children.head.blotConteudo);this.quill.setSelection(t,this.quill.getLength(),Quill.sources.SILENT),Lc(e)}onTeclaCtrlShiftA(e){this.quill.setSelection(this.quill.inicioConteudoAtual,this.quill.linhaAtual.blotConteudo.tamanho,Quill.sources.SILENT),Lc(e)}onHotKeyRenumeraDispositivo(e){this.renumeraElemento.notify(e),Lc(e)}onHotKeyMover(e){this.moveElemento.notify(e),Lc(e)}onHotKeyTransformacaoTipo(e){this.transformaElemento.notify(e),Lc(e)}}class Bc extends Ac{constructor(e){super(Bc.create(e)),this._htmlAnt=""}static create(e){var t,o;const i=super.create(),r=(null!==(o=null===(t=e.conteudo)||void 0===t?void 0:t.texto)&&void 0!==o?o:"").trim();return i.setAttribute("contenteditable",(null==e?void 0:e.editavel)?"true":"false"),i.innerHTML=""!==r?r:"<br>",i}set htmlAnt(e){this._htmlAnt=e}get htmlAnt(){return this._htmlAnt}get alterado(){return this._htmlAnt!==this.html}}Bc.blotName="texto",Bc.tagName="P";class zc extends Ac{constructor(e){super(zc.create(e))}static create(e){const t=super.create();let o="";return o=e.tipo===Il.INFO?"green":e.tipo===Il.WARNING?"#afaf08":"red",t.setAttribute("contenteditable","false"),t.setAttribute("style",`font-size: 0.8em;color:${o};`),t.innerHTML=e.descricao?"- "+e.descricao:"",t}}zc.blotName="mensagem",zc.tagName="div",zc.className="mensagem";class Vc extends Ac{constructor(){super(Vc.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("style","font-size: 0.8em;"),e}}Vc.blotName="mensagens",Vc.tagName="MENSAGENS";const Hc=Quill.import("modules/clipboard");class Yc extends Hc{convert(e){if("string"==typeof e)return this.container.innerHTML=e,super.convert();this.container.innerHTML=this.container.innerHTML.replace(Mc,""),this.container.innerHTML=this.container.innerHTML.replace(/(<p\s*)/gi," <p"),this.container.innerHTML=this.container.innerHTML.replace(/(<br\s*\/>)/gi," "),this.container.innerHTML=this.container.innerHTML.replace(/<(?!strong)(?!\/strong)(?!em)(?!\/em)(?!sub)(?!\/sub)(?!sup)(?!\/sup)(.*?)>/gi,""),this.container.innerHTML=this.container.innerHTML.replace(/<([a-z]+) .*?=".*?( *\/?>)/gi,"<$1$2");const t=super.convert();return this.container.innerHTML="",t}}const Gc=Quill.import("blots/container");class $c extends Gc{constructor(){super($c.create())}static create(){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",$c.className),e.setAttribute("style","width: 30px; vertical-align: top; text-align: center"),e}}$c.blotName="containerTdDireito",$c.tagName="TD",$c.className="container-td-direito";const Kc=Quill.import("blots/container");class Qc extends Kc{constructor(e){super(Qc.create(e))}static create(e){const t=super.create();return t.setAttribute("contenteditable",e?"true":"false"),t.setAttribute("class",Qc.className),t.setAttribute("sytle","text-align: left !important;"),t}}Qc.blotName="containerTdEsquerdo",Qc.tagName="TD",Qc.className="container-td-esquerdo";const Xc=Quill.import("blots/container");class Wc extends Xc{constructor(e){super(Wc.create(e))}static create(e){const t=super.create();return t.setAttribute("contenteditable",e?"true":"false"),t.setAttribute("class",Wc.className),t}}Wc.blotName="containerTr",Wc.tagName="TR",Wc.className="container-tr";class Zc extends Quill{constructor(e,t){super(e,t)}getConteudoHtml(e,t,o){const i=this.scroll.children.head;return this.setConteudo(this.converterHtmlParaDelta(e),Quill.sources.SILENT),this.deleteText(t+o,i.length()-o-1,Quill.sources.SILENT),t>0&&this.deleteText(0,t,Quill.sources.SILENT),i.domNode.innerHTML}converterHtmlParaDelta(e){return this.clipboard.convert(null!=e?e:"")}converterDeltaParaHtml(e){return this.setConteudo(e,Quill.sources.SILENT),this.scroll.children.head.domNode.innerHTML}setConteudo(e,t){var o;const i=this.scroll.children.head;let r=0;i.length()>1&&this.deleteText(r,i.length()-1,null!=t?t:Quill.sources.SILENT),this.insertText(r," ",Quill.sources.SILENT),null===(o=e.ops)||void 0===o||o.forEach((e=>{e.attributes?this.insertText(r,e.insert,e.attributes,null!=t?t:Quill.sources.SILENT):this.insertText(r,e.insert,null!=t?t:Quill.sources.SILENT),r+=e.insert.length})),this.deleteText(r,1,Quill.sources.SILENT)}}class Jc extends Quill{constructor(e,t,o){super(e,o),this._undoEstruturaVazio=!0,this._redoEstruturaVazio=!0,this._processandoMudancaLinha=!1,this.undoRedoEstrutura=new qc,this.elementoSelecionado=new qc,this.aspasAberta=!1,this.onSelectionChange=(e,t)=>{this._mudouDeLinha=this.verificarMudouLinha(e,t),this._mudouDeLinha&&(this.aspasAberta=!1,this.limparHistory())},this.onTextChange=()=>{this._linhaAtual&&setTimeout((()=>{this.acertarAspas()}),0)},this.on("text-change",this.onTextChange),this.on("selection-change",this.onSelectionChange),this.buffer=new Zc(t,{})}get mudouDeLinha(){var e;return null!==(e=this._mudouDeLinha)&&void 0!==e&&e}get linhaAnterior(){return this._linhaAnterior}get linhaAtual(){return this._linhaAtual}get inicioConteudoAtual(){return this.getIndex(this.linhaAtual.blotConteudo)}get fimConteudoAtual(){return this.inicioConteudoAtual+this.linhaAtual.blotConteudo.tamanho}get textoSelecionado(){var e,t,o;const i=null!==(e=this.getSelection(!0))&&void 0!==e?e:{index:0,length:0},r=this.getText().substr(i.index,i.length);return{conteudo:r,quantidadeCR:null!==(o=null===(t=r.match(/(\n)/gi))||void 0===t?void 0:t.length)&&void 0!==o?o:0}}get isUndoEstruturaVazio(){return this._undoEstruturaVazio}set undoEstruturaVazio(e){this._undoEstruturaVazio=e}get isRedoEstruturaVazio(){return this._redoEstruturaVazio}set redoEstruturaVazio(e){this._redoEstruturaVazio=e}get isProcessandoMudancaLinha(){return this._processandoMudancaLinha}set processandoMudancaLinha(e){this._processandoMudancaLinha=e}static configurar(){const e=Jc.import("parchment"),t=new e.Attributor.Attribute("id","id",{scope:e.Scope.BLOCK}),o=new e.Attributor.Style("paddingLeft","padding-left",{scope:e.Scope.BLOCK}),i=new e.Attributor.Style("border","border",{scope:e.Scope.BLOCK}),r=new e.Attributor.Style("borderColor","border-color",{scope:e.Scope.BLOCK}),n=new e.Attributor.Style("display","display",{scope:e.Scope.BLOCK}),a=new e.Attributor.Style("aria-label","aria-label",{scope:e.Scope.BLOCK}),s=new e.Attributor.Attribute("dataRotulo","data-rotulo",{scope:e.Scope.BLOCK});Jc.register("modules/clipboard",Yc,!0),Jc.register("modules/keyboard",Fc,!0),Jc.register(Bc,!0),Jc.register(kc,!0),Jc.register(zc,!0),Jc.register(Vc,!0),Jc.register(Pc,!0),Jc.register(Ic,!0),Jc.register(Tc,!0),Jc.register(Nc,!0),Jc.register(Sc,!0),Jc.register(Rc,!0),Jc.register(Qc,!0),Jc.register($c,!0),Jc.register(Wc,!0),Jc.register(t,!0),Jc.register(o,!0),Jc.register(i,!0),Jc.register(r,!0),Jc.register(n,!0),Jc.register(a,!0),Jc.register(s,!0)}destroi(){var e,t;this.off("text-change",this.onTextChange),this.off("selection-change",this.onSelectionChange),null===(e=this.keyboard)||void 0===e||e.operacaoTecladoInvalida.clean(),null===(t=this.keyboard)||void 0===t||t.adicionaElementoTeclaEnter.clean()}getConteudoHtmlParteLinha(e,t,o){return this.buffer.getConteudoHtml(e.html,t,o)}getPrimeiraLinha(){return this.scroll.children.head}getUltimaLinha(){return this.scroll.children.tail}getLinha(e,t=this.getPrimeiraLinha()){return t.uuid===e?t:t.next?this.getLinha(e,t.next):void 0}getLinhaPorId(e){return Quill.find(this.getHtmlElement(Rc.criarId(e)),!1)}setIndex(e,t=Quill.sources.USER){var o;const i=null!==(o=this.getSelection(!0))&&void 0!==o?o:{index:0,length:0};e===i.index&&0===i.length||this.setSelection(e,0,t)}setConteudoLinha(e,t,o){var i;let r=this.getIndex(e);e.length()>1&&this.deleteText(r,e.length()-1,null!=o?o:Quill.sources.SILENT),this.insertText(r," ",Quill.sources.SILENT),null===(i=t.ops)||void 0===i||i.forEach((e=>{e.attributes?this.insertText(r,e.insert,e.attributes,null!=o?o:Quill.sources.SILENT):this.insertText(r,e.insert,null!=o?o:Quill.sources.SILENT),r+=e.insert.length})),this.deleteText(r,1,Quill.sources.SILENT)}converterHtmlParaDelta(e){return this.buffer.converterHtmlParaDelta(e)}converterDeltaParaHtml(e){return this.buffer.converterDeltaParaHtml(e)}irProximaLinha(){var e;const t=this.getIndex(null===(e=this._linhaAtual)||void 0===e?void 0:e.next.blotConteudo);this.setSelection(t,0)}desmarcarLinhaAtual(e){this._linhaAnterior=e,e.desativarBorda()}marcarLinhaAtual(e){"Articulacao"!==e.tipo&&(this.processandoMudancaLinha=!0,this._linhaAtual=e,this._linhaAtual.blotConteudo.htmlAnt=this._linhaAtual.blotConteudo.html,e.ativarBorda(),this.elementoSelecionado.notify(e.uuid))}undo(){0===this.history.stack.undo.length?this.isUndoEstruturaVazio||this.undoRedoEstrutura.notify(Jc.UNDO):(this.history.undo(),this.focus())}redo(){0===this.history.stack.redo.length?this.isRedoEstruturaVazio||this.undoRedoEstrutura.notify(Jc.REDO):(this.history.redo(),this.focus())}limparHistory(){setTimeout((()=>{this.history.clear()}),0)}verificarMudouLinha(e,t){if(e&&t&&0===e.index&&0===e.length){const e=this.getLine(t.index)[0];return this.setSelection(this.getIndex(e),0,Quill.sources.SILENT),!1}if(e){const o=this.getLine(e.index)[0],i=o.linha;if(o.tagName!==Sc.tagName&&o.tagName!==kc.tagName&&o.tagName!==Nc.tagName&&o.tagName!==Vc.tagName||this.setSelection(this.getIndex(o.linha.blotConteudo),0,Quill.sources.SILENT),t){const e=this.getLine(t.index)[0];if(e){const t=e.linha;if(i===t)return!1;this.desmarcarLinhaAtual(t)}}return this.marcarLinhaAtual(i),!0}return!1}getHtmlElement(e){return this.root.querySelector(`#${e}`)}acertarAspas(){var e,t;if(this._linhaAtual){let o=this.inicioConteudoAtual;const i=null!==(t=this.getText(o,null===(e=this.linhaAtual)||void 0===e?void 0:e.blotConteudo.tamanho))&&void 0!==t?t:"";if(i.indexOf('"')>-1)for(let e=0;e<i.length;e++)'"'===i[e]&&(o+=e,this.deleteText(o,1,Quill.sources.SILENT),this.insertText(o,this.aspasAberta?"":"",Quill.sources.SILENT),this.aspasAberta=!this.aspasAberta)}}}Jc.UNDO="undo",Jc.REDO="redo";class ed{static criarContainerLinha(e){const t=new Rc(e),o=new Wc(e.editavel),i=new Qc(e.editavel),r=new $c;return new Sc(e).insertInto(i),new Bc(e).insertInto(i),(new kc).insertInto(r),i.insertInto(o),r.insertInto(o),o.insertInto(t),t}static criarContainerMensagens(e){const t=new Wc(!1),o=new Qc(!1),i=new $c;return e.mensagens&&e.mensagens.length>0&&e.mensagens.forEach((e=>{new zc(e).insertInto(o)})),(new kc).insertInto(i),o.insertInto(t),i.insertInto(t),t}}async function td(e,t,o,i){var r;const n=document.createElement("elix-dialog"),a=document.createRange().createContextualFragment('\n    <style>\n    h1.normaDiv {\n      font-size: 1em;\n      padding: 0.5em;\n      font-weight: bold;\n    }\n    .normaDiv {\n      display: grid;\n      grid-template-columns: [labels] auto [controls] 1fr;\n      grid-auto-flow: row;\n      grid-gap: .8em;\n      padding: 0.5em;\n    }\n    .normaDiv > label  {\n      grid-column: labels;\n      grid-row: auto;\n    }\n    .normaDiv > input,\n    .normaDiv > select {\n      grid-column: controls;\n      grid-row: auto;\n      padding: 0.5em;\n    }\n  </style>\n  <h1 class="normaDiv">Dados da norma vigente</h1>\n  <div name="normaDiv" class="normaDiv">\n    <label for="tipoNorma">Tipo </label>\n      <select name="tipos" name="tipoNorma" id="tipoNorma">      \n      <option value="decreto">Decreto</option>\n      <option value="decreto-lei">Decreto-Lei</option>\n      <option value="lei" selected>Lei</option>\n      <option value="lei.complementar">Lei Complementar</option>\n      <option value="lei.delegada">Lei Delegada</option>\n      <option value="medida.provisoria">Medida Provisria</option>\n    </select>    \n    <label for="numeroNorma">Nmero </label>\n    <input type="text" name="numeroNorma" id="numeroNorma" placeholder="8666 (nmero sem ponto)">\n    <label for="dataNorma">Data</label>\n    <input type="text" name="dataNorma" id="dataNorma" placeholder="21/06/1993">\n\n    <div style="margin-top: 10px;">\n      <button>Ok</button>\n      <button>Cancelar</button>\n    </div>\n    <div class="erro" style="margin-top: 10px; color: red; display: none;"></div>\n\n  </div>\n\n\n  '),s=e.norma?null===(r=Pa(e.norma))||void 0===r?void 0:r.urn:void 0,l=e.norma?Ia(e.norma):void 0,u=e.norma?Ta(e.norma):void 0,c=a.querySelector("#tipoNorma"),d=a.querySelector("#numeroNorma"),p=a.querySelector("#dataNorma");s&&(c.value=s),l&&(d.value=l),u&&(p.value=u);const h=a.querySelectorAll("button"),f=h[0],m=h[1],v=a.querySelector(".erro");f.onclick=()=>{var r,a;const s=((e,t,o,i)=>{var r;return`urn:lex:br:${e}:${t}:${null!==(r=Sa(i))&&void 0!==r?r:i};${o}`})("federal",c.value,null===(r=d)||void 0===r?void 0:r.value,null===(a=p)||void 0===a?void 0:a.value);ka(s)?(t.focus(),n.close(),v.style.display="none",e.norma=s,o.dispatch(i.execute(e))):(v.innerText="Dados invlidos",v.style.display="block")},m.onclick=()=>{t.focus(),n.close()},n.appendChild(a),await n.open()}let od,id=e=>e,rd=class extends(dn(bc)(oe)){constructor(){super(),this.inscricoes=[],this.onSelectionChange=()=>{var e,t,o,i,r,n;if(this.quill.mudouDeLinha){const a=this.quill.linhaAnterior;if(a){const s=this.criarElemento(a.uuid,a.tipo,null!==(t=null===(e=a.blotConteudo)||void 0===e?void 0:e.html)&&void 0!==t?t:"",a.numero,a.hierarquia);(null===(o=a.blotConteudo)||void 0===o?void 0:o.alterado)?bc.dispatch(Dn.execute(s)):(""===(null===(i=a.blotConteudo)||void 0===i?void 0:i.html)&&""===(null===(r=a.blotConteudo)||void 0===r?void 0:r.htmlAnt)||this.isRotuloInvalido(a.tipo,null===(n=a.blotRotulo)||void 0===n?void 0:n.rotulo))&&bc.dispatch(Ea.execute(s))}}},this.tabIndex=-1}get quill(){return this._quill}createRenderRoot(){return this}async firstUpdated(){this.inicializar(this.configEditor())}stateChanged(e){var t,o;this.quill?(this.quill.undoEstruturaVazio=0===(null!==(t=e.elementoReducer.past)&&void 0!==t?t:[]).length,this.quill.redoEstruturaVazio=0===(null!==(o=e.elementoReducer.future)&&void 0!==o?o:[]).length,e.elementoReducer.ui&&(e.elementoReducer.ui.message?this.alertar(e.elementoReducer.ui.message.descricao):this.processarStateEvents(e.elementoReducer.ui.events))):this.quillNaoInicializado(e)}disconnectedCallback(){this.inscricoes.forEach((e=>e.cancel())),this.destroiQuill(),super.disconnectedCallback()}render(){return j(od||(od=id` <link rel="stylesheet" href="assets/css/editor.css"> <style>#lx-eta-box{display:grid;grid-template-columns:1fr;grid-template-rows:30px calc(100% - 30px);height:100%}#lx-eta-box .ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;padding:3px 10px 3px 10px}#lx-eta-box .ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{height:20px!important;padding:0!important;width:24px!important;margin:0!important}#lx-eta-barra-ferramenta button:focus{outline:0;border:0 solid #f1f1f1;-webkit-box-shadow:0;box-shadow:none}#lx-eta-barra-ferramenta .lx-eta-ql-button{font-size:1.1em;color:#444}.lx-eta-rebate-180-graus{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1)}#lx-eta-editor{overflow-y:auto}#lx-eta-editor .ql-editor{font-family:Arial,sans-serif,'Open Sans',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-size:1rem;line-height:1.42;color:#9d9d9d;text-transform:none!important;padding:5px}#lx-eta-editor .ql-editor :focus{outline:0;border:0 solid #f1f1f1;-webkit-box-shadow:0;box-shadow:none}#lx-eta-editor .ql-editor label:before{content:attr(data-rotulo) ' '}#toast-msg{padding:1em;font-size:1.1em}.lx-eta-dropbtn{background-color:#fff;color:#444;width:26px;font-weight:700;vertical-align:middle;border:none;cursor:pointer;text-align:center}.lx-eta-dropdown{position:relative;display:inline-block}.lx-eta-dropdown-content{display:none;position:absolute;right:0;background-color:#f9f9f9;min-width:160px;box-shadow:0 4px 4px 4px rgba(0,0,0,.25);z-index:1}.lx-eta-dropdown-content div{color:#000;padding:5px 16px;text-decoration:none;display:block;white-space:nowrap;font-weight:400!important;text-align:left;cursor:pointer}.lx-eta-dropdown-content div:hover{background-color:#e5e5e5}.lx-eta-dropdown:hover .lx-eta-dropdown-content{display:block}.lx-eta-dropdown:hover .lx-eta-dropbtn{background-color:#e1e1e1}.lx-eta-btn-disp-atual{margin-left:10px!important;text-decoration:underline}.lx-eta-btn-desfazer{margin-left:10px!important}</style> <div id="lx-eta-box"> <div id="lx-eta-barra-ferramenta"> <button class="ql-bold" title="Negrito (Ctrl+b)"></button> <button class="ql-italic" title="Itlico (Ctrl+i)"></button> <button class="ql-script" value="sub" title="Subscrito"></button> <button class="ql-script" value="super" title="Sobrescrito"></button> <button @click="${0}" class="lx-eta-ql-button lx-eta-btn-desfazer" title="Desfazer (Ctrl+Z)"><i class="fa fa-undo"></i></button> <button @click="${0}" class="lx-eta-ql-button" title="Refazer (Ctrl+y)"><i class="fa fa-undo lx-eta-rebate-180-graus"></i></button> <button @click="${0}" class="lx-eta-ql-button lx-eta-btn-disp-atual" title="Localizar dispositivo atual">D</button> <button @click="${0}" class="lx-eta-ql-button lx-eta-btn-disp-atual" title="Validar Articulao">V</button> <lexml-eta-help style="float:right"></lexml-eta-help> </div> <div id="lx-eta-editor"></div> </div> <elix-toast id="toast-alerta" duration="3000"> <div id="toast-msg"></div> </elix-toast> <div id="lx-eta-buffer" style="display:none;height:0"><p></p></div> `),this.onClickUndo,this.onClickRedo,this.onClickDispositivoAtual,this.onClickValidacao)}onClickUndo(){this.quill.undo()}onClickRedo(){this.quill.redo()}onClickDispositivoAtual(){this.quill.setSelection(this.quill.getIndex(this.quill.linhaAtual.blotConteudo),0,Quill.sources.SILENT),this.quill.focus()}onClickValidacao(){bc.dispatch(xa.execute())}isRotuloInvalido(e,t){return!t||t.replace(/["]?/,"")===e}onBold(e){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&this.quill.format("bold",e)}onItalic(e){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&this.quill.format("italic",e)}onScript(e){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&this.quill.format("script",e)}onOperacaoInvalida(){this.alertar("Operao no permitida.")}isDesmembramento(e,t,o){return 0!==(t+o).localeCompare(e)}adicionarElemento(e){var t,o;const i=this.quill.linhaAtual,r=i.blotConteudo,n=null!==(t=this.quill.inicioConteudoAtual)&&void 0!==t?t:0,a=null!==(o=n+r.tamanho)&&void 0!==o?o:0;let s="",l="";if(e.index===n)s="",l=r.html;else if(e.index===a)s=r.html,l="";else{const t=a-e.index;s=this.quill.getConteudoHtmlParteLinha(r,0,r.tamanho-t),l=this.quill.getConteudoHtmlParteLinha(r,e.index-n,t)}const u=this.criarElemento(i.uuid,i.tipo,s,i.numero,i.hierarquia);if(this.isDesmembramento(r.htmlAnt,s,l)){const e=this.criarElemento(i.uuid,i.tipo,s+l,i.numero,i.hierarquia);bc.dispatch(Dn.execute(e))}bc.dispatch(wn.execute(u,l))}async renumerarElemento(){var e,t;const o=this.quill.linhaAtual,i=o.blotConteudo.html,r=this.criarElemento(null!==(e=o.uuid)&&void 0!==e?e:0,null!==(t=o.tipo)&&void 0!==t?t:"","",o.numero,o.hierarquia,o.descricaoSituacao);if(!(e=>{var t,o;return void 0!==(null===(o=null===(t=e.hierarquia)||void 0===t?void 0:t.pai)||void 0===o?void 0:o.uuidAlteracao)&&e.descricaoSituacao!==La.DISPOSITIVO_ORIGINAL})(r))return;const n=document.createElement("elix-dialog"),a=document.createRange().createContextualFragment('\n      <div style="padding: 15px; text-align: center">\n        <div>\n          Numerao do dispositivo:\n          <input type="text" style="width: 60px">\n        </div>\n        <div class="erro" style="margin-top: 10px; color: red; display: none;"></div>\n        <div style="margin-top: 10px;">\n          <button>Ok</button>\n          <button>Cancelar</button>\n        </div>\n      </div>\n    '),s=a.querySelector("input");var l;s.value=`${l=o.blotRotulo.rotulo,l.replace(/\./g,"").replace(/["]/g,"").replace(/^Parte$/i,"").replace(/^Livro$/i,"").replace(/^Titulo$/i,"").replace(/^Capitulo$/i,"").replace(/^Secao$/i,"").replace(/^Subsecao$/i,"").replace(/^Artigo$/i,"").replace(/^Paragrafo$/i,"").replace(/^Inciso$/i,"").replace(/^Alinea$/i,"").replace(/^Item$/i,"").replace(/Art/i,"").replace(//i,"").replace(//i,"").replace(/[]/i,"").replace(/[-][/s]*$/,"").replace(/[)][/s]*$/,"").trim()}`;const u=a.querySelectorAll("button"),c=u[0],d=u[1],p=a.querySelector(".erro");c.onclick=()=>{var e;this.quill.focus(),n.close(),(null===(e=r.conteudo)||void 0===e?void 0:e.texto)!==i&&(r.conteudo.texto=i,bc.dispatch(Dn.execute(r))),bc.dispatch(Gn.execute(r,s.value.trim()))},d.onclick=()=>{this.quill.focus(),n.close()};const h=()=>{const e=s.value;return/^\s*$/.test(e)?"A numerao no pode ser vazia.":""};s.onkeyup=e=>{const t=h();p.innerText=t,p.style.display=t?"block":"none",c.disabled=Boolean(t),c.disabled||"Enter"===e.key&&c.click()},n.appendChild(a),c.disabled=Boolean(h()),await n.open()}removerElemento(){const e=this.quill.linhaAtual,t=`Voc realmente deseja remover o dispositivo ${e.blotRotulo.rotulo}`;this.confirmar(t,["Sim","No"],(t=>{var o,i;const r=t.detail.closeResult;if("Sim"===(r&&r.choice)){const t=this.criarElemento(null!==(o=e.uuid)&&void 0!==o?o:0,null!==(i=e.tipo)&&void 0!==i?i:"","",e.numero,e.hierarquia);bc.dispatch(Hn.execute(t))}this.quill.focus()}))}moverElemento(e){const t=this.quill.linhaAtual,o=t.blotConteudo.html,i=this.criarElemento(t.uuid,t.tipo,o,t.numero,t.hierarquia);"ArrowUp"===e.key?bc.dispatch(zn.execute(i)):"ArrowDown"===e.key&&bc.dispatch(Fn.execute(i))}transformarElemento(e){const t=this.quill.linhaAtual,o=t.blotConteudo.html,i=this.criarElemento(t.uuid,t.tipo,o,t.numero,t.hierarquia);"a"===e.key.toLowerCase()?bc.dispatch(Ec(i,yn.artigo.name)):"l"===e.key.toLowerCase()?bc.dispatch(Ec(i,yn.alinea.name)):"n"===e.key.toLowerCase()?bc.dispatch(Ec(i,yn.inciso.name)):"o"===e.key.toLowerCase()?bc.dispatch(Ec(i,yn.omissis.name)):"p"===e.key.toLowerCase()?bc.dispatch(Ec(i,yn.paragrafo.name)):"t"===e.key.toLowerCase()?bc.dispatch(Ec(i,yn.item.name)):Uc.keys.TAB&&bc.dispatch(e.shiftKey?{type:"SHIFT_TAB",atual:i}:(e=>({type:"TAB",atual:e}))(i))}elementoSelecionado(e){var t;const o=this.quill.linhaAtual,i=this.criarElemento(e,null!==(t=o.tipo)&&void 0!==t?t:"","",o.numero,o.hierarquia);bc.dispatch(jn.execute(i)),this.quill.processandoMudancaLinha=!1}undoRedoEstrutura(e){"undo"===e?bc.dispatch({type:"UNDO"}):bc.dispatch({type:"REDO"})}processarStateEvents(e){null==e||e.forEach((e=>{var t;switch(e.stateType){case Du.DocumentoCarregado:this.destroiQuill(),this.inicializar(this.configEditor()),this.carregarArticulacao(null!==(t=e.elementos)&&void 0!==t?t:[]);break;case Du.InformarNorma:td(e.elementos[0],this.quill,bc,qn);break;case Du.ElementoIncluido:this.inserirNovoElementoNoQuill(e.elementos[0],e.referencia),this.inserirNovosElementosNoQuill(e);break;case Du.ElementoModificado:case Du.ElementoSuprimido:case Du.ElementoRestaurado:this.atualizarQuill(e);break;case Du.ElementoRemovido:this.removerLinhaQuill(e);break;case Du.ElementoRenumerado:this.renumerarQuill(e);break;case Du.ElementoValidado:this.atualizarMensagemQuill(e);break;case Du.ElementoSelecionado:this.montarMenuContexto(e),this.atualizarMensagemQuill(e)}this.quill.limparHistory()}))}processarEscolhaMenu(e){var t,o,i,r;if("Remover dispositivo"===e)this.removerElemento();else if(e===Gn.descricao)this.renumerarElemento();else{const n=this.quill.linhaAtual,a=this.criarElemento(null!==(t=n.uuid)&&void 0!==t?t:0,null!==(o=n.tipo)&&void 0!==o?o:"","",n.numero,n.hierarquia);a.conteudo.texto=null!==(i=n.blotConteudo.html)&&void 0!==i?i:"",bc.dispatch((r=e,wl.filter((e=>e.descricao===r.trim()))[0]).execute(a))}}inserirNovoElementoNoQuill(e,t){const o=this.quill.getLinha(t.uuid);if(o){const t=ed.criarContainerLinha(e);if(o.next?t.insertInto(this.quill.scroll,o.next):t.insertInto(this.quill.scroll),""!==this.quill.linhaAtual.blotConteudo.html||""===t.blotConteudo.html){this.quill.desmarcarLinhaAtual(this.quill.linhaAtual),this.quill.marcarLinhaAtual(t);try{this.quill.setIndex(this.quill.getIndex(t.blotConteudo),Quill.sources.SILENT)}catch(e){console.log(e)}}else this.quill.linhaAtual.blotConteudo.htmlAnt=this.quill.linhaAtual.blotConteudo.html;this.quill.linhaAtual.descricaoSituacao=e.descricaoSituacao,this.quill.linhaAtual.setEstilo(e.descricaoSituacao)}this.dispatchEvent(new CustomEvent("onChange",{bubbles:!0,composed:!0,detail:{eventType:Du.ElementoIncluido,elemento:e,referencia:t}}))}inserirNovosElementosNoQuill(e){var t;const o=null!==(t=e.elementos)&&void 0!==t?t:[];for(let e=1;e<o.length;e++)this.inserirNovoElementoNoQuill(o[e],o[e-1])}atualizarQuill(e){var t;const o=null!==(t=e.elementos)&&void 0!==t?t:[];let i;o.map((e=>{var t,o,r,n,a;if(i=this.quill.getLinha(null!==(t=e.uuid)&&void 0!==t?t:0,i),i){let t=!1;e.editavel!==i.editavel&&(i.editavel=e.editavel),e.rotulo!==i.blotRotulo.html&&(i.numero=null!==(o=e.numero)&&void 0!==o?o:"",i.blotRotulo.format(Sc.blotName,e.rotulo)),e.nivel!==i.nivel&&(i.nivel=e.nivel,i.format(Rc.blotName,e),t=!0),e.agrupador!==i.agrupador&&(i.agrupador=e.agrupador,i.blotRotulo.format(Sc.formatoStyle,e),t||i.format(Rc.blotName,e)),(null===(r=e.conteudo)||void 0===r?void 0:r.texto)!==i.blotConteudo.html&&(i.blotConteudo.html=null!==(a=null===(n=e.conteudo)||void 0===n?void 0:n.texto)&&void 0!==a?a:""),e.descricaoSituacao!==i.descricaoSituacao&&(i.descricaoSituacao=e.descricaoSituacao,i.setEstilo(e.descricaoSituacao)),2===i.children.length&&i.children.tail.remove(),e.mensagens&&e.mensagens.length>0&&ed.criarContainerMensagens(e).insertInto(i)}})),this.dispatchEvent(new CustomEvent("onChange",{bubbles:!0,composed:!0,detail:{eventType:Du.ElementoModificado,elementos:o}}))}removerLinhaQuill(e){var t;const o=null!==(t=e.elementos)&&void 0!==t?t:[];let i;o.forEach((e=>{var t;i=this.quill.getLinha(null!==(t=e.uuid)&&void 0!==t?t:0,i),i&&i.remove()}));const r=this.quill.getLine(this.quill.getSelection(!0).index)[0].linha,n=this.quill.getIndex(r.blotConteudo);this.quill.setSelection(n,0,Quill.sources.SILENT),this.quill.marcarLinhaAtual(r),this.dispatchEvent(new CustomEvent("onChange",{bubbles:!0,composed:!0,detail:{eventType:Du.ElementoRemovido,elementos:o}}))}renumerarQuill(e){var t;let o;(null!==(t=e.elementos)&&void 0!==t?t:[]).map((e=>{var t;o=this.quill.getLinha(null!==(t=e.uuid)&&void 0!==t?t:0,o),o&&o.blotRotulo.format(Sc.blotName,e.rotulo)}))}atualizarMensagemQuill(e){var t;let o;(null!==(t=e.elementos)&&void 0!==t?t:[]).map((e=>{var t;o=this.quill.getLinha(null!==(t=e.uuid)&&void 0!==t?t:0,o),o&&(2===(null==o?void 0:o.children.length)&&o.children.tail.remove(),e.mensagens&&e.mensagens.length>0&&ed.criarContainerMensagens(e).insertInto(o))}))}montarMenuContexto(e){var t;const o=e.elementos?e.elementos[0]:new xc,i=(null!==(t=null==o?void 0:o.acoesPossiveis)&&void 0!==t?t:[]).filter((e=>_l(e)));if(i.length>0){const e=new Nc,t=new Ic,o=e=>{this.processarEscolhaMenu(e),this.quill.focus()};(new Pc).insertInto(e),i.forEach((e=>{new Tc(e,o).insertInto(t)})),t.insertInto(e),this.quill.linhaAtual.blotContainerDireito.remove(),e.insertInto(this.quill.linhaAtual.containerDireito)}}criarElemento(e,t,o,i,r,n){const a=new xc;return a.uuid=e,a.tipo=t,a.numero=i,a.conteudo={texto:o},a.hierarquia=r,a.descricaoSituacao=n,a}inicializar(e){const t=this.getHtmlElement("lx-eta-editor"),o=this.getHtmlElement("lx-eta-buffer");Jc.configurar(),this._quill=new Jc(t,o,e),this.quill.on("selection-change",this.onSelectionChange),this.inscricoes.push(this.quill.keyboard.operacaoTecladoInvalida.subscribe(this.onOperacaoInvalida.bind(this))),this.inscricoes.push(this.quill.keyboard.adicionaElementoTeclaEnter.subscribe(this.adicionarElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.moveElemento.subscribe(this.moverElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.removeElemento.subscribe(this.removerElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.renumeraElemento.subscribe(this.renumerarElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.transformaElemento.subscribe(this.transformarElemento.bind(this))),this.inscricoes.push(this.quill.undoRedoEstrutura.subscribe(this.undoRedoEstrutura.bind(this))),this.inscricoes.push(this.quill.elementoSelecionado.subscribe(this.elementoSelecionado.bind(this)))}carregarArticulacao(e){setTimeout((()=>{this.quill.getLine(0)[0].remove(),e.map((e=>{ed.criarContainerLinha(e).insertInto(this.quill.scroll),e.tipo===yn.generico.tipo&&bc.dispatch(Ea.execute(e))})),this.quill.limparHistory(),setTimeout((()=>{const t=this.quill.getLinha(e[1].uuid);this.quill.setSelection(this.quill.getIndex(null==t?void 0:t.blotConteudo),0,Quill.sources.USER)}),0)}),0)}configEditor(){return{modules:{toolbar:{container:"#lx-eta-barra-ferramenta",handlers:{bold:this.onBold.bind(this),italic:this.onItalic.bind(this),script:this.onScript.bind(this)}},history:{delay:0,maxStack:500,userOnly:!0}},theme:"snow"}}async confirmar(e,t,o){const i=document.createElement("elix-alert-dialog");i.textContent=e,i.choices=t,i.addEventListener("close",o),await i.open()}alertar(e){const t=this.querySelector("#toast-alerta");this.querySelector("#toast-msg").innerHTML=e,t.fromEdge="top",t.open()}quillNaoInicializado(e){var t;let o=[];const i=e=>{setTimeout((()=>{this.quill?this.carregarArticulacao(e):i(e)}),70)};if(e.elementoReducer.ui){o=null!==(t=e.elementoReducer.ui.events.find((e=>e.stateType===Du.DocumentoCarregado)).elementos)&&void 0!==t?t:[]}i(o)}getHtmlElement(e){return this.querySelector(`#${e}`)}destroiQuill(){this.getHtmlElement("lx-eta-editor").innerHTML="",this.getHtmlElement("lx-eta-buffer").innerHTML="",this.quill&&(this.quill.off("selection-change",this.onSelectionChange),this.quill.destroi()),this._quill=void 0}};rd=cn([K("lexml-eta-editor")],rd);const nd=new WeakMap,ad=(sd=e=>t=>{if(!(t instanceof A))throw new Error("unsafeHTML can only be used in text bindings");const o=nd.get(t);if(void 0!==o&&w(e)&&e===o.value&&t.value===o.fragment)return;const i=document.createElement("template");i.innerHTML=e;const r=document.importNode(i.content,!0);t.setValue(r),nd.set(t,{value:e,fragment:r})},(...e)=>{const t=sd(...e);return h.set(t,!0),t});var sd;let ld,ud,cd,dd,pd=e=>e,hd=class extends oe{constructor(){super(...arguments),this.htmlAgrupador=()=>{var e,t,o;return j(ld||(ld=pd`<p class="rotulo">${0}</p> <p class="texto-agrupador">${0}</p>`),this.elemento.rotulo,ad(null!==(o=null===(t=null===(e=this.elemento)||void 0===e?void 0:e.conteudo)||void 0===t?void 0:t.texto)&&void 0!==o?o:""))},this.htmlDispositivo=()=>{var e,t,o;return j(ud||(ud=pd` <p class="texto" style="${0}"> <span class="rotulo">${0}</span> ${0} </p> `),`padding-left: ${20*this.elemento.nivel}px;`,this.elemento.rotulo,ad(null!==(o=null===(t=null===(e=this.elemento)||void 0===e?void 0:e.conteudo)||void 0===t?void 0:t.texto)&&void 0!==o?o:""))}}render(){return j(cd||(cd=pd` <div class="box"> <div class="conteudo">${0}</div> </div> `),this.elemento.agrupador?this.htmlAgrupador():this.htmlDispositivo())}};hd.styles=ee(dd||(dd=pd`:host{display:block;padding:0;margin:0;font-family:Arial,sans-serif,'Open Sans',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-size:1.1em;line-height:1.2;color:#9d9d9d;text-transform:none!important}p.rotulo{margin:5px!important;color:#4a4a4a;text-align:center}p.texto{margin:5px!important}p.texto-agrupador{margin:5px!important;text-align:center}span.rotulo{color:#4a4a4a;font-weight:bolder}`)),cn([X({type:Object})],hd.prototype,"elemento",void 0),hd=cn([K("lexml-eta-elemento")],hd);const fd={name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"LexML",prefix:"",key:"{http://www.lexml.gov.br/1.0}LexML",string:"{http://www.lexml.gov.br/1.0}LexML"},value:{TYPE_NAME:"br_gov_lexml__1.LexML",metadado:{TYPE_NAME:"br_gov_lexml__1.Metadado",identificacao:{TYPE_NAME:"br_gov_lexml__1.Identificacao",urn:""}},projetoNorma:{TYPE_NAME:"br_gov_lexml__1.ProjetoNorma",norma:{TYPE_NAME:"br_gov_lexml__1.HierarchicalStructure",parteInicial:{TYPE_NAME:"br_gov_lexml__1.ParteInicial",epigrafe:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"epigrafe",content:[""]},ementa:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"ementa",content:[""]},preambulo:{TYPE_NAME:"br_gov_lexml__1.TextoType",id:"preambulo",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:[""]}]}},articulacao:{TYPE_NAME:"br_gov_lexml__1.Articulacao",lXhier:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1",rotulo:"Art. 1",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:[""]}]}}]}}]}}}}};let md,vd=e=>e,gd=class extends(dn(bc)(oe)){constructor(){super(...arguments),this.modo="",this.projetoNorma={}}createRenderRoot(){return this}update(e){var t,o;this.projetoNorma&&this.projetoNorma.name||(this.projetoNorma=fd),bc.dispatch((t=this.projetoNorma,o=this.modo,{type:"ABRIR_ARTICULACAO",documento:t,nomeAcao:o})),super.update(e)}render(){return j(md||(md=vd` <style>#gtx-trans{display:none}lexml-eta-articulacao{display:block;height:100%}lexml-eta-articulacao:focus{outline:0;border:0 solid #f1f1f1;-webkit-box-shadow:0;box-shadow:none}</style> <lexml-eta-articulacao></lexml-eta-articulacao> `))}};cn([X({type:String})],gd.prototype,"modo",void 0),cn([X({type:Object})],gd.prototype,"projetoNorma",void 0),gd=cn([K("lexml-eta")],gd);let bd,yd,_d=e=>e,wd=class extends oe{render(){return j(bd||(bd=_d` <div class="lx-eta-help"> <button class="lx-eta-helpbtn">&quest;</button> <div class="lx-eta-help-content"> <div><b>ctrl-shift-a</b>&nbsp;-&nbsp;Seleciona o texto do dispositivo atual</div> <div><b>ctrl-a</b>&nbsp;-&nbsp;Seleciona todos os dispositivos da articulao</div> <div><b>ctrl-home</b>&nbsp;-&nbsp;Vai para o primeiro dispositivo</div> <div><b>ctrl-end</b>&nbsp;-&nbsp;Vai para o ltimo dispositivo</div> <div><b>ctrl-&uarr;</b>&nbsp;-&nbsp;Move o dispositivo acima</div> <div><b>ctrl-&darr;</b>&nbsp;-&nbsp;Move o dispositivo abaixo</div> <hr> <div><b>enter</b>&nbsp;-&nbsp;Finaliza a edio do dispositivo atual e cria um novo</div> <div><b>ctrl-d</b>&nbsp;-&nbsp;Remove dispositivo atual</div> <div><b>ctrl-z</b>&nbsp;-&nbsp;Desfaz ultima alterao</div> <div><b>ctrl-y</b>&nbsp;-&nbsp;Refaz alterao</div> <hr> <div><b>ctrl-alt-A</b>&nbsp;-&nbsp;Transforma o dispositivo em artigo</div> <div><b>ctrl-alt-L</b>&nbsp;-&nbsp;Transforma o dispositivo em alnea</div> <div><b>ctrl-alt-N</b>&nbsp;-&nbsp;Transforma o dispositivo em inciso</div> <div><b>ctrl-alt-O</b>&nbsp;-&nbsp;Transforma o dispositivo em omissis</div> <div><b>ctrl-alt-P</b>&nbsp;-&nbsp;Transforma o dispositivo em pargrafo</div> <div><b>ctrl-alt-T</b>&nbsp;-&nbsp;Transforma o dispositivo em item</div> <div><b>tab</b>&nbsp;-&nbsp;Indenta para a direita o dispositivo, transformando-o no tipo mais provvel</div> <div><b>shift-tab</b>&nbsp;-&nbsp;Recua o dispositivo para a esquerda, transformando-o no tipo mais provvel</div> <hr> <div><b>ctrl-alt-R</b>&nbsp;-&nbsp;Renumera o dispositivo</div> </div> </div> `))}};wd.styles=ee(yd||(yd=_d`:host{position:relative;display:inline-block}.lx-eta-helpbtn{background-color:#fff;color:#000;width:26px;height:22px;font-size:1.1em;font-weight:700;vertical-align:middle;border:none;cursor:pointer;text-align:center}.lx-eta-help-content{display:none;position:absolute;right:0;background-color:#f9f9f9;box-shadow:0 4px 4px 4px rgba(0,0,0,.25);z-index:1}.lx-eta-help-content div{color:#000;padding:2px 5px;text-decoration:none;display:block;white-space:nowrap;font-size:.8em;font-weight:400!important;text-align:left}.lx-eta-help:hover .lx-eta-help-content{display:block}`)),wd=cn([K("lexml-eta-help")],wd);const xd={name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"LexML",prefix:"",key:"{http://www.lexml.gov.br/1.0}LexML",string:"{http://www.lexml.gov.br/1.0}LexML"},value:{TYPE_NAME:"br_gov_lexml__1.LexML",metadado:{TYPE_NAME:"br_gov_lexml__1.Metadado",identificacao:{TYPE_NAME:"br_gov_lexml__1.Identificacao",urn:"urn:lex:br:federal:medida.provisoria:2019-06-17;885"}},projetoNorma:{TYPE_NAME:"br_gov_lexml__1.ProjetoNorma",norma:{TYPE_NAME:"br_gov_lexml__1.HierarchicalStructure",parteInicial:{TYPE_NAME:"br_gov_lexml__1.ParteInicial",epigrafe:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"epigrafe",content:["MEDIDA PROVISRIA N 885, DE 17 DE JUNHO DE 2019"]},ementa:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"ementa",content:["Altera a ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:1986-12-19;7560",content:["Lei n 7.560, de 19 de dezembro de 1986"]}},", para alterar disposies acerca do Fundo Nacional Antidrogas, a ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:2006-08-23;11343",content:["Lei n 11.343, de 23 de agosto de 2006"]}},", que estabelece normas para represso  produo no autorizada e ao trfico ilcito de drogas, e a ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:1993-12-09;8745",content:["Lei n 8.745, de 9 de dezembro de 1993"]}},", que dispe sobre a contratao por tempo determinado para atender a necessidade temporria de excepcional interesse pblico."]},preambulo:{TYPE_NAME:"br_gov_lexml__1.TextoType",id:"preambulo",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n O PRESIDENTE DA REPBLICA, no uso da atribuio que lhe confere o art. 62 da Constituio, adota a seguinte Medida Provisria, com fora de lei:\n "]}]}},articulacao:{TYPE_NAME:"br_gov_lexml__1.Articulacao",lXhier:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1",rotulo:"Art. 1",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n A ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:1986-12-19;7560",content:["Lei n 7.560, de 19 de dezembro de 1986"]}},", passa a vigorar com as seguintes alteraes:\n "]}],alteracao:{TYPE_NAME:"br_gov_lexml__1.Alteracao",base:"urn:lex:br:federal:lei:1986-12-19;7560",id:"art1_cpt_alt1",content:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art1",id:"art1_cpt_alt1_art1",abreAspas:"s",rotulo:"Art. 1",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art1_cpt",id:"art1_cpt_alt1_art1_cpt",fechaAspas:"s",notaAlteracao:"NR",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Fica institudo, no mbito do Ministrio da Justia e Segurana Pblica, o Fundo Nacional Antidrogas - Funad, a ser gerido pela Secretaria Nacional de Polticas sobre Drogas do Ministrio da Justia e Segurana Pblica.\n "]}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art2",id:"art1_cpt_alt1_art2",abreAspas:"s",rotulo:"Art. 2",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art2_cpt",id:"art1_cpt_alt1_art2_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Constituiro recursos do Funad:\n "]}],lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art1_cpt_alt1_art2_cpt_omi1"}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art2_cpt_inc7",id:"art1_cpt_alt1_art2_cpt_inc7",rotulo:"VII ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n rendimentos de qualquer natureza decorrentes de aplicao do patrimnio do Funad, includos os auferidos como remunerao.\n "]}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art1_cpt_alt1_art2_omi1",fechaAspas:"s",notaAlteracao:"NR"}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art5",id:"art1_cpt_alt1_art5",abreAspas:"s",rotulo:"Art. 5",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art5_cpt",id:"art1_cpt_alt1_art5_cpt",textoOmitido:"s"}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art1_cpt_alt1_art5_omi1"}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art5_par1",id:"art1_cpt_alt1_art5_par1",rotulo:" 1",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Sero disponibilizados para as polcias estaduais e distrital, responsveis pela apreenso a que se refere o art. 4, percentual de vinte a quarenta por cento dos recursos provenientes da alienao dos respectivos bens, a ttulo de transferncia voluntria, desde que:\n "]}],lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art5_par1_inc1",id:"art1_cpt_alt1_art5_par1_inc1",rotulo:"I ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n demonstrem a existncia de estruturas orgnicas destinadas  gesto de ativos apreendidos nas unidades federativas, capazes de auxiliar no controle e na alienao de bens apreendidos e na efetivao de suas destinaes; e\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art5_par1_inc2",id:"art1_cpt_alt1_art5_par1_inc2",rotulo:"II ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n estejam regulares com o fornecimento dos dados estatsticos previstos no ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:2006-08-23;11343!art17",content:["art. 17 da Lei n 11.343, de 23 de agosto de 2006"]}},".\n "]}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art5_par2",id:"art1_cpt_alt1_art5_par2",rotulo:" 2",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Os critrios e as condies que devero ser observados na aplicao dos recursos a serem destinados na forma prevista no  1 e o instrumento especfico de adeso para viabilizar a transferncia voluntria e os instrumentos de fiscalizao sero estabelecidos em regulamento especfico do Ministrio da Justia e Segurana Pblica.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art5_par3",id:"art1_cpt_alt1_art5_par3",rotulo:" 3",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Sero disponibilizados para a Polcia Federal e a Polcia Rodoviria Federal do Ministrio da Justia e Segurana Pblica, responsveis pela apreenso a que se refere o art. 4, percentual de at quarenta por cento dos recursos provenientes da alienao dos respectivos bens.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art5_par4",id:"art1_cpt_alt1_art5_par4",fechaAspas:"s",notaAlteracao:"NR",rotulo:" 4",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n O percentual a que se refere o  3 ser definido em regulamento especfico do Ministrio da Justia e Segurana Pblica, que tambm dispor sobre os critrios e as condies que devero ser observados na sua aplicao.\n "]}]}}]}}]}}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art2",rotulo:"Art. 2",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art2_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n A ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:2006-08-23;11343",content:["Lei n 11.343, de 23 de agosto de 2006"]}},", passa a vigorar com as seguintes alteraes:\n "]}],alteracao:{TYPE_NAME:"br_gov_lexml__1.Alteracao",base:"urn:lex:br:federal:lei:2006-08-23;11343",id:"art2_cpt_alt1",content:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art60-1",id:"art2_cpt_alt1_art60-1",abreAspas:"s",rotulo:"Art. 60-A.",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art60-1_cpt",id:"art2_cpt_alt1_art60-1_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Quando as medidas assecuratrias de que trata o art. 60 recarem sobre moeda estrangeira, ttulos, valores mobilirios ou cheques emitidos como ordem de pagamento, ser determinada, imediatamente, a converso em moeda nacional.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art60-1_par1",id:"art2_cpt_alt1_art60-1_par1",rotulo:" 1",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n A moeda estrangeira apreendida em espcie ser encaminhada a instituio financeira ou equiparada para alienao na forma prevista pelo Conselho Monetrio Nacional.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art60-1_par2",id:"art2_cpt_alt1_art60-1_par2",rotulo:" 2",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Em caso de impossibilidade da alienao a que se refere o  1, a moeda estrangeira ser custodiada pela instituio financeira at deciso sobre o seu destino.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art60-1_par3",id:"art2_cpt_alt1_art60-1_par3",rotulo:" 3",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Aps a deciso sobre o destino da moeda estrangeira, caso seja verificada a inexistncia de valor de mercado, a moeda poder ser doada  representao diplomtica do seu pas de origem ou destruda.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art60-1_par4",id:"art2_cpt_alt1_art60-1_par4",fechaAspas:"s",notaAlteracao:"NR",rotulo:" 4",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Os valores relativos s apreenses feitas antes da data de entrada em vigor da ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:medida.provisoria:2019-06-17;885",content:["Medida Provisria n 885, de 17 de junho de 2019"]}},", e que estejam custodiados nas dependncias do Banco Central do Brasil sero transferidos, no prazo de trezentos e sessenta dias,  Caixa Econmica Federal para que se proceda  alienao ou custdia, de acordo com o previsto nesta Lei.\n "]}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62",id:"art2_cpt_alt1_art62",abreAspas:"s",rotulo:"Art. 62.",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62_cpt",id:"art2_cpt_alt1_art62_cpt",textoOmitido:"s"}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art2_cpt_alt1_art62_omi1"}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62_par12",id:"art2_cpt_alt1_art62_par12",rotulo:" 12.",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Na alienao de veculos, embarcaes ou aeronaves, a autoridade de trnsito ou o rgo de registro equivalente proceder  regularizao dos bens no prazo de trinta dias, de modo que o arrematante ficar livre do pagamento de multas, encargos e tributos anteriores, sem prejuzo de execuo fiscal em relao ao antigo proprietrio.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62_par13",id:"art2_cpt_alt1_art62_par13",fechaAspas:"s",notaAlteracao:"NR",rotulo:" 13.",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Na hiptese de que trata o  12, a autoridade de trnsito ou o rgo de registro equivalente poder emitir novos identificadores dos bens.\n "]}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62-1",id:"art2_cpt_alt1_art62-1",abreAspas:"s",rotulo:"Art. 62-A.",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62-1_cpt",id:"art2_cpt_alt1_art62-1_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n O depsito, em dinheiro, de valores referentes ao produto da alienao ou relacionados a numerrios apreendidos ou que tenham sido convertidos, sero efetuados na Caixa Econmica Federal, por meio de documento de arrecadao destinado a essa finalidade.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62-1_par1",id:"art2_cpt_alt1_art62-1_par1",rotulo:" 1",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Os depsitos a que se refere o caput sero repassados pela Caixa Econmica Federal para a Conta nica do Tesouro Nacional, independentemente de qualquer formalidade, no prazo de vinte e quatro horas, contado do momento da realizao do depsito.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62-1_par2",id:"art2_cpt_alt1_art62-1_par2",rotulo:" 2",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Na hiptese de absolvio do acusado em deciso judicial, o valor do depsito ser devolvido ao acusado pela Caixa Econmica Federal no prazo de at trs dias teis, acrescido de juros, na forma estabelecida pelo ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:1995-12-26;9250!art39_par4",content:[" 4 do art. 39 da Lei n 9.250, de 26 de dezembro de 1995"]}},".\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62-1_par3",id:"art2_cpt_alt1_art62-1_par3",rotulo:" 3",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Na hiptese de decretao do seu perdimento em favor da Unio, o valor do depsito ser transformado em pagamento definitivo, respeitados os direitos de eventuais lesados e de terceiros de boa-f.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62-1_par4",id:"art2_cpt_alt1_art62-1_par4",rotulo:" 4",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Os valores devolvidos pela Caixa Econmica Federal, por deciso judicial, sero efetuados como anulao de receita do Fundo Nacional Antidrogas no exerccio em que ocorrer a devoluo.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art62-1_par5",id:"art2_cpt_alt1_art62-1_par5",fechaAspas:"s",notaAlteracao:"NR",rotulo:" 5",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n A Caixa Econmica Federal manter o controle dos valores depositados ou devolvidos.\n "]}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3",id:"art2_cpt_alt1_art63-3",abreAspas:"s",rotulo:"Art. 63-C.",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_cpt",id:"art2_cpt_alt1_art63-3_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Compete  Secretaria Nacional de Polticas sobre Drogas do Ministrio da Justia e Segurana Pblica proceder  destinao dos bens apreendidos e no leiloados em carter cautelar, cujo perdimento seja decretado em favor da Unio, por meio das seguintes modalidades:\n "]}],lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_cpt_inc1",id:"art2_cpt_alt1_art63-3_cpt_inc1",rotulo:"I ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n alienao, mediante:\n "]}],lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Alinea",prefix:"",key:"{http://www.lexml.gov.br/1.0}Alinea",string:"{http://www.lexml.gov.br/1.0}Alinea"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_cpt_inc1_ali1",id:"art2_cpt_alt1_art63-3_cpt_inc1_ali1",rotulo:"a)",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n licitao;\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Alinea",prefix:"",key:"{http://www.lexml.gov.br/1.0}Alinea",string:"{http://www.lexml.gov.br/1.0}Alinea"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_cpt_inc1_ali2",id:"art2_cpt_alt1_art63-3_cpt_inc1_ali2",rotulo:"b)",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n doao com encargo a entidades ou rgos pblicos que contribuam para o alcance das finalidades do Fundo Nacional Antidrogas; ou\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Alinea",prefix:"",key:"{http://www.lexml.gov.br/1.0}Alinea",string:"{http://www.lexml.gov.br/1.0}Alinea"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_cpt_inc1_ali3",id:"art2_cpt_alt1_art63-3_cpt_inc1_ali3",rotulo:"c)",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n venda direta, observado o disposto no ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:1993-06-21;8666!art24_cpt_inc2",content:["inciso II do caput do art. 24 da Lei n 8.666, de 21 de junho de 1993"]}},";\n "]}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_cpt_inc2",id:"art2_cpt_alt1_art63-3_cpt_inc2",rotulo:"II ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n incorporao ao patrimnio de rgo da administrao pblica, observadas as finalidades do Fundo Nacional Antidrogas;\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_cpt_inc3",id:"art2_cpt_alt1_art63-3_cpt_inc3",rotulo:"III ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n destruio; ou\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_cpt_inc4",id:"art2_cpt_alt1_art63-3_cpt_inc4",rotulo:"IV ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n inutilizao.\n "]}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_par1",id:"art2_cpt_alt1_art63-3_par1",rotulo:" 1",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n A alienao por meio de licitao ser na modalidade leilo, para bens mveis e imveis, independentemente do valor de avaliao, isolado ou global, de bem ou de lotes, assegurada a venda pelo maior lance, por preo que no seja inferior a cinquenta por cento do valor da avaliao.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_par2",id:"art2_cpt_alt1_art63-3_par2",rotulo:" 2",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n O edital do leilo a que se refere o  1 ser amplamente divulgado em jornais de grande circulao e em stios eletrnicos oficiais, principalmente no Municpio em que ser realizado, dispensada a publicao em dirio oficial.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_par3",id:"art2_cpt_alt1_art63-3_par3",rotulo:" 3",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Nas alienaes realizadas por meio de sistema eletrnico da administrao pblica, a publicidade dada pelo sistema substituir a publicao em dirio oficial e em jornais de grande circulao.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_par4",id:"art2_cpt_alt1_art63-3_par4",rotulo:" 4",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Na alienao de veculos, embarcaes ou aeronaves, a autoridade de trnsito ou o rgo de registro equivalente proceder  regularizao dos bens no prazo de trinta dias, de modo que o arrematante ficar livre do pagamento de multas, encargos e tributos anteriores, sem prejuzo de execuo fiscal em relao ao antigo proprietrio.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_par5",id:"art2_cpt_alt1_art63-3_par5",rotulo:" 5",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Na hiptese do  4, a autoridade de trnsito ou o rgo de registro equivalente poder emitir novos identificadores dos bens.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_par6",id:"art2_cpt_alt1_art63-3_par6",rotulo:" 6",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n A Secretaria Nacional de Polticas sobre Drogas do Ministrio da Justia e Segurana Pblica poder celebrar convnios ou instrumentos congneres com rgos e entidades da Unio, dos Estados, do Distrito Federal ou dos Municpios, a fim de dar imediato cumprimento ao estabelecido neste artigo.\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-3_par7",id:"art2_cpt_alt1_art63-3_par7",fechaAspas:"s",notaAlteracao:"NR",rotulo:" 7",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Observados os procedimentos licitatrios previstos em lei, fica autorizada a contratao da iniciativa privada para a execuo das aes de avaliao, administrao e alienao dos bens a que se refere esta Lei.\n "]}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-4",id:"art2_cpt_alt1_art63-4",abreAspas:"s",rotulo:"Art. 63-D.",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art63-4_cpt",id:"art2_cpt_alt1_art63-4_cpt",fechaAspas:"s",notaAlteracao:"NR",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Compete ao Ministrio da Justia e Segurana Pblica regulamentar os procedimentos relativos  administrao,  preservao e  destinao dos recursos provenientes de delitos e atos ilcitos e estabelecer os valores abaixo dos quais se deve proceder  sua destruio ou inutilizao.\n "]}]}}]}}]}}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art3",rotulo:"Art. 3",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art3_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n A ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:1993-12-09;8745",content:["Lei n 8.745, de 9 de dezembro de 1993"]}},", passa a vigorar com as seguintes alteraes:\n "]}],alteracao:{TYPE_NAME:"br_gov_lexml__1.Alteracao",base:"urn:lex:br:federal:lei:1993-12-09;8745",id:"art3_cpt_alt1",content:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art2",id:"art3_cpt_alt1_art2",abreAspas:"s",rotulo:"Art. 2",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art2_cpt",id:"art3_cpt_alt1_art2_cpt",textoOmitido:"s",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art3_cpt_alt1_art2_cpt_omi1"}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art2_cpt_inc6",id:"art3_cpt_alt1_art2_cpt_inc6",textoOmitido:"s",rotulo:"VI ",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art3_cpt_alt1_art2_cpt_inc6_omi1"}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Alinea",prefix:"",key:"{http://www.lexml.gov.br/1.0}Alinea",string:"{http://www.lexml.gov.br/1.0}Alinea"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art2_cpt_inc6_ali14",id:"art3_cpt_alt1_art2_cpt_inc6_ali14",rotulo:"n)",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n que tenham o objetivo de atender a encargos temporrios de obras e servios de engenharia destinados  construo,  reforma,  ampliao e ao aprimoramento de estabelecimentos penais;\n "]}]}}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art3_cpt_alt1_art2_omi1",fechaAspas:"s",notaAlteracao:"NR"}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art4",id:"art3_cpt_alt1_art4",abreAspas:"s",rotulo:"Art. 4",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art4_cpt",id:"art3_cpt_alt1_art4_cpt",textoOmitido:"s",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art3_cpt_alt1_art4_cpt_omi1"}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art4_cpt_inc5",id:"art3_cpt_alt1_art4_cpt_inc5",rotulo:"V ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:['\n 4 (quatro) anos, nos casos do inciso V e das alneas "a", "g", "i", "j" e "n" do inciso VI do caput do art. 2.\n ']}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Paragrafo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Paragrafo",string:"{http://www.lexml.gov.br/1.0}Paragrafo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art4_par1u",id:"art3_cpt_alt1_art4_par1u",textoOmitido:"s",rotulo:"Pargrafo nico.",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art3_cpt_alt1_art4_par1u_omi1"}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",href:"art4_par1u_inc3",id:"art3_cpt_alt1_art4_par1u_inc3",rotulo:"III ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:['\n nos casos do inciso V, das alneas "a", "h", "l", "m" e "n" do inciso VI e do inciso VIII do caput do art. 2, desde que o prazo total no exceda a 4 (quatro) anos;\n ']}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Omissis",prefix:"",key:"{http://www.lexml.gov.br/1.0}Omissis",string:"{http://www.lexml.gov.br/1.0}Omissis"},value:{TYPE_NAME:"br_gov_lexml__1.Omissis",id:"art3_cpt_alt1_art4_omi1",fechaAspas:"s",notaAlteracao:"NR"}}]}}]}}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art4",rotulo:"Art. 4",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art4_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Ficam revogados:\n "]}],lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art4_cpt_inc1",rotulo:"I ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n o ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:1986;7560!art5_par1",content:["pargrafo nico do art. 5 da Lei n 7.560, de 1986"]}},"; e\n "]}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Inciso",prefix:"",key:"{http://www.lexml.gov.br/1.0}Inciso",string:"{http://www.lexml.gov.br/1.0}Inciso"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art4_cpt_inc2",rotulo:"II ",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n o ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:2006;11343!art61_par6",content:[" 6"]}},", o ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:2006;11343!art61_par7",content:[" 7"]}}," e o ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:2006;11343!art61_par8",content:[" 8 do art. 61"]}},", o ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:2006;11343!art62_par1",content:[" 1 do art. 62"]}}," e o ",{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:"urn:lex:br:federal:lei:2006;11343!art63_par3",content:[" 3 do art. 63 da Lei n 11.343, de 2006"]}},".\n "]}]}}]}}]}},{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art5",rotulo:"Art. 5",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art5_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:["\n Esta Medida Provisria entra em vigor na data de sua publicao.\n "]}]}}]}}]}}}}};let Ed,Od,Ad=e=>e;customElements.define("demo-view",class extends oe{static get properties(){return{projetoNorma:{type:String},modo:{type:String}}}createRenderRoot(){return this}constructor(){super(),this.projetoNorma="novo",this.modo="edicao"}onChangeDocumento(){const e=this.querySelector("#projetoNorma");let t=this.querySelector("#modo");"novo"===e.value?(t.value="edicao",this.querySelector("#emenda").disabled=!0):(t.value="emenda",this.querySelector("#emenda").disabled=!1)}executar(){const e=this.querySelector("#modo"),t=this.querySelector("#projetoNorma");t&&e&&setTimeout((()=>{this.modo=e.value,this.projetoNorma=t.value}),0)}onChange(e){console.log("EVENTO",e.detail.eventType||"*",e)}render(){return j(Ed||(Ed=Ad` <div style="padding:10px"> <span style="font-size:1em">ETA - Editor de Texto de Articulao</span> <select id="projetoNorma" @change="${0}"> <option value="novo">Nova articulao</option> <option value="mpv_alteracao">Mpv</option> </select> <select id="modo"> <option value="emenda" id="emenda" selected="${0}" disabled="${0}">Emenda</option> <option value="edicao" selected="${0}">Edio</option> </select> <input type="button" value="Ok" @click="${0}"> </div> <lexml-eta @onChange="${0}" modo="${0}" projetoNorma="${0}"> </lexml-eta> `),this.onChangeDocumento,"mpv_alteracao"===this.projetoNorma,"novo"===this.projetoNorma,"novo"===this.projetoNorma,this.executar,this.onChange,this.modo,"mpv_alteracao"===this.projetoNorma?JSON.stringify(xd):"{}")}}),D(j(Od||(Od=Ad`<demo-view></demo-view>`)),document.querySelector("#demo"));
